313916,A,"Custom Cursor in a Swing JDialog I have a Java Swing application developed on Mac OS X 10.5 using Java 1.5. I'm trying to make a custom cursor appear when the user moves the mouse over some text in a dialog. The cursor never changes though. When I don't use a JFrame instead of a JDialog the cursor does change. But then I'll have to write all the dialog code myself. How can I get the cursor to appear? Here's the simplest code I could create to demonstrate the problem: import javax.swing.*; import java.awt.*; public class CursorTest { public static void main(String[] args) { JLabel label = new JLabel(""Move mouse here for hand cursor""); label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR)); JOptionPane pane = new JOptionPane(label); pane.setOptions(new Object[]{""OK""}); JDialog dialog = pane.createDialog(null ""Test Dialog""); dialog.setVisible(true); } } Looks like it is a bug in Java 1.5: I first tried with Java 1.6.0_07 and it worked as expected (on Windows XP). Then I recompiled with Java 1.5.0_06 and indeed the cursor remains in default state. Knowing the difficulties of Java 1.6 on MacOS I see it will be hard to fix that... Bug ID: 5079694 JDialog doesn't respect setCursor They give a workaround... [EDIT] Tested workaround: public class CursorTest extends JFrame { private CursorTest() { } private void ShowDialog() { JLabel label = new JLabel(""Move mouse here for hand cursor""); label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR)); JOptionPane pane = new JOptionPane(label); pane.setOptions(new Object[] { ""OK"" } ); JDialog dialog = pane.createDialog(this ""Test Dialog""); dialog.setVisible(true); } public static void main(String[] args) { SwingUtilities.invokeLater(new Runnable() { public void run() { CursorTest testFrame = new CursorTest(); testFrame.setTitle(""Test GUI""); testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); testFrame.setSize(500 300); testFrame.setVisible(true); testFrame.ShowDialog(); } }); } } Works fine with my JDK & system.  Thanks PhiLho that Sun bug report gave me the solution. The owner (parent frame) must be non-null and showing. For the record here's a modified version of my example code that does show a hand cursor. import javax.swing.*; import java.awt.*; public class CursorTest { public static void main(String[] args) { JLabel label = new JLabel(""Move mouse here for hand cursor""); label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR)); JOptionPane pane = new JOptionPane(label); pane.setOptions(new Object[]{""OK""}); JFrame parent = new JFrame(); parent.setVisible(true); JDialog dialog = pane.createDialog(parent ""Test Dialog""); dialog.setModal(false); dialog.setVisible(true); } } non null? What variable that you gave a null anyway? ~ sorry I'm trying to understand ur thread... :(",java swing jdialog joptionpane custom-cursor71842,A,"How can I detect from a Swing app that the PC is being shut-down? Well behaved windows programs need to allow users to save their work when they are shutting the PC down. How can I make my app detect the shutdown event? Any solution should allow the user to abort the shutdown if user selects say ""Cancel"". The normal Swing window closing hook doesn't work nor does adding a shutdown hook. On testing the methods of WindowListener (windowClosingwindowClosed etc) do not get called. The answer I have accepted requires the use of platform specific code (JNI to register for WM_QUERYENDSESSION ). Isn't this a bug on Swing? See http://forums.sun.com/thread.jspa?threadID=481807&messageID=2246870 Are you using the shutdown hook from java.lang.runtime ? Write some JNI code to WM_QUERYENDSESSION message. You can get details for this from the MSDN documentation or by googling it. If you don't want to write too much C++ code to do this I can recommend the JNA library click here. Which gives you some nice Java abstractions for C code.  Look for signal handling in java. when Windows closes it will send a signal to the application asking it to terminate most likely a sigterm see here for more about this (I am not the owner of the website)  The above seems to be the better answer. I can't find any good information on detecting window shutdown events. I guess the best possible method would be to detect weather your application is trying to close using a window closing event or the like then ask the question. http://www.javalobby.org/java/forums/t17933  how-do-i-get-my-java-application-to-shutdown-nicely-in-windows That might be of help",java swing operating-system149153,A,"Loading animated gif from JAR file into ImageIcon I'm trying to create a ImageIcon from a animated gif stored in a jar file. ImageIcon imageIcon = new ImageIcon(ImageIO.read(MyClass.class.getClassLoader().getResourceAsStream(""animated.gif""))); The image loads but only the first frame of the animated gif. The animation does not play. If I load the animated gif from a file on the filesystem everything works as expected. The animation plays through all the of frames. So this works: ImageIcon imageIcon = new ImageIcon(""/path/on/filesystem/animated.gif""); How can I load an animated gif into an ImageIcon from a jar file? EDIT: Here is a complete test case why doesn't this display the animation? import javax.imageio.ImageIO; import javax.swing.*; public class AnimationTest extends JFrame { public static void main(String[] args) { SwingUtilities.invokeLater(new Runnable() { public void run() { AnimationTest test = new AnimationTest(); test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); test.setVisible(true); } }); } public AnimationTest() { super(); try { JLabel label = new JLabel(); ImageIcon imageIcon = new ImageIcon(ImageIO.read(AnimationTest.class.getClassLoader().getResourceAsStream(""animated.gif""))); label.setIcon(imageIcon); imageIcon.setImageObserver(label); add(label); pack(); } catch (Exception e) { e.printStackTrace(); } } } You have to use getClass().getResource(imgName); to get a URL to the image file. Check out this tutorial from Real's HowTo. EDIT: Once the image is loaded you have to set the ImageObserver property to get the animation to run. I load png images just fine from the jar file using the first section of code. And the gif loads - it's just not animated. I see your problem now. See my edit for more details. setting the ImageObserver did not help in my case. It seems that ImageIO isn't reading the animated gif properly. If I use a different constructor for the ImageIcon it works. I updated the question with a complete code example. You'll need an animated.gif in your classpath.  Since this thread was just linked from a more current thread that had little to do with animated GIFs but got dragged OT I thought I'd add this trivial source that 'works for me'. import javax.swing.*; import java.net.URL; class AnimatedGifInLabel { public static void main(String[] args) throws Exception { final URL url = new URL(""http://i.stack.imgur.com/OtTIY.gif""); Runnable r = new Runnable() { public void run() { ImageIcon ii = new ImageIcon(url); JLabel label = new JLabel(ii); JOptionPane.showMessageDialog(null label); } }; SwingUtilities.invokeLater(r); } } if anyone wondered how to just load image from file here is how: url = new URL(""file"" ""localhost"" ""resources/image.gif"");  Hopefully it's not too late for this. I managed to get the animated gif inside my JPanel this way: private JPanel loadingPanel() { JPanel panel = new JPanel(); BoxLayout layoutMgr = new BoxLayout(panel BoxLayout.PAGE_AXIS); panel.setLayout(layoutMgr); ClassLoader cldr = this.getClass().getClassLoader(); java.net.URL imageURL = cldr.getResource(""img/spinner.gif""); ImageIcon imageIcon = new ImageIcon(imageURL); JLabel iconLabel = new JLabel(); iconLabel.setIcon(imageIcon); imageIcon.setImageObserver(iconLabel); JLabel label = new JLabel(""Loading...""); panel.add(iconLabel); panel.add(label); return panel; } Some points of this approach: 1. The image file is within the jar; 2. ImageIO.read() returns a BufferedImage which doesn't update the ImageObserver; 3. Another alternative to find images that are bundled in the jar file is to ask the Java class loader the code that loaded your program to get the files. It knows where things are. So by doing this I was able to get my animated gif inside my JPanel and it worked like a charm.  This reads gif animation from inputStream InputStream in = ...; Image image = Toolkit.getDefaultToolkit().createImage(org.apache.commons.io.IOUtils.toByteArray(in)); This is the definite answer. Thank you after researching this issue several hours. This also solves the problem with loading resources from Eclipse and from Maven in JARs. Thanks alot!",java swing animated-gif javax.imageio401598,A,"How can I get the length of a JTextField's contents as the user types? JTextField has a keyTyped event but it seems that at the time it fires the contents of the cell have not yet changed. Because of that .length() is always wrong if read here. There must be a simple way of getting the length as it appears to the user after a key stroke? Use this code: public void jTextField6KeyReleased(java.awt.event.KeyEvent evt) { System.out.println(jTextField6.getText().length()); } Consider expanding your answer to explain to the asker why this achieves the desired result possibly linking to documentation. As is this is only marginally useful.  KeyEvents are low-level events that are not appropriate here [that sounds familiar]. How does the JTextField system know that a character has been typed? Through a key typed event (IIRC done through the PL&F). Does the event get dispatched to the system listener before your listener? It might or might not do. In this case you probably want to go to the Document and add a higher-level listener. With Swing it's a good idea to go for the model early - the 'J' class interfaces are incoherent. If you are intercepting input data then you probably want a custom model (or in the case of Document a DocumentFilter).  This may be related to this ""bug"" (or rather ""feature"") The listeners are notified of the key events prior to processing them to allow the listeners to ""steal"" the events by consuming them. This gives compatibility with the older awt notion of consuming events. The ""typed"" event does not mean text was entered into the component. This is NOT a bug it is intended behavior. A possible solution is to listen to an associated Document // Listen for changes in the text myTextField.getDocument().addDocumentListener(new DocumentListener() { public void changedUpdate(DocumentEvent e) { // text was changed } public void removeUpdate(DocumentEvent e) { // text was deleted } public void insertUpdate(DocumentEvent e) { // text was inserted } }); Note this works no matter how the text gets changed; via a clipboard cut/paste progamatic ""setText()"" on the TextField or the user typing into the field on the UI.  This is probably not the optimal way (and it's been a while) but in the past I have added a DocumentListener to the JTextField and on any of the events (insert update remove) I: evt.getDocument().getLength() Which returns the total length of text field's contents.",java swing events283967,A,How do I control the display of a JComponent's Tooltip? I have a JComponent that's painting various shapes on itself. I'm detecting whenever the mouse enters one of these shapes and changing the tooltip accordingly. The problems I'm having are: The tooltip doesn't follow the mouse as the user tracks the mouse across the shape. It stays where it was first set and then only jumps whenever another shape changes the tooltip. It takes about a second for the tooltip to appear but I'd like it to appear immediately. Can someone suggest a way of getting these behaviours without writing a custom tooltip mechanism? Take a look at the ToolTipManager. You can register your component with that manager and then adjust a number of settings. Its pretty straight forward to use. That at least can solve your initialdelay problem. For your first problem you can overide the createTooltip command from your component to get a hold of the JTooltip instance. and then its easy make the position change whenever you move your mouse(aka follow your mouse) as its a subclass of the JComponent class.  To solve your first issue of where the tooltip doesn't follow the mouse if you override the getToolTipLocation(MouseEvent e) in JComponent you can return the point for where you want to the display the tooltip. The MouseEvent will allow you to retrieve the x and y.,java swing176150,A,"Swing: Is there a way to differentiate between a user-caused ItemEvent and an application-caused one? I'm working with a combobox in a Swing-based application and I'm having a hard time figuring out what to do to differentiate between an ItemEvent that is generated from a user event vs one caused by the application. For instance Lets say I have a combobox 'combo' and I'm listening for itemStateChanged events with my ItemListener 'listener'. When either a user changes the selection to item 2 or I execute the line (pseudocode): combo.setSelection(2) .. it seems like I'm not able to tell these events apart. That said I'm no Swing expert by any means so I thought I would ask. Thanks! @awied: you also need to worry about the situation in which a user accessibility application is driving your program. I'm not following this. Why would you generate events programmatically and then want them to be different from normal events? I'm not generating events exactly. I have listeners that ""do things"" which are attached to the combobox. When the user performs the action the application works properly. However when I need to update the combo it still causes the events but I need it handled differently. You can set a flag in your code before you set the selection and then check for this flag in the listener (and unset the flag if it is set)... There may be a better way since Java 6 but this is the way I always used to do it... [Edit]: As David points out you will need to set the flag (and update the combo) in the EDT using SwingUtilities.invokeLater or similar (you should do this anyway as you are changing a UI control)  So I'm guessing you want the user selection to perform some action rather than just a plain old direct state change. This is an issue caused by limited flexibility (flexibility is always going to be limited particularly if you have flexibility in other directions). My suggestion: Firstly always go straight to using model in Swing. The widgets are way to complicated and you want different concerns to be split up. Fortunately Swing is already there with its models. A common pattern is to have delegation between models. So in this case you have the ""real"" default model that holds your data. Insert between the JComboBox and real ComboBoxModel and delegating ComboBoxModel that performs actions on state change instructions. Your application code should ignore the JComboBox and go straight for the real ComboBoxModel bypassing the delegating model. So in a diagram:  User -- JComboBox -- ActionComboBoxModel -- DefaultComboBoxModel -- Application code  Whether the user selects Item 2 or the API calls setSelection(2) the event will appear the same. The solution to your problem might be in re-thinking what you want the itemStateChanged code to do when the selection changes. Why would your app work differently under each condition? Maybe there are similarities that you can use to your advantage. Be careful when using flags. The itemStateChanged event will occur on the Event Dispatch Thread which is a different thread than the one on which you'd set the state of the flag. This would mean that using a flag may not be 100% reliable.  If you need to tell the events apart then there is probably something about your design that needs a rethink. The whole point of MVC is to decouple changes to the model from the actual mouse clicks of the user. Perhaps you should restate the question in terms of why you would ever want to differentiate between these two situations. We could then provide some guidance on a different way of achieving the goal.  The Action and Reaction law is quite clear :). If you try to react on change there is no need to distinguish between user and application. I can imagine only one use case where you need to ""distinguish"". The case where application is displaying some data. In this case you have probably data model for your application. And also there are some change listener in this model and application GUI will react by setting values to components. And also. If user selects anything into GUI component. The data model will react by changing value. In this case it is easy to set up some sort of read-only state on data model which will notify model to ignore ANY event coming from observed objects. This notification set should run in EDT and there is no problem with flagging. Small example: class ApplicationDataModel { private Flag current = Flag.RW; public void setData(ApplicationData data) { current = Flag.RO; setDataImpl(data); notifyObservers(); current = Flag.RW; } public void reaction(Event e) { if (flag = Flag.RO) return; ... } } Be careful with flagging and don't forget about threading. If you are calling setData from another thread then EDT you are going into trouble. Of course. The extraction of ApplicationData object has to be run in different thread ;). In general rethink design of your application.",java swing events combobox listeners482041,A,"How to select first item in JPopupMenu? In the past when one made a JPopupMenu visible it's first item would get selected by default: http://weblogs.java.net/blog/alexfromsun/archive/2008/02/jtrayicon_updat.html Nowadays the default behavior is to pop up the menu without any item selected. I would like create a JPopupMenu with a single item that will pop up selected and centered under the mouse pointer. I have managed to get the item to pop up centered under the mouse but I the JMenuItem refuses to render as if it is selected. If I move the mouse out of the item and back in it selects properly. Any ideas? Here is my testcase: import java.awt.Component; import java.awt.Point; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import java.awt.event.MouseAdapter; import java.awt.event.MouseEvent; import javax.swing.JFrame; import javax.swing.JMenuItem; import javax.swing.JPopupMenu; public class Test extends JFrame { public static void main(String[] args) { JFrame frame = new JFrame(); frame.setSize(800 600); frame.getContentPane().addMouseListener(new MouseAdapter() { @Override public void mousePressed(MouseEvent e) { if (e.isPopupTrigger()) popupTriggered(e); } @Override public void mouseReleased(MouseEvent e) { if (e.isPopupTrigger()) popupTriggered(e); } private void popupTriggered(MouseEvent e) { JPopupMenu menu = new JPopupMenu(); final JMenuItem item = new JMenuItem(""This is a JMenuItem""); menu.add(item); Point point = e.getPoint(); int x = point.x - (item.getPreferredSize().width / 2); int y = point.y - (item.getPreferredSize().height / 2); menu.show((Component) e.getSource() x y); } }); frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE); frame.setVisible(true); } } I found some inconsistent behavior too (see my updated answer). Can you confirm this? I reported this as a bug to Sun. I'll let you know what they write back. Here is the associated bug report: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6799989 Secret turns out to be MenuSelectionManager.defaultManager().setSelectedPath(new MenuElement[]{menu ...}); import java.awt.event.MouseAdapter; import java.awt.event.MouseEvent; import javax.swing.JFrame; import javax.swing.JMenuItem; import javax.swing.JPopupMenu; import javax.swing.MenuElement; import javax.swing.MenuSelectionManager; import javax.swing.SwingUtilities; /** * Demonstrates programmatic {@link JMenuItem} selection; * specifically how to make the first item selected by default */ public class TestPopup extends JFrame { public static void main(String[] args) { final JFrame frame = new JFrame(""TestPopup""); frame.setSize(640 480); frame.getContentPane().addMouseListener(new MouseAdapter() { @Override public void mousePressed(MouseEvent e) { if (e.isPopupTrigger()) { popupTriggered(e); } } private void popupTriggered(MouseEvent e) { final JPopupMenu menu = new JPopupMenu(); final JMenuItem item0 = new JMenuItem(""JMenuItem 0""); final JMenuItem item1 = new JMenuItem(""JMenuItem 1""); menu.add(item0); menu.add(item1); menu.pack(); // use invokeLater or just do this after the menu has been shown SwingUtilities.invokeLater(new Runnable() { public void run() { MenuSelectionManager.defaultManager().setSelectedPath(new MenuElement[]{menu item0}); } }); int x = (int) ((int) (frame.getSize().width - (menu.getPreferredSize().width / 2.)) / 2.); int y = (int) ((int) (frame.getSize().height - (menu.getPreferredSize().height / 2.)) / 2.); menu.show(frame x y); // doesn't work: //item0.setSelected(true); // doesn't work: //menu.getSelectionModel().setSelectedIndex(0); // bingo; see also MenuKeyListener / MenuKeyEvent // MenuSelectionManager.defaultManager().setSelectedPath(new MenuElement[]{menu item0}); } }); frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE); frame.setLocationRelativeTo(null); frame.setVisible(true); } }  This is weird. I tried it with Windows and with Java 1.5.0_08 and even 1.6.0_07 the first Element is selected automatically as you expected it to be. So I tried it with 1.6.0_11 and it does not work any more the first element is not selected initially. Selecting the element in the selectionModel does not seem to help. One workaround (that I'm not at all proud of) is to move the mouse automatically after displaying the popup menu using the coordinates of the MouseEvent. Maybe someone's got a better idea? import java.awt.AWTException; import java.awt.Robot; import java.awt.event.MouseAdapter; import java.awt.event.MouseEvent; import javax.swing.JFrame; import javax.swing.JMenuItem; import javax.swing.JPopupMenu; public class SelectedPopupMenu extends JFrame { public SelectedPopupMenu() { addMouseListener(new MouseAdapter() { public void mouseClicked(final MouseEvent e) { JPopupMenu popupMenu = new JPopupMenu(); popupMenu.add(new JMenuItem(""Test-Item"")); popupMenu.add(new JMenuItem(""Test-Item-2"")); // do not care to really hit the center of the popup popupMenu.show(SelectedPopupMenu.this e.getX() - 30 e.getY() - 10); try { // shake mouse so that first element is selected even in Java 1.6.0_11 Robot robot = new Robot(); robot.mouseMove(e.getX() + 1 e.getY()); robot.mouseMove(e.getX() e.getY()); } catch (AWTException ex) { ex.printStackTrace(); } } }); } public static void main(String[] args) { JFrame frame = new SelectedPopupMenu(); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setSize(800 600); frame.setVisible(true); } }  Nowadays the default behavior is to pop up the menu without any item selected. Actually I would argue that this is the correct behavior at least in Windows. Other non-Java applications do this too. I don't think it's worth breaking this convention even if there is only one item in the menu. If you feel otherwise you can set the selection index as in sean.bright's answer. So I finally got the chance to try it out on Java 1.6.0_11 and found some inconsistent behavior: If the popup menu juts out of the parent frame the item is automatically selected; if the popup menu appears entirely within the parent frame nothing is selected. Sounds like a Swing bug which at least warrants an RFE for consistent behavior. +1: The right behavior is whatever the particular platform does for other (non-Java) programs. Zach I agree with your general assessment but unfortunately this doesn't answer my question. I *want* to break away from the conventional behavior but I'm finding it impossible to do so. I'm trying to find out if this is a Swing bug or user error. I filed a bug report with Sun: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6799989  MenuSelectionManager.defaultManager() is indeed a good solution but it won't work when you'll try to pre-select your JPopupMenu's sub menus (it will hide the parent menu). Also it messes up other keyboard navigation behaviors (you can't press left to hide the sub-menu etc.) Unfortunatelly there's no good solution for this question in Swing... My solution is ugly but sadly does the job perfect: public static void setMenuSelectedIndex(final JPopupMenu popupMenu final int index) { SwingUtilities.invokeLater(new Runnable(){public void run() { for (int i=0; i < index+1; i++) { popupMenu.dispatchEvent(new KeyEvent(popupMenu KeyEvent.KEY_PRESSED 0 0 KeyEvent.VK_DOWN '\0')); } }}); } As you can see I'm basically simulating 'Down' Keyboard Key-Presses on the popupmenu... A better solution might be not to Hardcodedly simulate VK_DOWN but to read the Popup's input map and determine which KeyCode means ""select next menu item"" - but I think most of us will get along with this hack... You might also want to look at this method which selects a menu's item once it gets selected It utilizes the previous method public static void setSelectedIndexWhenVisible(final JMenu menu final int index) { menu.getPopupMenu().addPopupMenuListener(new PopupMenuListener() { @Override public void popupMenuWillBecomeVisible(PopupMenuEvent e) { PopupUtils.setMenuSelectedIndex(menu.getPopupMenu() index); menu.getPopupMenu().removePopupMenuListener(this); } @Override public void popupMenuWillBecomeInvisible(PopupMenuEvent e) { } @Override public void popupMenuCanceled(PopupMenuEvent e) { } }); } aside from that the solution of simulating the down arrow keypress does work. er what's PopupUtils? Doesn't seem to be part of my JDK.",java swing jmenupopup282539,A,"Java actionListener for a nameless JButton? I was wondering if there is a way to implement an action listener for a Jbutton without a name. For example I have the following for loop that creates a button for each letter of the alphabet. for (int i = 65; i < 91; i++){ alphabetPanel.add(new JButton(""<html><center>"" + (char)i)); } Is there a way that I can add an action listener for each of those buttons without getting rid of my for loop and hard coding each JButton and then creating an action listener for each? Thanks in advance Tomek Your question is a little vague. it would be trivial to modify the loop to add a listener inside the loop: ActionListener listener = something; for (int i = 65; i < 91; i++){ JButton button = new JButton(""<html><center>"" + (char)i); button.addActionListener( listener ); alphabetPanel.add(button); } if you can't modify the loop you could iterate over all of the panel's children and add listeners to any of the children that are jbuttons. also why are you using html to center the text? isn't that overkill? doesn't jbutton already center text? you could use setHorizontalAlignement(SwingConstants.CENTER) to do it too. for some reason I thought that te way action listener works is that after it is created it somehow stops there in the code until an action is performed but I guess that defeats the entire purpose of it. I changed it and it worked exactly as I wanted it to. Thanks! P.S. html was overkill  It is possible to add ActionListener to anonymous components like below: new JButton().addActionListener(new ActionListener(){ @Override public void actionPerformed(ActionEvent arg0) { // TODO your action } }); However in your case where you try to add the anonymous JButton to your panel this approach will not work because the return type of addActionListener method (which is void) will be taken instead of JButton's constructor as shown below: for (int i = 65; i < 91; i++){ alphabetPanel.add(new JButton(""<html><center>"" + (char)i).addActionListener(new ActionListener(){ @Override public void actionPerformed(ActionEvent arg0) { // TODO your action } })); } The above code complains about invalid argument for panel.add() method. So in your case you will have to create a named instance of the JButton. Hope this clarifies. Best Regards Suresh  What is the problem of doing this? for (int i = 65; i < 91; i++){ JButton button = new JButton(""<html><center>"" + (char)i)); button.addActionListener( new ButtonListener()); alphabetPanel.add(button); } ... class ButtonListener implements ActionListener { ButtonListener() { } public void actionPerformed(ActionEvent e) { //TODO: } } Also if the button's text doesn't identify the button you could set the button's name with the letter of the alphabet. button.setName((char)i)); // or button.setName(i);  By named you seem to mean storing the button instance in a local variable of your immediate method. Attempting to avoid that is likely to make your code more difficult to read. But to answer your question: The most obvious way is to use the old but newly-popular double-brace idiom. alphabetPanel.add(new JButton(""<html><center>"" + (char)i) {{ addActionListener(new ActionListener() { public void actionPerformed(ActionEvent event) { ... } }); }}); Note in this case as i is not final it will not be usable from the anonymous inner class. Either assign it to another (final) variable or reformulate the loop. Another route would be to go via an Action. (Usually I'd suggest avoiding Actions as they are jsut a poor man's Hashtable. ButtonModel is ""good"" though.) alphabetPanel.add(new JButton(new AbstractAction(""<html><center>"" + (char)i) { public void actionPerformed(ActionEvent event) { ... } })); Then of course there is the application specific library way: Form alphabetForm = new Form(alphabetPanel); for (char c='A'; c <= 'Z'; ++c) { alphabetForm.button(""<html><center>"" + c new ActionListener() { public void actionPerformed(ActionEvent event) { ... } }); }",java swing jbutton actionlistener334397,A,"Detect whether FocusEvent of component is lost or gained I implementing a EventQueue and get notified when AWTEvents are send. I wait till instances of FocusEvent are send to the dispatchEvent methode. The FocusEvent by itself does not have a methode to ask if the focus of the component is gained or lost. The methode paramString returns a String in which the information is placed but i dont want to hack or pars the String. A contains call can give me the answer but the returnes String is no constant so it could change in the future. The paramString methode of FocusEvent is like:  switch(id) { case FOCUS_GAINED: typeStr = ""FOCUS_GAINED""; break; case FOCUS_LOST: typeStr = ""FOCUS_LOST""; break; default: typeStr = ""unknown type""; } return typeStr + (temporary ? ""temporary"" : ""permanent"") + ""opposite="" + getOppositeComponent(); Do you know another solution for this issue. What's wrong with ""evt.getID()""? It returns FOCUS_LOST or FOCUS_GAINED? when you want to implement something during the last minutes in the office you sometimes get crazy. Thanks a lot. @Markus - I know that feeling well. Glad to help.",java swing events awt309675,A,"How can I make a swing JButton repeat its action when it is held down? I am creating an touch screen application using Swing and have a request to change one of buttons so that it will behave like a keyboard when the button is held down. (First of all I am not sure that the touch screen will allow the user to ""hold down"" the button but pretend that they can for now) I was going to go down the path of starting a loop when mousePressed was called and then ending the loop when mouseReleased was called. This will involve starting a thread and having to deal with synchronization as well as invokeLater() to get events back on the EventQueue. Is there a very simple way to do what I want? I hope I am just not seeing the API to do it. There is no simple way. I think what you outlined with a thread doing timed sleeps and polling the button is the only way. I went with the java.swing.Timer since it will automatically post back to the Swing EventQueue and that is what I am looking for. Thanks for the help.  I would do it like this: Listen to mousePressed and schedule a java.util.Timer to be launched at a later time. The Timer does the action and set itself to schedule again. Listen to mouseReleased to cancel the Timer.  javax.swing.Timer is your friend. And here's an article with some more info. @Christopher updated thanks That article link is stale.",java swing407506,A,Is Google Web Toolkit similar to AWT and Swing I've looked breifly into GWT and like the idea that I can develop in Java and have the application compile down to HTML and JavaScript. Is the concept behind GWT and AWT and Swing the same or different? AWT and Swing are for programming stand-alone applications (and to a lesser extent applets). GWT is supposed to make programming web applications similar to stand-alone apps. I wouldn't program a non-web app using GWT.  It is programmed very similarly(patterned after Swing) and the code is 100% java (compiles with a standard Java compiler without errors) but the way it works is very different. Instead of compiling into a Java app it compiles into Javascript that is sent to your browser. This ability to program good active Javascript without actually coding Javascript and HTML is pretty nice. Also since it programs much like swing you can do stuff like adding listeners that effect other controls pretty easily. Actually GTW supports only a strict subset of Java's standard libraries. There are some libraries that aren't supported simply because they can't be represented in JavaScript. For example GWT's Random is a util class with static methods while Java 1.5 uses it as an object etc...  disclamer: While I do work at IT Mill this is just for information to the original poster. This isn't marketing spam. If you like the idea of being able to write Java and get a webpage out of that you might be interested in IT Mill Toolkit. It's a toolkit for making RIA software on top of a J2EE stack and it uses GWT heavily. One of the basic ideas are that the code generated by GWT is just as prone to client-side forging attacks as any other JS/Ajax-traffic. IT Mill Toolkit makes sure that the data is validated server-side too. The toolkit is also designed in such a way that if you are familiar to Swing you should have no problems picking it up.  GWT is very much similar to Swing in its usage of Widgets Panels and the EventListeners it provides. A different way to look at GWT is to think of Javascript and HTML as Assembly language and GWT as a sort of High level language which generates Javascript and HTML. With GWT its easy to develop desktop-like apps for the web using the same tools you would use for building a desktop app  GWT is conceptually similar to Swing but is more a replacement for JSPs than anything else. I agree. Though you still use Java on the server side.  GWT is a javascript toolkit that allows you to write the javascript in Java. The only real similarities to Swing and AWT are that they are toolkits for creating user interfaces and they use Java. The end product is different and the real purpose for using them is different. GWT gives you the ability to generate a ajax user interface for a web browser while the other 2 give you a console (or applet) java app. In my mind the real reason for using GWT is to get a quick ajax interface up for prototyping purposes. But I dont think its really production ready- ie I dont thing Google uses it in their own webapps. A better choice for more robust ajax webapps is http://developer.yahoo.com/yui/ or http://script.aculo.us/.  Define concept. AWT/Swing are used for desktop Java apps or applets. They both require JVM to run. GWT is used to translate Java code to Javascript. This only runs on Javascript engines i.e. browser. The API design as stated above is similar to Swing. You get the same Panels Buttons and other Component classes as in Swing.,java swing gwt awt100123,A,"Application wide keyboard shortcut - Java Swing I would like to create an application wide keyboard shortcut for a Java Swing application. Looping over all components and adding the shortcut on each has focus related side effects and seems like a brute force solution. Anyone has a cleaner solution? For each window use JComponent.registerKeyboardAction with a condition of WHEN_IN_FOCUSED_WINDOW. Alternatively use: JComponent.getInputMap(WHEN_IN_FOCUSED_WINDOW).put(keyStroke command); JComponent.getActionMap().put(commandaction); as described in the registerKeyboardAction API docs. +1 The best easiest answer I have found. I will upvote this x1000 x1001 would be better that way he'd at least get an upvote. @Epaga Or 999 times  For people wondering (like me) how to use KeyEventDispatcher here is an example that I put together. It uses a HashMap for storing all global actions because I don't like large if (key == ..) then .. else if (key == ..) then .. else if (key ==..) .. constructs. /** map containing all global actions */ private HashMap<KeyStroke Action> actionMap = new HashMap<KeyStroke Action>(); /** call this somewhere in your GUI construction */ private void setup() { KeyStroke key1 = KeyStroke.getKeyStroke(KeyEvent.VK_A KeyEvent.CTRL_DOWN_MASK); actionMap.put(key1 new AbstractAction(""action1"") { @Override public void actionPerformed(ActionEvent e) { System.out.println(""Ctrl-A pressed: "" + e); } }); // add more actions.. KeyboardFocusManager kfm = KeyboardFocusManager.getCurrentKeyboardFocusManager(); kfm.addKeyEventDispatcher( new KeyEventDispatcher() { @Override public boolean dispatchKeyEvent(KeyEvent e) { KeyStroke keyStroke = KeyStroke.getKeyStrokeForEvent(e); if ( actionMap.containsKey(keyStroke) ) { final Action a = actionMap.get(keyStroke); final ActionEvent ae = new ActionEvent(e.getSource() e.getID() null ); SwingUtilities.invokeLater( new Runnable() { @Override public void run() { a.actionPerformed(ae); } } ); return true; } return false; } }); } The use of SwingUtils.invokeLater() is maybe not necessary but it is probably a good idea not to block the global event loop. Not the simplest solution but definitely the most elegant and reliable one.  Install a custom KeyEventDispatcher. The KeyboardFocusManager class is also a good place for this functionality. KeyEventDispatcher  Use the following piece of code ActionListener a=new ActionListener(){ public void actionPerformed(ActionEvent ae) { // your code } }; getRootPane().registerKeyboardAction(aKeyStroke.getKeyStroke(""ctrl D"")JComponent.WHEN_IN_FOCUSED_WINDOW); Replace ""ctrl D"" with the shortcut you want. @kleopatra Hmm. Thanks for the comment. I want to know the reason. I didn't find it! don't quite understand - reason for what? Why is registerKeyboardAction() obselete that's a question for the swing team 10+ years ago :-) There used to be an article (old swingconnection?) introducing keyBindings that also argued the why .. don't have a reference though sorry. no that's outdated api (superceded by actionMap/inputMap since jdk 1.2 or 1.3 - way back in stone age) Please see the javadoc (JComponent.registerKeyboardAction(java.awt.event.ActionListener java.lang.String javax.swing.KeyStroke int)): This method is now obsolete please use a combination of getActionMap() and getInputMap() for similiar behavior.  When you have a menu you can add global keyboard shortcuts to menu items:  JMenuItem item = new JMenuItem(action); KeyStroke key = KeyStroke.getKeyStroke( KeyEvent.VK_R KeyEvent.CTRL_DOWN_MASK); item.setAccelerator(key); menu.add(item);",java swing shortcut keystroke272124,A,"Best way to implement tooltips for JTree? since JTree & TreeModel don't provide tooltips straight out-of-the-box what do you think what would be the best way to have item-specific tooltips for JTree? Edit: (Answering my own question afterwards.) @Zarkonnen: Thanks for the getTooltipText idea. I found out another (maybe still a bit nicer) way with overriding DefaultTreeCellRenderer and thought to share it: public class JTreeWithToolTips { private static class OwnRenderer extends DefaultTreeCellRenderer { @Override public Component getTreeCellRendererComponent(JTree tree Object value boolean sel boolean expanded boolean leaf int row boolean hasFocus) { setToolTipText(""foobar"" + row); return super.getTreeCellRendererComponent(tree value sel expanded leaf row hasFocus); } } public static void main(String[] args) { JTree tree = new JTree(new Object[] { ""foo"" ""bar"" ""foobar"" }); tree.setCellRenderer(new OwnRenderer()); ToolTipManager.sharedInstance().registerComponent(tree); JFrame frame = new JFrame(); frame.getContentPane().add(tree); frame.pack(); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setVisible(true); } } Your answer should be in an answer so people can vote on it. DefaultTreeCellRenderer#getTreeCellRendererComponent is called a lot and making this too heavyweight can make stuff not work as expected. Like tooltips that should show up but don't. Overriding JTree#getToolTipText(MouseEvent e) is only called when needed and as such is a much better solution! See getTooltipText on JTree. This should allow you to show tooltips depending on what in the tree is being hovered over. (Do read the docs though you need to register the JTree with the ToolTipManager.)  Yeah you can use onMouseMoved and then use a method (I don't remember the name) that tells you in which node you are over. If you get null obviously then you are not over a node. Since it's not mentioned elsewhere: the methods linking mouse position to tree node are `getPathForLocation(int int)` and `getRowForLocation(int int)`. As suggested by other answers implementing custom renderer or overriding `getToolTipText(MouseEvent)` is cleaner than adding a `MouseListener`.",java swing tooltip jtree201287,A,"How do I get which JRadioButton is selected from a ButtonGroup I have a swing application that includes radio buttons on a form. I have the ButtonGroup however looking at the available methods I can't seem to get the name of the selected JRadioButton. Here's what I can tell so far: From ButtonGroup I can perform a getSelection() to return the ButtonModel. From there I can perform a getActionCommand but that doesn't seem to always work. I tried different tests and got unpredictable results. Also from ButtonGroup I can get an Enumeration from getElements(). However then I would have to loop through each button just to check and see if it is the one selected. Is there an easier way to find out which button has been selected? I'm programing this in Java 1.3.1 and swing. Java 1.3.1? As in only supported on vintage Solaris 8 and no bugs from April? Yeah I know. The desktop machines that I'm developing this for have older applications that still run on this version and I don't want to mess with that. I suggest going straight for the model approach in Swing. After you've put the component in the panel and layout manager don't even bother keeping a specific reference to it. If you really want the widget then you can test each with isSelected or maintain a Map<ButtonModelJRadioButton>.  I got similar problem and solved with this: import java.util.Enumeration; import javax.swing.AbstractButton; import javax.swing.ButtonGroup; public class GroupButtonUtils { public String getSelectedButtonText(ButtonGroup buttonGroup) { for (Enumeration<AbstractButton> buttons = buttonGroup.getElements(); buttons.hasMoreElements();) { AbstractButton button = buttons.nextElement(); if (button.isSelected()) { return button.getText(); } } return null; } } It returns the text of the selected button. I love making custom methods for tasks. Nicely done. This method is EXACTLY what I needed. I thank you very much! I wish I could give you 999 ups. This should probably be in Java in the first place...  I would just loop through your JRadioButtons and call isSelected(). If you really want to go from the ButtonGroup you can only get to the models. You could match the models to the buttons but then if you have access to the buttons why not use them directly? It does look like this is the only way thanks. please consider this reading : http://www.javaworld.com/article/2077509/core-java/java-tip-142--pushing-jbuttongroup.html what could possibly be the point of button group then? @Thufir : ButtonGroup tells Java that only on of the JRadioButtons of the group should be selected. without that all of them could be selected simultaneously.  Use the isSelected() method. It will tell you the state of your radioButton. Using it in combination with a loop(say for loop) you can find which one has been selected. Isn't this the same as the accepted answer?  The following code displays which JRadiobutton is selected from Buttongroup on click of a button. It is done by looping through all JRadioButtons in a particular buttonGroup.  JRadioButton firstRadioButton=new JRadioButton(""Female""true); JRadioButton secondRadioButton=new JRadioButton(""Male""); //Create a radio button group using ButtonGroup ButtonGroup btngroup=new ButtonGroup(); btngroup.add(firstRadioButton); btngroup.add(secondRadioButton); //Create a button with text ( What i select ) JButton button=new JButton(""What i select""); //Add action listener to created button button.addActionListener(this); //Get selected JRadioButton from ButtonGroup public void actionPerformed(ActionEvent event) { if(event.getSource()==button) { Enumeration<AbstractButton> allRadioButton=btngroup.getElements(); while(allRadioButton.hasMoreElements()) { JRadioButton temp=(JRadioButton)allRadioButton.nextElement(); if(temp.isSelected()) { JOptionPane.showMessageDialog(null""You select : ""+temp.getText()); } } } } hmm ... this differs from earlier answers in that .. ?  You could use getSelectedObjects() of ItemSelectable (superinterface of ButtonModel) which returns the list of selected items. In case of a radio button group it can only be one or none at all. I tried this but I was getting a NPE. I did a little research and found this: http://java.sun.com/javase/6/docs/api/javax/swing/DefaultButtonModel.html#getSelectedObjects() Since JRadioButton's button model is JToggleButton.ToggleButtonModel it will always return null.  import javax.swing.Action; import javax.swing.ButtonGroup; import javax.swing.Icon; import javax.swing.JRadioButton; import javax.swing.JToggleButton; public class RadioButton extends JRadioButton { public class RadioButtonModel extends JToggleButton.ToggleButtonModel { public Object[] getSelectedObjects() { if ( isSelected() ) { return new Object[] { RadioButton.this }; } else { return new Object[0]; } } public RadioButton getButton() { return RadioButton.this; } } public RadioButton() { super(); setModel(new RadioButtonModel()); } public RadioButton(Action action) { super(action); setModel(new RadioButtonModel()); } public RadioButton(Icon icon) { super(icon); setModel(new RadioButtonModel()); } public RadioButton(String text) { super(text); setModel(new RadioButtonModel()); } public RadioButton(Icon icon boolean selected) { super(icon selected); setModel(new RadioButtonModel()); } public RadioButton(String text boolean selected) { super(text selected); setModel(new RadioButtonModel()); } public RadioButton(String text Icon icon) { super(text icon); setModel(new RadioButtonModel()); } public RadioButton(String text Icon icon boolean selected) { super(text icon selected); setModel(new RadioButtonModel()); } public static void main(String[] args) { RadioButton b1 = new RadioButton(""A""); RadioButton b2 = new RadioButton(""B""); ButtonGroup group = new ButtonGroup(); group.add(b1); group.add(b2); b2.setSelected(true); RadioButtonModel model = (RadioButtonModel)group.getSelection(); System.out.println(model.getButton().getText()); } }  Add the radiobuttons to a button group then: buttonGroup.getSelection().getActionCommand not answering the question (which was to get the selected _JRadioButton_ vs. its actionCommand)  you must add setActionCommand to the JRadioButton then just do String entree = entreeGroup.getSelection().getActionCommand(); ex  java = new JRadioButton(""Java""); java.setActionCommand(""Java""); c = new JRadioButton(""C/C++""); c.setActionCommand(""c""); System.out.println(""Selected Radio Button: "" + buttonGroup.getSelection().getActionCommand());  jRadioOne = new javax.swing.JRadioButton(); jRadioTwo = new javax.swing.JRadioButton(); jRadioThree = new javax.swing.JRadioButton(); ... then for every button: buttonGroup1.add(jRadioOne); jRadioOne.setText(""One""); jRadioOne.setActionCommand(ONE); jRadioOne.addActionListener(radioButtonActionListener); ...listener ActionListener radioButtonActionListener = new java.awt.event.ActionListener() { public void actionPerformed(java.awt.event.ActionEvent evt) { radioButtonActionPerformed(evt); } }; ...do whatever you need as response to event protected void radioButtonActionPerformed(ActionEvent evt) { System.out.println(evt.getActionCommand()); } That confuses input events and state changes. Other code may change the state. It also takes responsibility away from the button group model.",java swing378161,A,"In Java Swing how can you manage a list of panels allowing multiple panels to be selected? I‰Ûªm working on an in-house app that tracks a bunch of tasks. I wanted to have a simple task monitor that would list the task name and the task‰Ûªs status. I need this to look just a little nice I‰Ûªm no designer so whatever I do is going to suck but a basic text display won‰Ûªt work for the project requirements. What I am essentially attempting to do is show something similar to the Firefox download window the I-Tunes download window and well I could name more but they all look basically the same. In each of these apps each of the ‰Û÷progress panels‰Ûª is selectable. So to implement this I thought it would be simple to just use a list of JPanels each with a JProgressBar and a JLabel each of which can just accept focus to determine if it and others are selected. I thought this was going to be an easy task but if I use a JList it just displays text. I then just figured I would show all the task panels in a larger panel but I cannot get the inner panels to recognize focus. Is there a pattern for this? Is there a rolled standard solution that I just have not found? Or is there a better method for doing this? I don‰Ûªt want to re-invent the wheel but I thought this was just going to be simple. The standard way of doing this kind of things is to use JTable (or JList) as a container. You don't have to use default renderes fot table cells but you can specify your own renderer for specific cells. Take a look at CellRenderer  It sounds like what you may be looking for is an JList. You can add your items to the JList's by first adding your ""task"" to the JList object's ListModel (see the Create a Model section from The Java Tutorials) and then you'll want to assigned a custom ListCellRenderer which will accept your ""task"" and render on the JList as a JPanel in the list itself. The key here is to make your custom ListCellRenderer be able to display your ""task"" in the JList the way you want to have it show on the JList. Take a look into the Writing a Custom Cell Renderer section from the How to Use Lists page of The Java Tutorials. It will describe how to make your custom ListCellRenderer so you can represent your ""task"" as anything you want. To keep it short you will implement the ListCellRenderer interface by implementing the getListCellRendererComponent which will return a Component which is the representation of your task in the JList. You'll probably want to either construct or instantiate your JPanel in this method and return it as the Component. Here's some simple code showing how to render JPanels in a JList as alluded to in the answer: http://www.rgagnon.com/javadetails/java-0203.html  How about a JTable (which you can set to allow multiple rows to be selected) with an internal JPanel occupying the single cell in each row which contains a JProgressBar and a JLabel. Or you could use a JList with the same structure as I just described.",java swing88434,A,"How can I detect if caps lock is toggled in Swing? I'm trying to build a better username/password field for my workplace and would like to be able to complain when they have their caps lock on. Is this possible? And if so I'd like to have it detected before the client types their first letter. Is there a non-platform specific way to do this? In addition to Nick's answer to react to this condition before the user presses a key you can listen to the focus event of your text entry component and test the caps-lock as the component receives focus.  here is some info on the class http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Toolkit.html#getLockingKeyState(int)  Try this from java.awt.Toolkit returns a boolean: Toolkit.getDefaultToolkit().getLockingKeyState(KeyEvent.VK_CAPS_LOCK) Short and to the point perfect! Except that it doesn't work on all platforms. For instance it throws a UnsupportedException under OpenJDK-6 in Linux. :( JDK 1.7 i have compile time error with this keycode as others have pointed out this throws an error on Linux. Interestingly there must be an internal way to do it in Linux as Gnome displays the message ""You have the caps lock key on."" when it is on and the screen is locked. Perhaps OS has APIs but java has not implemented them? using jdk 1.6 and fedora 14",java swing147802,A,Why does Swing in my Java Applet flicker on fast mouse over? I made a Java Applet with some Standard GUI Components on it. I used the MigLayout Manager. If I move the mouse slowly over the various GUI Components everything appears to be fine but if I move the mouse fast it flickers. What could make that nasty ugly redraw? (Core 2 Duo 6300 2GB Ram Windows XP) One thought would be to check your code (and/or the MigLayout code) for unnecessary repaint() operations. Custom UIs and layouts can cause weird problems sometimes... You're right. Thanks. I found out that I used a custom component which registered a MouseListener.  I found the bugger: I used a custom ClosableTabbedPaint Class.  you could use double buffering in java applet to improve screen refreshing speed. ask more if details needed.. According to http://java.sun.com/products/jfc/tsc/articles/painting/ double buffering is ENABLED BY DEFAULT for all Swing components.,java swing applet207557,A,"What's the best way to add a self-update feature to a Java Swing application? I'm trying to figure out a way to add a self-update feature to a Java/Swing application I'm working on. Basically I've got a bunch of jar files with extra functionality to be re-deployed to the installed users when they change. Nothing complicated just check if a new version has been released download them over HTTP and then optionally offer to restart the app to the user. I had a look at webstart and it could work. But this particular app does some funky stuff with classloading and GC memory settings that don't look like they are supported via webstart or will at least complicate matters. (It's a tweaked build of JMeter) I also went down the road of adding in this plugin handler http://swing-fx.blogspot.com/2008/06/add-auto-update-and-plugins-to-your.html but it is very alpha and tries to do too much with the usual bugs you get with alpha stuff. Updates plugins separation of concern etc. are exactly what OSGi is about - you might want to take a look at this. It won't come free (read: with a steep initial learning curve especially when you are currently using classloading tricks) at least there are good open source implementations (felix - see felix.apache.org equinox - see www.eclipse.org and others) For these implementations autoupdaters are available - if you write your modules correctly it's possible to update at runtime without restarting.  I would definitely first try out Webstart. We've had lots of success launching even the early Eclipse RCP apps using Webstart and you can probably not get more funky classloading issues than with the OSGI framework (Eclipse Equinox). Could you perhaps give some more detail in your question about you classloading approach? Regarding the GC and other VM settings: these are easy to specify in your JNLP (Java Network Launching Protocol) files used by Webstart for launching apps. Could you give a link to an RCP app? Do you mean a RCP app that can be webstarted? The one's I worked on are all for intranet type enterprise applications so not available on the web.  The Java Web Start is good choice. The GC stuff is not important. Classloading could be problem. But when you got trusted by user you can grant AllPermisions and you will be able to do custom classloading. Maybe it will be good to reconsider funky stuff with classloading. It is really necessary? Or look at NetBeans. There should be found inspiration for auto-update.  I did the exact same thing. But that was long back so there are probably better tools today. What I found out I needed was a loader. The loader main program did not have the app jars in classpath. It first downloaded an update if required and then created a custom classloader with the app jars in class path and invoked the main method of the application main class. It is not very complicated. IIRC I needed to do this because the jars could not be overwritten in windows if they were already in classpath. Hope this helps. That seemed to be the easiest way all round. I kept an XML file on the server and a replica of it locally listing all the files to be updated and a version number. Quick and simple but does the trick.  we had a swing app 6 years ago that had self-update. like you suggested 1)it downloaded the latest jars over http 2) copied them to a folder. 3) since the swing app is launched using a .BAT file after user said YES we would shut down the swing app and look for any files in the update folder. if yes launch another .BAT file to copy the NEW JARs to the required directory. 4) then re launch the swing app.  I believe you should look again at Java WebStart or at least detail the ""funky classloading"" which you think is going to cause problems (as it might also cause problems with any solution proposed here). IIRC you can set command line parameters using Java WebStart ( http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/syntax.html#resources ).",java swing491323,A,"Is it safe to construct Swing/AWT widgets NOT on the Event Dispatch Thread? I've been integrating the Substance look and feel into my application and ran into several problems regarding it's internal EDT (Event Dispatch Thread) checking routines. Substance absolutely refuses to construct UI classes outside of the EDT. I've done plenty of Swing/AWT and I know most of the rules regarding the EDT. I use SwingWorker SwingUtilties.invokeLater to modify components. I always though that components could be CONSTRUCTED outside of the EDT but must be realized and manipulated on the EDT. In other words you can construct and setup defaults in the background but the call to pack/setVisible must be EDT as well as any subsequent calls to manipulate the component. The reason I ask is that I have a particularly ""beefy"" window to construct involving many widgets state and resources (lots of icons). Previously I constructed the window on the background method of a SwingWorker and made the window visible in the done method. Never had a single problem. Upon switching to Substance the internal EDT checking bites me. I've been able to refactor code to get around this. I can construct on the EDT which isn't a good solution since the entire application will block. I can also refactor even more and try my best to load all of the extra resources outside of the EDT. Wrapping it up ... Is it safe to construct Swing/AWT widgets NOT on the Event Dispatch Thread? No. Simple reason is that even the EDT likes to deadlock in some rare cases and in general it's easy to deadlock the UI when using Swing (or so I've been told). I suggest you read these three articles from Kirill's (the Substance dev) blog: New article on Swing EDT violations Unwritten rule of working with Swing‰Ûªs EDT Stricter checks on EDT violations in Substance  Sun has changed the rules in 2004 -- before you were allowed to create the components outside the EDT and only had to move into the EDT once the component had been realized. The new rule now reads: To avoid the possibility of deadlock you must take extreme care that Swing components and models are created modified and queried only from the event-dispatching thread. this blog post of mine gives more details including links to other related articles. note that all official Sun examples have been rewritten and are very strict about this. historically it probably was the increasing availability of multi-core computers as desktop machines that motivated the re-formulation of the rule -- threading issues became more and more apparent on the client stack and by being very strict on EDT guidelines a lot of them can be prevented from the start. sneaky sneaky ... thanks for the concrete evidence I was craving. Time to refactor! It's more race conditions than deadlocks that cause the problem. @tom: sorry i missed that the quote explicitly mentions the deadlocks -- but as said before i agree with you that it's more the race conditions... @tom: i agree about the race conditions -- never claimed it were the deadlocks have i (just referred to 'threading issues')?",java multithreading gui swing awt422956,A,"Java Swing or Java Qt? Can someone with extensive experience with both Qt and Java Swing please discuss whether you would use Swing or Qt under Java and why? Secondly what is the business impact of using Qt? Is it reasonably popular or will I have a hard time finding experienced Qt developers? Are there any other business impacts I should be aware of? UPDATE: I am more interested in the technical and business impacts of Swing vs Qt than the license type/fee since in my case the cost is not a concern. I agree with Jason. This issue is quite subjective. I accepted an answer favoring Qt but I personally still favor Swing. @HaveAGuess: because at the time the question was posed Qt was a rising star. There are plenty of questions discussing other frameworks. This question focuses solely on the differences between Swing and Qt. Can I ask why we are disregarding Netbeans/Eclipse RCP and even Gtk? Qt Jambi has been picked by community though: http://qt-jambi.org It is licenced under LGPL and approaching 4.7 release. And now Qt will become LGPL as of Qt 4.5 Qt Jambi too ;-) http://www.qtsoftware.com/about/news/lgpl-license-option-added-to-qt As far as Qt vs Java PDF Deepak has presented it clearly was written many years ago. Since then Java's virtual machine has improved tremendously so memory and performance issues are not an issue anymore. The article discusses even the validity of using garbage collector which I find hilarious! It‰Ûªs also old when it comes to Qt: The Qt toolkit follows a similar approach; like Swing it only relies on the native libraries only for very basic things and handles the drawing of GUI components itself. This is not true anymore Qt now uses native widgets. It no longer emulates them.  As far as Qt vs Java PDF Deepak has presented it clearly was written many years ago. Since then Java's virtual machine has improved tremendously so memory and performance issues are not an issue anymore. The article discusses even the validity of using garbage collector which I find hilarious! Next discussing programming models signal-slot model has been presented as superiour to MVC with only measurement being number of the lines of the code required to achieve same effect! What was overlooked in that document is that Java's code is clearly self-documenting unlike Qt's. I'm not saying that Qt is worse than Swing. I'm just saying that that document should NOT be used as an argument. First two answers give the best description of both frameworks discussing it's strenghts and weakness alone without comparing programming models and pulling conlusions out of a thin air.  Qt is far better than AWT/Swing. I have been using Qt for past three years and have found absolutely no issues in application development. Compared to Qt(C++) Swing(Java) loses out in run time efficiency and memory efficiency. You may get a lot of Java/Swing resources easily they are hundred a penny but if you can hire a good Qt/C++ application developer thats the best choice I say. No offence to Java developers but you have to accept the facts. Qt is available with LGPL licensing. I did not see anybody mention about its cross platform support and the way it is implemented. There is tremendous advantage for Qt there. Great documentation Qt's own intuitive IDE(QtCreator) lotsa examples and a great and fast growing community out there for support! Regarding shipping extra files - there are packaging solutions available. Read more here link text Questionable. How is Qt more cross-platform than Swing? How is LGPL better than ""GPL with classpath exception"" which Swing ships with? All the Qt applications I have seen look horrible especially on OSX whereas Java on OSX is quite reasonable  I don't know much about swing but I'd like to react to Adeel's answer regarding Qt. I don't think finding experienced developer in Qt should be a showstopper : it is very easy and fast to learn Qt. The documentation is very good (that's maybe the best part of Qt : its documentation). IMHO the Qt community is great and I always found the help needed when I had problems. There is many forums (QtCenter.org QtForum.org and others) and Trolltech is running a very active mailing list. I didn't say that it is a showstopper. I just made a point to consider. As the original question mentioned it clearly. Would you down-vote the question too. Kidding. I didn't made any point regarding documentation. Its great I must admit. But I forgot to include it and now I did. By not so strong community I meant number of developers strength. Just go to any Java forum Suns JavaRanch Stackoverflow you would find much help. Of course your list is specific to Qt where else you will find help then if not there.  To correct Adeel's comments; You can ship your software commercially - you just have to include the source. There are thousands of developers with Qt experience (KDE). Qt is standard (used by KDE Nasa ESA Adobe Skype etc) There's a large Qt community and many books and the Qt Jambi product is quite new so it's not surprising it's not that well known yet. And thats what we are talking about Qt Jambi not Qt. I admit Qt is quite common even I am using KDE and quite a no. of applications built on top of Qt. By Commercially I meant closed source. I said it wrong sorry for that. Now correction is made.  Pete's comment is right on. For those who need a more powerful swing based toolkit check out Jide http://www.jidesoft.com/.  Be aware that Qt Jambi will be discontinued shortly. http://www.qtsoftware.com/about/news/preview-of-final-qt-jambi-release-available. My interpretation of this is that following the March 4.5 release Jambi will be in the same boat as Qt bindings for other languages - up to the community to maintain. Regarding your questions I have a few years of Swing experience and I've been working with Qt Jambi for the past month and I'm pretty mixed. On one hand I'm particularly disappointed with Qt's model/view paradigm. Creating an editable tree in Swing by contrast using a completely non-Swing model is a breeze. A couple of hours work. After a week of struggling I've come to the conclusion that it's just not possible to do such a thing in Jambi 4.4. (Dunno about 4.5) The only solution I can find in Qt is to tie data to the Qt model classes by subclassing QStandardItemModel and QStandardItem. (While QAbstractItemModel is very capable in C++ Qt it's literally unusable in Qt Jambi.) On the other hand Qt Jambi gives me access to the amazing QGraphicsView drawing tools and I don't know of a Java library that can compare. To me that's the power of Qt Jambi - it gives you access in Java to excellent 2D and GL drawing tools that really aren't available in Java otherwise. My advice is that if you need to build an application that uses only standard UI widgets like tables trees menus etc. then just use Swing. Layout in Swing is not that hard really especially with tools like NetBeans. However if you need GL or a canvas to paint on Qt Jambi might be worth looking into.  I think the most important factor you should consider is that Jambi QT is going to be discontinued from active development. Swing isn't that of a recent product as well. You should also definitely consider SWT since in my opinion it generally looks better than Swing. There are not production quality designers for SWT Eclipse comes built in with Windows Builder Pro now (or actually at the time of writing an available download that was suppose to be included into the Indigo release).  From my experience (one year Qt several years of Swing). Swing: Pro: Available on any Java installation. No need to ship any additional code You can write your own custom widgets in Java Contra: Swing is old. There haven't been any updates on the core for years and there won't ever be. If you plan to use Swing get a good wrapper which will make using Swing much more simple. Swing is hard to understand and use especially if you're used to UI programming on Windows. (One word: Layouts). Not many powerful widgets in the core set. You'll especially miss a good data grid. For a good look&feel you need an extra library Qt: Pro: Comprehensive set of powerful widgets Easy to use and learn Good documentation Good support Active development Uses native widgets and wraps them in a common API across all platforms Contra: You need to ship extra files Qt is written in C++ so you're accessing it via a wrapper library. If you need to implement a complex custom component things can get hairy. If you can hire a seasoned Swing developer give it a try. If you can't and if you have to start from scratch I suggest against Swing. With Qt you'll have results within hours and with only little hair pulling. Swing is powerful but it makes no attempt to hide this fact. So you'll find yourself struggling a lot with the API and the defaults which have made sense in 1996 but not anymore today. Qt has a much steeper learning curve and the API is much more consistent not to mention that Qt has been improved the last seven years while Swing hasn't (see below). KDE is based on Qt so there are lot of people out there using it and most of them have only little time (say a few hours here and there) and most can handle Qt after a short time. Which you simply can't say for Swing. There is a lot of Swing documentation but most only covers the common cases which you can figure out yourself from the Javadoc. If you need something more complex and if you're looking for a bird's eye view something which gives you a feeling how to combine things to achieve the desired result I haven't seen anything free and I also can't recommend a book for Swing book because I have stopped looking at them five years ago. If you look at Java 7 then you'll find that Sun is thinking about working on the Swing API. But: Java 7 is due in two years there is no commitment for this work items and last but not least: Can you switch to Java 7 when it will be available? Update: It seems that there won't be any Swing updates for Java 7 after all. Which is a pity. It will leave us with a built-in UI framework from the late 90's which just isn't on top of the times anymore. Being an old Amiga lover I know how it feels to be abandoned. Thanks Swing it's been a nice time. yeah because playing with AWT to generate a custom swing component is not a pain. Do you think in Swing we don't have good documentation good support. Come on I can come up with 10 or more times more article tutorials and books. Your pro and con stuff is just plain wrong. Swing has a lot more documentation tutorials and other resources available than there will ever be for QT. Swing is a very flexible framework which allows you to do whatever you want granted that makes it sometimes a bit complicated. At least it is free. I strictly disagree with your pros and cons. Completely disagree with all of your Swing cons. If you want to list pros and cons you must draw a line somewhere. Yeah there is a lot of Swing docs. They explain the basic stuff pretty well and then the air gets thin quick. So the Qt docs are better. Swing is flexible but it is also old. That's why I said it's more simple to write custom widgets in Swing *in Java* but Qt is easier to use and understand. From my experience Swing was good seven years ago and it stayed that way while everything else improved. It's sad :( Adeel: Ok I call. give me the URL of a good documentation of JTextPane which explains how to build your own custom editor with syntax hl spell checking everything you expect from an editor today. Dan: Since you give no reasons I can only ignore your comment :) Completely disagree with the entire answer quite frankly. Details in my answer below. It should also be pointed out that Swing widgets are non-native and ass ugly while Qt widgets are native and beautiful. Qt for Java i.e. Jambi will be officially abandoned as announced by Nokia. @Xolve: Last I heard is that Jambi > 4.5 will become OSS (just like Qt). Please either post a link if you have new information or stop spreading FUD. @Monkey: Please read the question again. This is not an argument against Swing it's whether he'll likely find developers. Qt is easier to learn than Swing. Plus Swing has been abandoned by Sun so no updates for Java 7 :( Gili: URL? As I heard it the Swing JSR will be part of the OpenJDK; that doesn't mean it will be in Java 7 :( FYI: Sun just announced that Swing Application Framework will be part of Java 7. To be completely clear Aaron's update about Swing updates not being issued past Java 7 is purely simply wrong. The Swing Application Framework (JSR 296) was (IMO) a relatively unambitious compromise effort to provide a unified foundation for building GUI apps but it only addressed the least interesting plumbing and infrastructure bits (e.g. resource mgmt bootstrapping session state etc). These are all capabilities that every Java app framework (including NetBeans and Eclipse) have done well for *years* so it's absolutely no loss (again IMO) that JSR 296 has been shelved. @Chas Emerick: I'm sure most readers will understand that my complaint is that Sun didn't put any effort into Swing for years not even something as JSR 296. I didn't say anything about JSR 296 itself. Qt widgets are _not_ native. It draws them itself just as Swing with native L&F does. It's just that Qt native L&F is somewhat better than Swing. Qt has themes that use native widget drawing mechanisms even if it does everything else itself so you can get a native ""look"" even if the ""feel"" is implemented in Qt. Aaron care to comment on this now one year later and with the changes in QT? Please include a @yar in your answer as I THINK that SO will inform me that way. Thanks! @yar: Well ... in one sentence: Swing still sucks a lot C++ Qt sucks a bit less than last year Java Qt sucks much more. I haven't used Qt Jambi for anything serious last year so I can't comment on its state but at least there is an open repository with the code and TrollTech tries to build a community to support it which is more than Sun does for Swing. Interesting. I got burned answering a few questions SO recently because I said that Swing does NOT give you native look and feel. People said ""get with it! That's no longer true! Swing is now near perfect."" I don't know myself... QT does NOT look like it's got much of a community behind it judging from random googling. So uh if Swing goes away what else can we use that's ""native""? Java would be left with no UI? Would we be stuck with either doing command line or web pages? @Brian: My experience is that Qt is much more simple to learn and use then Swing. This doesn't mean you *must not use Swing*. That would be silly. If you have a choice by all means use Qt. If you *don't* have a choice (because Qt just isn't available) well there is no point in arguing which is better is there? @Aaron Qt is fine except that it's not native. You have to go out of your way to use it. It adds complexity to the project and I don't even know if it's readily available in a stable version on all the platforms that Swing is. That's my concern right there. Qt is the basis for the Unix GUI environment KDE. Millions of lines of example code. And in my time maybe 10 years ago very well and extensively documented in the standard documentation. And the Qt philosophy matches QUI development very well which makes it easy to learn. ""If you plan to use Swing get a good wrapper which will make using Swing much more simple."" Which wrappers would you suggest? I've removed the part about Qt not being free for commercial apps. Qt is LGPL'd now. @Alexey: Try Swingx http://swingx.java.net/ +1 for the Amiga lover. I have FIVE. ;-)  I completely disagree with Aaron Digulla's entire answer as it pertains to Swing. I have found Swing to be while not the best design and a little convoluted reasonably simple and workable and ultimately quite well thought out. Further it most definitely is capable of what is required for almost all GUI app's. Using the native LAF the application will look and function enough like a native application to receive a passing grade (IMO). As to the bit about layouts... it's true that the Swing layout's are a little hard to use and need nesting (sometimes a fair amount thereof) to get the desired results but the concept of Layouts are one of the best things about doing GUI's in Java. Take the time to understand what they do for you and get yourself a good table-based layout (e.g. MatrixLayout TableLayout JGoodies FormLayout or MigLayout) which will eliminate 99% of the nesting. A table-based layout will also make your GUI simpler and will make the code better reflect the end visual result. So my advice is that if QT does things in a way in which you would prefer or provides functionality that Swing doesn't then by all means look into it - provided that you are happy with distributing it's Java and native components with your app and that it targets the platforms on which you want to run (or may want to run in the future). Otherwise it's hard to beat Swing's flexibility the fact that it's baked into every Java install and it's ability for you to easily tailor look and behavior. Oh and to be fair I have not looked at QT before - But I have about 6 10 years of active Swing and AWT development comprising 1 commercially deployed AWT application and 3 such (non-trivial) Swing applications plus a number of personal Swing apps. Perhaps more important is that I have implemented a fully-functional lightweight GUI toolkit on top of AWT very much analogous to Swing but with a completely different component and event architecture which has been successfully deployed commercially. Give a try to Qt ;) @Massimo: Last time I check QT for Java was abandoned or discontinued. You should give a try to C++ Qt Dude half year of Qt and 2 years of Swing and AWT here and if you say such things about Swing than you should definitely try Qt...",java qt gui swing476721,A,"Merging cells in JTable Is it possible to merge some cells of a JTable object? If it's not possible through JTable what is the best approach. Thanks. You could implement a JTable using a TableModel merging two columns of the original TableModel. class Model2 extends AbstractTableModel { private TableModel delegate; public Model2(TableModel delegate) { this.delegate= delegate; } public int getRowCount() { return this.delegate.getRowCount();} public int getColumnCount() { return this.delegate.getColumnCount()-1;} public Object getValueAt(int row int col) { if(col==0) return """"+delegate.getValueAt(rowcol)+delegate.getValueAt(rowcol+1); return delegate.getValueAt(col+1); } (...) } I said merging 'cells' not columns.  Not out-of-the-box. Here is an example that supports merging arbitrarty cells. This page has several examples of tables with spanning cells. Of course it's old and you get what you pay for. If paid software is an option JIDE Grids has some really nice Swing table support including custom cell spans. 3 out of 4 of those URLs are 404. :(",java swing jtable cell html276254,A,"How to disable (or hide) the close (x) button on a JFrame? I have a window (derived from JFrame) and I want to disable the close button during certain operations which are not interruptible. I know I can make the button not do anything (or call a handler in a WindowListener) by calling setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE); but I would like to make it clear visually that it is pointless to click it. I agree with Josh. At the very least map close to a popup that says ""Operation in Progress..."" with a ""Cancel"" (hides popup) and ""Close Anyway"" (forces quit) button. When the background operation completes the app closes if that popup is still visible (i.e. they haven't clicked Cancel) Just a suggestion you might want to consider avoiding such GUI behavior due to poor usability. For those coming to this later than 2008 there has been a change making it possible to do this. See this link Second response from the bottom shows how to do it by name. Like many other things in Swing this too is a complete PITA.  If I understand it correctly this bug report indicates that this is currently not possible.  This is probably the best you are going to get: setUndecorated(true); getRootPane().setWindowDecorationStyle(JRootPane.NONE); This will remove the entire titlebar java doesn't really specify a way to remove individual components of the titlebar edit: There may be a way check out these threads: link 1 link 2",java windows swing74171,A,"Java Compilation - Is there a way to tell the compiler to ignore parts of my code? I maintain a Java Swing application. For backwards compatibility with java 5 (for Apple machines) we maintain two codebases 1 using features from Java 6 another without those features. The code is largely the same except for 3-4 classes that uses Java 6 features. I wish to just maintain 1 codebase. Is there a way during compilation to get the Java 5 compiler to 'ignore' some parts of my code? I do not wish to simply comment/uncomment parts of my code depending on the version of my java compiler. Not really but there are workarounds. See http://forums.sun.com/thread.jspa?threadID=154106&messageID=447625 That said you should stick with at least having one file version for Java 5 and one for Java 6 and include them via a build or make as appropriate. Sticking it all in one big file and trying to get the compiler for 5 to ignore stuff it doesn't understand isn't a good solution. HTH -- nikki --  Keep one ""master"" source root that builds under JDK 5. Add a second parallel source root that has to build under JDK 6 or higher. (There should be no overlap i.e. no classes present in both.) Use an interface to define the entry point between the two and a tiny bit of reflection. For example: ---%<--- main/RandomClass.java // ... if (...is JDK 6+...) { try { JDK6Interface i = (JDK6Interface) Class.forName(""JDK6Impl"").newInstance(); i.browseDesktop(...); } catch (Exception x) { // fall back... } } ---%<--- main/JDK6Interface.java public interface JDK6Interface { void browseDesktop(URI uri); } ---%<--- jdk6/JDK6Impl.java public class JDK6Impl implements JDK6Interface { public void browseDesktop(URI uri) { java.awt.Desktop.getDesktop().browse(uri); } } ---%<--- You could configure these as separate projects in an IDE using different JDKs etc. The point is that the main root can be compiled independently and it is very clear what you can use in which root whereas if you try to compile different parts of a single root separately it is too easy to accidentally ""leak"" usage of JDK 6 into the wrong files. Rather than using Class.forName like this you can also use some kind of service registration system - java.util.ServiceLoader (if main could use JDK 6 and you wanted optional support for JDK 7!) NetBeans Lookup Spring etc. etc. The same technique can be used to create support for an optional library rather than a newer JDK.  You can do all of your compiling exclusively on Java6 and then use System.getProperty(""java.version"") to conditionally run either the Java5 or the Java6 code path. You can have Java6-only code in a class and the class will run fine on Java5 as long as the Java6-only code path is not executed. This is a trick that is used to write applets that will run on the ancient MSJVM all the way up to brand-new Java Plug-in JVMs.  This will make all the Java purists cringe (which is fun heh heh) but i would use the C preprocessor put #ifdefs in my source. A makefile rakefile or whatever controls your build would have to run cpp to make a temporary files to feed the compiler. I have no idea if ant could be made to do this. While stackoverflow looks like it'll be the place for all answers you could wehn no one's looking mosey on over to http://www.javaranch.com for Java wisdom. I imagine this question has been dealt with there prolly a long time ago.  I think the best approach here is probably to use build scripts. You can have all your code in one location and by choosing which files to include and which not to include you can choose what version of your code to compile. Note that this may not help if you need finer-grained control than per file.  A simple solution could be: Place the divergent classes outside of your normal classpath. Write a simple custom classloader and install it in main as your default. For all classes apart from the 5/6 ones the cassloader can defer to its parent (the normal system classloader) For the 5/6 ones (which should be the only ones that cannot be found by the parent) it can decide which to use via the 'os.name' property or one of your own.  Assuming that the classes have similar functionality with 1.5 vs. 6.0 differences in implementation you could merge them into one class. Then without editing the source to comment/uncomment you can rely on the optimization that the compiler always do. If an if expression is always false the code in the if statement will not be included in the compilation. You can make a static variable in one of your classes to determine which version you want to run: public static final boolean COMPILED_IN_JAVA_6 = false; And then have the affected classes check that static variable and put the different sections of code in a simple if statement if (VersionUtil.COMPILED_IN_JAVA_6) { // Java 6 stuff goes here } else { // Java 1.5 stuff goes here } Then when you want to compile the other version you just have to change that one variable and recompile. It might make the java file larger but it will consolidate your code and eliminate any code duplication that you have. Your editor may complain about unreachable code or whatever but the compiler should blissfully ignore it. Is that a documented behaviour of Java compilers? This answer seems incorrect. I did a quick Java app that used java.io.Console and the above approach. The compiler failed in 1.5 with an error like the following: Test.java:8: cannot find symbol: method console() location: class java.lang.System I could see how you could compile in 1.6 and exclude certain runtime features when running in a 1.5 JVM. Of course you would also need to re-compile into 1.5 JVM bytecode format to avoid the ""invalid minor version 49.0"" error. For that approach this solution could work. This answer *is* incorrect. The Java 5 compiler will fail to compile the ""Java 6 stuff goes here"" block so you haven't fixed the problem. A better solution would be to have two implementations of an interface one for Java 5 and one for Java 6. Your build tool can then include the right implementation at compile time. Ant could do this easily by using a build property.  You can probably refactor your code so that conditional compile really isn't needed just conditional classloading. Something like this: public interface Opener{ public void open(File f); public static class Util{ public Opener getOpener(){ if(System.getProperty(""java.version"").beginsWith(""1.5"")){ return new Java5Opener(); } try{ return new Java6Opener(); }catch(Throwable t){ return new Java5Opener(); } } } } This could be a lot of effort depending on how many version-specific pieces of code you have.  It depends on what Java 6 features you want to use. For a simple thing like adding row sorters to JTables you can actually test at runtime: private static final double javaVersion = Double.parseDouble(System.getProperty(""java.version"").substring(0 3)); private static final boolean supportsRowSorter = (javaVersion >= 1.6); //... if (supportsRowSorter) { myTable.setAutoCreateRowSorter(true); } else { // not supported } This code must be compiled with Java 6 but can be run with any version (no new classes are referenced). EDIT: to be more correct it will work with any version since 1.3 (according to this page).  You can use reflection API. put all your 1.5 code in one class and 1.6 api in another. In your ant script create two targets one for 1.5 that won't compile the 1.6 class and one for 1.6 that won't compile the class for 1.5. in your code check your java version and load the appropriate class using reflection that way javac won't complain about missing functions. This is how i can compile my MRJ(Mac Runtime for Java) applications on windows.  The suggestions about using custom class loaders and dynamically commented code are a bit incredulous when it comes to maintenance and the preservation of the sanity of whichever poor soul picks up the project after you shuffle to pastures new. The solution is easy. Pull the affected classes out into two separate independent projects - make sure the package names are the same and just compile into jars that you can then consume in your main project. If you keep the package names the same and the method signatures the same no problems - just drop whichever version of the jar you need into your deployment script. I would assume you run separate build scripts or have separate targets in the same script - ant and maven can both easily handle conditionally grabbing files and copying them. Independent projects are overkill separate source folders and a custom build script will do just fine. Use source folders for src/main with the common codebase and say src/java5 and src/java6 for features dependent on each version.  The public static final solution mentioned above has one additional benefit the author didn't mention--as I understand it the compiler will recognize it at compile time and compile out any code that is within an if statement that refers to that final variable. So I think that's the exact solution you were looking for.  You can get conditional compile but not very nicely - javac will ignore unreachable code. Thus if you structured your code properly you can get the compiler to ignore parts of your code. To use this properly you would also need to pass the correct arguments to javac so it doesn't report unreachable code as errors and refuse to compile :-)  There is no pre-compiler in Java. Thus no way to do a #ifdef like in C. Build scripts would be the best way. He's suggesting to use s C compiler to run the actual C pre-processor which would output modified source files then run the Java compiler on those. Most if not all C compilers have a switch to run the pre-processor only.",java swing compilation397500,A,How to design interface for a game in Java We're a team of a designer and a programmer. Me the programmer is hopeless on design of all sorts so the user interface of the game must be created by the designer. We were thinking of a main screen where the character walks around a small minimap in the top an inventory section etc. All these things would have to be designed in a way that looks pretty i.e nice graphics/buttons/colors etc. I'm assuming that the designer will create an outline of this interface in photoshop/illustrator then send me the file in .png or .jpeg format and I'll implement it into the program making sure the buttons all work etc. My question is is this the correct method for doing this? Should he send me the interface's layout in a .png/.jpeg format or send me only the buttons and I have to code the rest of the interface manually in java putting the buttons/icons where they need to be etc. If so how can I do this? Any classes/frameworks that do this? Any guidelines at all will be helpful. Thanks! You've described one of the primary use cases stated for JavaFX. There's at least one visual design tool already out for it as well. I've also seen articles on this blog that address the idea of taking visual assets from a graphic designer and working with them in an app. And of course you can drop into Java for the heavy lifting at any point.  It really depends on a few things..Is it for J2ME or are you considering this for desktop (OpenGL/JOGL)? For J2ME you have to really know a bit about making games for devices with constrained memory. J2ME comes with its own GameCanvas and Sprite related classes that you can utilise. I Would recommend you read up on J2ME game development either through google or buy a book. While there are 3D libraries for the J2ME environment I have never been impressed by it. For a desktop based game I would recommend using some form of accelerated hardware based libraries for 2D or 3D based games. Bit of a steep learning curve but better in the long run. Plenty of libraries out there to help you get started(Jogl and JAva3D for example) You should look into using some called a scene graph which will help you provide a good foundation to start from. Once again steep learning curve but much easier to maintain and develop with. In regards to your design/implementation question it seems you dont have much experience in this area.Generally graphic designers/UI interaction designer will have a better understanding of how to provide an interface for the game. They will generally develop a mock of some sortyou will implement it a test will be done with user's and feedback will determine where you go from there. If you dont have some form of interaction designer you or your designers will need to read up on it. Interaction through an interfaceespecially for games is not an easy thing and can make or break your game. But it seems that you should definitely do some reading up on game architectures before proceeding to implementation phase if you do not have experience in this area. It will help you understand some theory and get a foundation before going ahead and building something which inevitably turns out to be completely wrong.  Think up some weird XML format that completely describes the interface and make him create it. :)  take a look at this: http://www.cs.qub.ac.uk/~P.Hanna/CSC207/lectures/lectures.htm the link is not working anymore. :( anyone knows about resources related to this class?  I suggest you look at java games which do this already for examples of how this is done. e.g. http://sourceforge.net/projects/freecol/#item3rd-2 http://sourceforge.net/projects/megamek/#item3rd-2 http://sourceforge.net/project/screenshots.php?group_id=1111 +1 attaching similar reference: http://www.brackeen.com/javagamebook/  The designer will also have to learn something about game development how to produce textures that will work fine at different resolutions if it's a platformer to create sprites that lend themselves properly to animation and so on and so forth. Answering your question he'll probably need to do both (send you buttons sprites etc. and a global view to see how it all fits together). I suggest you both check http://www.gamedev.net/reference/ and http://www.gamasutra.com,java swing 2d356671,A,"JFileChooser.showSaveDialog(...) - how to set suggested file name The bloated JFileChooser seems to be missing one feature: a way to suggest the file name when saving a file (the thing that usually gets selected so that it would get replaced when user starts typing). Is there a way around this? Great! Works perfectly in Windows too with Java 1.6.35. Only a little change in my case: FileChooserUI fcUi = jFileChooser.getUI(); Class<? extends FileChooserUI> fcClass = fcUi.getClass(); Method setFileName = fcClass.getMethod(""setFileName"" String.class); setFileName.invoke(fcUi defaultDirectoryName);  setSelectedFile doesn't work with directories as mentioned above a solution is  try { FileChooserUI fcUi = fileChooser.getUI(); fcUi.setSelectedFile(defaultDir); Class<? extends FileChooserUI> fcClass = fcUi.getClass(); Method setFileName = fcClass.getMethod(""setFileName"" String.class); setFileName.invoke(fcUi defaultDir.getName()); } catch (Exception e) { e.printStackTrace(); } Unfortunately the setFileName is not included in the UI interface thus the need to call it dynamically. Only tested on mac. Work for me in a Mac 10.3.4 / Java 1.4.2  If I understand you correctly you need to use the setSelectedFile method. JFileChooser jFileChooser = new JFileChooser(); jFileChooser.setSelectedFile(new File(""fileToSave.txt"")); jFileChooser.showSaveDialog(parent); The file doesn't need to exist. EDIT: If you pass a File with an absolute path JFileChooser will try to position itself in that directory (if it exists).  If that doesn't work here is a workaround: dialog.getUI().setFileName( name ) But you should check whether the selection mode is FILES_ONLY or FILES_AND_DIRECTORIES. If it's DIRECTORIES_ONLY then setSelectedFile() will strip the file name. I would copy the method. How would you access the dialog though? It's private created on the spot in `showSaveDialog()` and disposed immediately after it was shown still inside that function.",java swing jfilechooser407343,A,"Where are Swing applications used? Are Swing applications really used nowadays? I don't find a place where they are used. Is it okay to skip the AWT and Swing package (I learned a bit of the basics though)? Related: http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324 You may checkout Swing Sightings. This website is hosted by SUN and it is dedicated to sw projects that use Swing. There are a lot of projects using Swing ... http://java.sun.com/products/jfc/tsc/sightings/ While I don't doubt Swing has it's place even today (and at the same time being an ugly and complex beast to get started with) the last sightings issue is from 2005 - so it cannot really prove that Swing is used _today_ ;) LandlordMax (http://www.LandlordMax.com) is a current desktop application that's based on Swing. I can assure you the Swing community is very alive! FYI: It was feature on Swing Sightings years ago.  Are you skipping it for an exam/interview? Besides really good apps like IntelliJ IDEA and NetBeans there are lots of Swing like frameworks [SWT (Eclipse) GWT etc.] which you can learn faster with Swing knowledge...  Hmmmm... how about NetBeans? You know the IDE? It uses Swing. oh thanks for the info ya i know and also eclipse While Eclipse is great IDE it doesn't use Swing but SWT.  Whenever you want to write a desktop GUI app for non-Windows OS you use Swing as the only sane and guaranteed cross-platform GUI framework. Besides Swing has a very good design. I recommend to learn it anyways to make yourself a better programmer.  You should probably be looking at JavaFX for future work. As the FAQ states Sun is not replacing Swing with JavaFX Script. Instead JavaFX Script makes Swing easier to use. Using/learning it will give you a very good understanding of the important Swing concepts and how they fit in with ""the future"". I haven't used JavaFX yet but heard very good things about it.  Skip AWT and Swing? To jump where? SWT? Web-based development? In the broader sense I have a number of Java applications although I am not too sure if they use Swing or SWT. Lot of database tools like SQuirreL SQL Client are written in Java. I think SQuirrel uses stuff from Netbean which is of course Swing based. yEd is written in Java probably Swing. A number of P2P softwares are written in Java including Frostwire (I see no trace of SWT there but I can just miss it). And this list is far from exhaustive! Lol! I forgot to mention the software suite made by the company I work for! It is quite specialized used by mobile phone companies to monitor health of their network nodes (superficially looks like a spreadsheet). Totally Swing based. Open Office is *not* written in Java (it's slow for other reasons ;)). Ah? Somebody already told me but before posting I checked and found lot of jar files (in program/classes). It has lot of DLL and exe files too indeed. Confusing at least. OpenOffice is written in C++ and supports Java plug-ins somehow.  If you are writing for the web exclusively you can probably skip Swing but otherwise you're absolutely going to run into it. I've never worked on a non-trivial Java app without a Swing GUI. Also Swing is one of the better APIs to use. If you use most others you are going to find them more difficult to use and/or platform incompatible. (If anyone reading this is aware of exceptions to this please leave comments I haven't looked for a while and am kind of curious if anything better has become available) Other JVM languages like JRuby and Jython are often used because of their access to Swing.  AWT I never actually learnt in full as swing is just a more sophisticated version knowing swing is very important if you have any intention of ever making a Java GUI application. will it be ever used for enterprise application development ?  There is no universal question to whether it is ok to skip something or not. It's a matter of priorities. While Swing has a lot to teach you (and it is too heavily infused with AWT) if you're never going to be writing GUIs you may be better off investing in something else. Swing while ugly as hell is still used in many places. A quick search on ""java swing"" in Indeed or dice would reveal many jobs and industries that require it. i find that the file choosers are very slow in swing - i hate them Swing while not great in many ways is far from ""ugly as hell"". It has many nice concepts and is quite good to use after a bit of experience is gained. And with recent font improvements makes it quite possible to write a GUI which is indistinguishable from a native app. Indistinguishable except that it resizes properly that is. You can write something pretty in every language but in my experience the vast majority of applications written with similar effort in Swing compared to other APIs tend to be clunkier less aesthetic and less robust. I always put the following right at the top of my `main` method to reduce the ugly-ness: `UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());` (with the necessary try/catch). It's still not as beautiful as you might want it to be but it helps a lot.  You should certainly write Swing for desktop Java only using AWT to the degree that Swing demands it. I'm sure people can come up with examples of very good Swing apps besides SQL Squirrel and IntelliJ. I think that RIA technologies like Flex Silverlight etc. are ascendant because the web and services are taking mindshare from desktops. It's not just Swing that's losing out. ""certainly"" perhaps not there is at least the SWT alternative (which I didn't learn). I wouldn't consider SWT as a viable alternative but that's my personal choice.  IIRC jEdit is also a Swing app. Quite a popular text editor.  Check out Filthy Rich Clients. It explains some of the history of AWT and Swing. Swing being a lightweight alternative (successor) to most of the AWT classes.  While Swing has some cross-platform look-and-feel deficiencies and it would be nice if it was updated to support generics it is still well designed and quite usable. I have always been a fan of the sheer amount of customization offered. SWT is nice and is more native but you give up some power and control with that as well. In addition it seems simpler to use which can be a plus since Swing can be overly complex due to its flexibility.  Geertjan Wielenga often blogs about applications based on the NetBeans platform and therefore Swing. The applications range across the board from rather small esoteric applications to very large mission-critical systems (Boeing Aircraft comes to mind). Many of the enterprise-level applications that Geertjan misses are mentioned on Planet NetBeans. It seems like every few weeks there is an announcement or description of such a program. As noted above lots of tools use Swing including the IntelliJ IDEA IDE a favorite. I'm surprised no one else mentioned it. Sun also used to maintain a Swing Sightings web site but it hasn't been updated in a few years. Where I work Swing is used in the presentation layer for a very large document management system. In my own development experience I've used Swing for desktop applications in the areas of image processing device control (video motors etc.) math statistics and medical devices. BTW I agree about the slowness of file choosers. But there are lots of alternatives that will use the native file chooser. It can just be a bit jarring if the L&F's don't match up very well. EDIT: Oh and as others have mentioned it's very easy to use Swing from other languages on the JVM. With Clojure for example it is even easier to use than in Java in my opinion.  Swing is heavily used in business specific (vertical)/internal application development.  Swing applications are used in most cases where a Java app runs on the desktop. Sometimes you don't even know - for example LimeWire is a Java Swing application. When learning Swing you'll find that you will come to know those parts of AWT that are still important such as Event LayoutManager Graphics Font Color etc. Yes Azureus is an Eclipse RCP i.e. it uses SWT. azureus was developed in swing ? wow .. thanks for the info pal :) I believe that Azureus uses SWT toolkit (from of Eclipse) not Swing. OK edited my answer to fix that. Sorry for the mistake. I tend to agree. You won't even realize you're running Swing apps when they're done right. Unless you really look there's no way to tell our app (http://www.landlordmax.com) is a Swing app. No Azureus/Vuze is NOT Eclipse RCP based but on SWT.",java swing31127,A,"Java Swing: Displaying images from within a Jar When running a Java app from eclipse my ImageIcon shows up just fine. But after creating a jar the path to the image obviously gets screwed up. Is there a way to extract an image from the jar at runtime so I can then open it up? Or is there a better way to do this? I'd like to distribute a single jar file if possible. The ""Tom Hawtin - tackline"" answer is much better it just showed up a little late. Please consider changing your selected answer. You can try something like: InputStream stream = this.getClass().getClassLoader().getResourceAsStream(""/images/image.jpg""); In your JAR file you might have a directory structure of: MyJAR.jar - com (class files in here) - images ----image.jpg  This is working for me to load and set the content pane background image: jar (or build path) contains:  - com - img ---- bg.png java contains: JFrame f = new JFrame(""Testing load resource from jar""); try { BufferedImage bg = ImageIO.read(getClass().getResource(""/img/bg.png"")); f.setContentPane(new ImagePanel(bg)); } catch (IOException e) { e.printStackTrace(); } Tested and working in both jar and unjarred (is that the technical term) execution. BTW getClass().getClassLoader().getResourceAsStream(""/img/bg.png"") - which I tried first - returned me a null InputStream.  To create an ImageIcon from an image file within the same jars your code is loaded: new javax.swing.ImageIcon(getClass().getResource(""myimage.jpeg"")) Class.getResource returns a URL of a resource (or null!). ImageIcon has a constructors that load from a URL. To construct a URL for a resource in a jar not on your ""classpath"" see the documentation for java.net.JarURLConnection.",java swing image344969,A,Making a JDialog button respond to the Enter key I have a JQueryDialog with a text field an OK button and a cancel button. I want to be able to hit the enter key after filling in the text fields and have it do the same action as when I click the OK button. What happened to the code? Are JQueryDialog(in question) and JDialog(in title) surely the same things? In your dialog call getRootPane().setDefaultButton(okButton).  The code is almost correct. I would change the if comparison and use the correct method as noted below. if (KeyEvent.VK_ENTER == event.getKeyCode()) { yourButton.doClick(); } Where do you see the code? It looks like the original code that I responded to is missing.,java gui swing145972,A,"How can I setup LookAndFeel Files in Java? I need to setup LookAndFeel Files in JDK 1.6. I have two files: napkinlaf-swingset2.jar napkinlaf.jar How can I set this up and use it? I would like a GTK look and feel OR Qt look and feel Are they available? Can you please be more clear? These 2 files do you have the source or are they just binaries you have? This page explains how the work with Look&Feels: http://java.sun.com/docs/books/tutorial/uiswing/lookandfeel/plaf.html You can do it commandline: java -Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel MyApp Or in code: UIManager.setLookAndFeel(""javax.swing.plaf.metal.MetalLookAndFeel""); You need to make sure the jars containing the look&feel are on the application classpath. How this works depends on the application. A typical way would be to put it in a lib folder. Look&Feels that are available by default in the JDK are: com.sun.java.swing.plaf.gtk.GTKLookAndFeel com.sun.java.swing.plaf.motif.MotifLookAndFeel com.sun.java.swing.plaf.windows.WindowsLookAndFeel Quioting the link above: The GTK+ L&F will only run on UNIX or Linux systems with GTK+ 2.2 or later installed while the Windows L&F runs only on Windows systems. Like the Java (Metal) L&F the Motif L&F will run on any platform. i know how to use LAF  but i want install LAF files . and the GTK LAF not installed by default . @Waseem -- Then I suggest you elaborate in your question.  The Qt look and feel is available from Trolltech as the product Jambi which IS Qt for Java. this is no look and feel. it is the whole toolkit.  The class name for Naplin is net.sourceforge.napkinlaf.NapkinLookAndFeel. So to set it as default on the command line use: java -Dswing.defaultlaf=net.sourceforge.napkinlaf.NapkinLookAndFeel To install it add napkinlaf.jar to the lib/ext direction and the lines: swing.installedlafs=napkin swing.installedlaf.napkin.name=Napkin swing.installedlaf.napkin.class=net.sourceforge.napkinlaf.NapkinLookAndFeel to lib/swing.properties within your Java installation (you'll probably have to create the file). See the Napkin wiki page it's work now  thank you nice LookAndFeel",java swing qt gtk look-and-feel461112,A,"Panel with line wrapping and line breaking in Java Swing How to implement a panel that would support line wrapping and line breaking? I would only add textual labels and line breaks to this panel. The labels should flow from left to right wrapping to the next ""line"" if needed. The line breaks would cause a jump to the next line. I would also like to make the panel vertically scrollable. The solution should work in Java 5. SwingX can be used. Clarification: The textual labels are actually JXHyperlinks (from SwingX) i.e. the panel contains clickable labels. This is the reason I cannot just use JTextArea. Although it may not be a solution you're in search of but from the requirements you have it seems like a custom LayoutManager may be able to achieve what you are after. By designing and assigning a custom Layout Manager which allows line breaks to a Container (such as Panel) it should be possible to have a Panel which allows line breaks. The Laying Out Components Within a Container article from The Java Tutorials will provide general information on how Layout Managers work in Java and in particular the Creating a Custom Layout Manager will provide information on how to make a custom Layout Manager to apply to an Container. The behavior of the FlowLayout (the default Layout Manager for Panel) seems fairly close to the behavior you may be after. Adding functionality to line break seems like the missing piece. Suggestion: Perhaps the custom Layout Manager can have the ability to add a line break by having a Component that represents a line break which can be added to a Container by using the add() method. For example have a class constant Component in the custom Layout Manager such as (a hypothetical) LineBreakLayout.LINE_BREAK and adding that to the Container can tell the custom layout manager to move to the next line. Perhaps an implementation can be like: Panel p = new Panel(new LineBreakLayout()); p.add(new Label(""First Line"")); p.add(LineBreakLayout.LINE_BREAK); p.add(new Label(""Second Line"")); The above hypothetical LineBreakLayout will then render the first Label in one line and the second Label in the second line.  I found JTextPane which I had overlooked before for some reason. This class does what I need. Thanks for your help though. :)  UPDATE: I missed the request for hyperlink support. Don't know how to do that w/o using the EditorPane. JTextArea does exactly what you've described. JTextArea textArea = new JTextArea(); JScrollPanel sPane = new JScrollPane(textArea); I want to make the labels clickable so that they could behave like hyperlinks. Could I do it with TextArea? (I don't want to use the JEditorPane with HTML.) Any reason against the JEditorPane (I'm just curious)? Seemed to be slow and an overkill. Also I couldn't figure out how to store a Java object with each hyperlink on the page so that clicking on the link would do some action based on the object. The Hyperlink event listener calls back with the Element and URL from anchor tag which caused the hyperlink. You could probably create some sort of mapping from URL->Object to take actions Right I currently have something like that. I'm just wondering if there is a better solution without such a mapping table. ahhh good deal. Now you've got me interested in the solution ;) Do you really don't know how to store an object for the hiperlink? In java there is a data structure named: ""Map"" with various subclasses. You can have map.put( aLink anObject ); and get the object when some link is used. It seems to me very straight forward.  This sample is not from a panel that is a container but from a JLabel that is intended to show content. You could use HTML in your content and use a <br> on each break. You should programmatically calculate the breaks according with your rules on component resize. Here's the code: import javax.swing.*; import java.awt.*; public class Wrap { public static void main( String [] args ) { JFrame frame = new JFrame(""Wrap test""); String text = ""<html>This<br>is<br>a<br>multiline<br>label</html>""; frame.add( new JLabel( text ) ); frame.pack(); frame.setVisible( true ); } } Yes I don't feel like implementing a map that would map strings to objects. I can use JXHyperlink (from SwingX) to store an object ""into the link"" and have an action performed on the object when the link is clicked. The problem is only how to layout the links so that they wrap in a scrollable pane. As per the hyperlinks you can have the by using a mouse listener. You can get where the object has been clicked and use a map to execute the action. But as reading your comments on basszero answer I think you just don't feel like program it.",java gui swing440745,A,"JSeparator with Title Do somebody knows a (free) horizontal JSeparator with a title label? Something like that: --- Title XYZ -------------------- Thank you in advance! Best Regards Thomas Hmm‰Û_ without any testing and completely from the top of my head: JPanel panel = new JPanel(); panel.setBorder(new TitledBorder(""Title"")); menu.add(panel); Most Swing containers eat anything so that might even work. Another approach would be to create a custom component (maybe with a horizontal BoxLayout) and add a JSeparator a JLabel and another JSeparator to it then add it to the menu.  I found a solution: SwingX JXTitledSeparator. We already use SwingX in our project. I didn't know that SwingX provides a titled separator. @Bombe Thank you for your help.",java gui swing339821,A,"Find composite location on screen I am implementing a on screen keyboard in Java for SWT and AWT. One important thing is to move the keyboard to a position where the selected text field can show and is not lying behind the on screen keyboard. For AWT i can detect the position of the current selected component with Component owner = KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner(); if (owner == null) { return; } Point ownerLocation = owner.getLocationOnScreen(); Dimension ownerSize = owner.getSize(); How can i implement the same logic in SWT? I get the current selected widget by adding a focuslistener to the SWT event queue. But when i call Point location = new Point(mTextWidget.getLocation().x mTextWidget.getLocation().y); Dimension dimension = new Dimension(mTextWidget.getSize().x mTextWidget.getSize().y); I will get the position relativ to the parent composite. How can i get the location of a special widget relativ to the complete screen? I believe the method Control.toDisplay() should be able to translate your coordinates into ones relative to the screen. This snippet may illustrate what you are after: package org.eclipse.jface.snippets; import org.eclipse.swt.SWT; import org.eclipse.swt.events.SelectionAdapter; import org.eclipse.swt.events.SelectionEvent; import org.eclipse.swt.graphics.Rectangle; import org.eclipse.swt.widgets.Button; import org.eclipse.swt.widgets.Display; import org.eclipse.swt.widgets.Shell; import org.eclipse.swt.widgets.Text; public class Bla { public static void main(String[] args) { Display display = new Display(); Shell shell = new Shell(display); final Text t = new Text(shellSWT.BORDER); t.setBounds(new Rectangle(101020030)); System.err.println(t.toDisplay(1 1)); Button b = new Button(shellSWT.PUSH); b.setText(""Show size""); b.setBounds(new Rectangle(2201010020)); b.addSelectionListener(new SelectionAdapter() { public void widgetSelected(SelectionEvent e) { System.err.println(t.toDisplay(1 1)); } }); shell.open(); while (!shell.isDisposed()) { if (!display.readAndDispatch()) display.sleep(); } display.dispose(); } } Perfect this is what im looking for. thanks @Mario: You are welcome. Glad I could help. Thank you buddy! Your answer brought an end to a morning of pain. @VonC: omg didn't realise that;) well sadly SWT/RCP still lives on through RAP. I'm longing for JavaFX as a desktop/web client crossover framework though... works perfectly thanks for bringing up toDisplay()! It will also accept a Point which is handy when translating component locations. I used it to translate event coordinates during a Drag&Drop session: composite.toDisplay(composite.getLocation()) @Gregor Nice to know this answer is still helpful... more than 5 years later.",java swing plugins swt awt145863,A,Best Java/Swing browser component? What's the best cross platform Java Swing browser component at least able to play nicely in a swing interface (lightweight component ?) and able to run on MacOSX and Windows ? Things like : FlyingSaucer JDIC maybe others ? Highweight browser based http://code.google.com/p/jbrowser/. It use Canvas component. based on Mozilla 2.x  The Lobo Browser could be what you're looking for: http://lobobrowser.org/index.jsp It's GPL and renders JavaFX as well as HTML Edit JavaFX 2.0 comes with a Browser component: http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm Lobo is almost useless in that too many websites don't render right.  i belive this could help: http://djproject.sourceforge.net/ns/index.html I tried them all DJ is the best Well their webstart doesn't demo doesn't launch! Boo. isnt this windows only? It runs on Mac OS as well even on new Lion. I could not find a method to integrate it into netbeans so it seems useless.  you can go for Mozswing which have all the features that mozilla firefox 3.0 supports .. but the same is heavy. Mozswing has been dead for quite a while and only supports 32 bit.  We (@ WebRenderer) believe we have the best Java browser SDK - http://www.webrenderer.com/ WebRenderer is Swing based using Firefox as the underlying engine and supports HTML5 SVG etc on both 32 and 64bit systems. Welcome to Stack Overflow! Thanks for posting your answer! Please be sure to read the [FAQ on Self-Promotion](http://stackoverflow.com/faq#promotion) carefully. Thank you Andrew for your contribution. I checked the FAQ before posting my response and hence made sure to identify my association with WebRenderer. Whilst we are on this topic you may however wish to look at Vladimirs (of JXBrowser) posts (user #459345 and user#241010) above. Secondary I decided to post WebRenderer as it is not only relevant to the discussion but also for completeness. WebRenderer was previously posted on this Question as an answer back in 2009 by Lukasz (last name withheld) ‰ÛÒ http://goo.gl/8263M Lukasz Drukarz posted a link-only answer on July 1 09 and it was deleted because it was only a link. (as a 10k user I can see deleted posts). I saw Vladimir's post and would have left a comment for him as well but he has not been on the site for quite some time (over 2 years). This type of question and the answers that it generates are not generally preferred around here and this question has been protected and flagged for closure. This question is in fact quite problematic most'best to do this' question are since they (naturally) just attract links. The accepted answer to this question is in fact a link. Deleting self promotional answers on a question basically _asking_ for them is not going to help so I have closed this instead.,java swing browser437413,A,How can jFrames be used inside of JavaFX? I just saw a article on Swing being used in JavaFX. How can an application that uses a jFrame to display graphics be ported into JavaFX? Also will the jButtons and jSliders work in the normal manner? I know this is a generic question but I know little of JavaFX and am curious about porting some desktop applications to the web via the JavaFX package. javafx file: import javax.swing.JComponent; import javafx.ext.swing.SwingComponent; class NewFxComponent extends SwingComponent { var comp: JComponent; public override function createJComponent():JComponent { return new OldJComponent(); } },java swing web-applications javafx99626,A,"What's the definitive Java Swing starter guide and reference? Obviously the Java API reference but what else is there that you all use? I've been doing web development my entire career. Lately I've been messing around a lot with Groovy and I've decided to do a small application in Griffon just to experiment more with Groovy and also break some ground in desktop development. The only thing is I'm totally green when it comes to desktop apps. So world where's a good place to start? The Swing Tutorial is very good. Apart from that the Swing API is obviously the reference however it's also a treasure trove of fairly good source code! Add the API source to your IDE and you can jump directly to the implementation to all the Swing classes. This is a great way to explore the functionality see how various Swing components work and learn a good Swing ""style"". Furthermore it's great to be able to step through the API classes if things don't seem to work and you have no idea why! Adding the API source to the IDE has the additional benefit that you get all the JavaDocs along with it although all modern IDEs can also pull them from the net -- you do not want to program desktop Java without the documentation available from within the IDE! NetBeans and other IDEs do make the creation of IDEs very easy but be aware that there is a lot more to Swing than just containers and layout managers. In fact containers and layout managers are among the easier things and I'd recommend learning to use them by hand too. There is nothing at all wrong with using a GUI builder but in some cases it's overkill and then it's nicer to just quickly whip up a GUI from source. In other cases you need to be able to create a GUI dynamically and then GUI builders are no use at all! For creating very complex layouts from source I recommend FormLayout which has its own set of quirks but which does scale (in terms of programming effort) to very big frames and layouts. If you've only done Groovy so far you'll be surprised how well documented Swing and the rest of the Java API is and how well everything is integrated. It might also take some getting used to a different style of programming using the debugger more often and println-debugging less etc. There might also be some ""boiler-plate"" code that will be very annoying. ;) Enjoy. I've actually been doing a lot of Java development but all with a web front end (mostly Struts) so I'm very familiar with debugging and the usefulness of IDEs. I guess I'm looking for more of a refcard type resource that I can use to help until I become more familiar with the components and widets  When it comes to developing java desktop applications I would highly recommend using the IDE environment Netbeans. Especially when it comes to the development of Swing based applications.  The Sun Java tutorials are pretty good. I cannot vouch specifically for the Swing one as it has been ages since I've done any Swing development and I have not read it myself. Creating a GUI with JFC/Swing  I recommend you to play around with netbeans. It will allow you to build complete GUIs using only your mouse. Once you get familiar with Swing components start using the Java API. Thats how I started.  The O'Reilly Swing Book is a pretty good reference it has a good overview of general Swing concepts and covers each of the major classes. I used it recently when I had to refresh my memory on Swing.",java swing groovy griffon286674,A,Remoting from a Swing app to GWT server To put it simple I've written a JSE Swing app that needs to talk to a GWT server I've written earlier. I absolutely love the way GWT does remoting between it's javascript and server sides and wish I could utilize this mechanism. Has anyone managed to use GWT-RPC this way? Should I just go Restlet instead? If you are doing Java-to-Java communication RMI would be simpler and more expedient. Serializing data to/from some XML or URL-based format doesn't add a lot of value. With EJB3 it is dead simple to deploy remote objects and to call them. You can then turn those EJBs into web services if you need to later but for Java-to-Java I can't think of a good reason to not use some sort of RMI-based communication. RMI does not work at the moment on AppEngine. I'm not sure if Google will fix that,java swing gwt remoting restlet7269,A,"How can I identify in which Java Applet context I'm running without passing an ID? I'm part of a team that develops a pretty big Swing Java Applet. Most of our code is legacy and there are tons of singleton references. We've bunched all of them to a single ""application context"" singleton. What we now need is to create some way to separate the shared context (shared across all applets currently showing) and non-shared context (specific to each applet currently showing). However we don't have an ID at each of the locations that call to the singleton nor do we want to propagate the ID to all locations. What's the easiest way to identify in which applet context we're running? (I've tried messing with classloaders thread groups thread ids... so far I could find nothing that will enabled me to ID the origin of the call). Singletons are evil what do you expect? ;) Perhaps the most comprehensive approach would be to load the bulk of the applet in a different class loader (use java.net.URLClassLoader.newInstance). Then use a WeakHashMap to associate class loader with an applet. If you could split most of the code into a common class loader (as a parent of each per-applet class loader) and into the normal applet codebase that would be faster but more work. Other hacks: If you have access to any component you can use Component.getParent repeatedly or SwingUtilities.getRoot. If you are in a per-applet instance thread then you can set up a ThreadLocal. From the EDT you can read the current event from the queue (java.awt.EventQueue.getCurrentEvent()) and possibly find a component from that. Alternatively push an EventQueue with a overridden dispatchEvent method. This is (by far) the best collection of ideas I saw on the subject. I especially like the ""push a customized eventqueue"" - and I'm going to try it.  If I understand you correctly the idea is to get a different ""singleton"" object for each caller object or ""context"". One thing you can do is to create a thread-local global variable where you write the ID of the current context. (This can be done with AOP.) Then in the singleton getter the context ID is fetched from the thread-local to use as a key to the correct ""singleton"" instance for the calling context. Regarding AOP there should be no problem using it in applets since depending on your point-cuts the advices are woven at compile time and a JAR is added to the runtime dependencies. Hence no special evidence of AOP should remain at run time.  @Hugo regarding threadlocal: I thought about that solution. However from experiments I found two problems with that approach: Shared thread (server connections etc) are problematic. This can be solved though by paying special attention to these thread (they're all under my control and are pretty much isolated from the legacy code). The EDT thread is shared across all applets. I failed to find a way to force the creation of a new EDT thread for each applet. This means that the threadlocal for the EDT would be shared across the applets. This one I have no idea how to solve. Suggestions? You should be able to get a new EDT thread by using a different value for the archive tag. I think you can just add a random jar name to the end even if it does exist.",java swing applet294813,A,Embedding web browser window in Java Does anyone know a way to open up an instance of the platform's (Windows/Linux/Mac) browser within a Swing window that is integrated into a Java application. No other actions would be preformed other than opening a given URL. Currently we open a new browser window because the Java embedded browsers have been insufficient. However from a user interaction standpoint this is less than desirable. I'm curious if a solution for this was part of the 1.6 Java release. So far my google-foo has not turned up anything of note. Are there any closed-source libraries that do this? Anything? WebRenderer is a commercial product that does this and does it well. However the last time I checked it was also pretty expensive (they wanted a $2 per-client fee for a large number of client and a several $1000 support contract).  JDIC Your link is broken. Although I am using Chrome so if it isn't it's only my problem. Downloaded from here: http://www.java2s.com/Code/Jar/j/Downloadjdic092jar.htm Documentation was here: 1) http://www.aswinanand.com/2006/03/two-minute-web-browser-in-java/  MozSwing it is free or JxBrowser or JExplorer ($500)  use JEditorPane A text component to edit various kinds of content. By default the following types of content are known: text/plain text/html and text/rtf or Lobo Lobo is an open source web browser that is written completely in Java. The OP asked about opening the platform browser.  We use JDIC as well and it works for us in Windows; however configuring it to work in *nix/OS X can be a pain as it simply utilizes a platform-native browser (supports IE and Mozilla) while on Linux/Mac you may have neither - that's the problem.,java swing browser embed473540,A,"Correct way to use Actions to create menus toolbars and other components in Java The naive way of writing building a menu in a Java Swing app is to do something like: JMenu fileMenu = new JMenu(""File""); JMenuItem openItem = new JMenuItem(""Open...""); openItem.addActionListener(new ActionListener() { /* action listener stuff */ } ) fileMenu.addMenuItem(openItem); A more experienced developer will recognize that actions can be accessed through a variety of mechanisms - menus toolbar buttons maybe even other workflows in the system. That person is more likely to write: Action openAction = new AbstractAction(); openAction.setName(""Open...""); openAction.addActionListener(new ActionListener() { /* action listener stuff */ } ) ... JMenuItem openItem = new JMenuItem(openAction); My question is what is the best way to manage these Action objects so they can be used across menus toolbars etc? Create a factory class that returns specific actions? Declare all of the actions as private static final Action in some utility class? Take advantage of a Java application framework? Something else? Duplicate of http://stackoverflow.com/questions/448179/organizing-actions-in-a-swing-application#448195  as pointed out by Dave Ray. Action is a bad abstraction - an ActionListener welded to a poor man's Map. Certainly do not assign them to a static as they are mutable and also need some context to operate usefully. My general advice for GUI programming is to note that it is actually much the same as any other area of programming. Follow the usual good practices. Notably layering separation of concerns use (implementation) inheritance rarely and don't write a big ball of mud.  You can group all your abstractAction using the dedicated Map javax.swing.actionmap . See http://java.sun.com/javase/6/docs/api/javax/swing/ActionMap.html Moreover each JComponent has an internal actionMap (getActionMap()). class MyComponent extends JPanel { public static final String ACTION_NAME1=""my.action.1""; public MyComponent() { AbstractAction action= new AbstractAction() { ... } getActionMap().put(ACTION_NAME1action); ... menu.add(getActionMap().get(ACTION_NAME1)); } } Hope it helps  Create a base action for your application; this will help you IMMENSELY later on Do create actions as you have in your code instead favor subclasses of your base action To organize them it will depend on what you are doing with them and you may have some actions organized one way and others created a different way. It will all depend. What you want is to have a consistent way to locate/create an action in your code. Depending on your UI you may need to differentiate between ""static"" actions (i.e. stuff that's always available in your app such as the menu system) and dynamic actions that are created only on certain screens or in certain locations. In any case using concrete subclasses of your specialized base action will help you keep these things organized. What you don't want is to be specifying things like labels mnemonics and icons all over the place in your code.  Applications that I have developed that need to use that same actions across menus toolbars and other buttons have been done using Swing Application Framework. Swing Application Framework This framework will allow you to have a resource file where you can define all menu text tooltips and ICONS. I think the icons are the key you do not have to load them yourself. Also if you have any actions that you need to enable/disable you can override the method to control its state. The website is worth the read.  Also see this question which is pretty much the same as what you're asking.  Edit: I got the feeling people didn't believe this was possible or easy so I did it--took about an hour from scratch--would have taken 40 mins if I'd just used a single method as a target instead of reflecting it out to separate methods for each menu item. Here's the Tested source code. It works but is one big method and ugly--refactor it if you use it. I may fix it up a little over the next few days I've always wanted to have a copy of this to keep around to reuse. --- original post First of all remember to separate your code from data. That means you should NEVER type: new Menu(""File...""); The string ""File..."" is data. If you start thinking this way you will find that your question answers itself. First you need to build up some data. You need to get ""File..."" and ""Save"" into menus. I generally start off with a string array (which you can easily move to a file) new String[]{""File...""""+Save""""Load""...} This is one of the simpler patterns I've started out with. Then you can parse out the + sign and use it to mean ""Drop down a level in the menu when you add this one"" This is just a silly convention invent your own if you don't like it. The next step is binding that to code to run. You could have them all call the same method but what a pain in the ass (Giant switch statement). One possibility is to use reflection to bind a method name while you are reading in the data. Here's one solution (again it might not fit your tastes) new String[]{""File...[fileMenu]""""+Save[saveMenu]""""Load[loadMenu]""...} Then you parse out the thing in square braces reflectively hook it up to a method in your current class and you are set. There is a temptation I ALWAYS have at this point and I've learned to fight it because it NEVER works out. The temptation is to use the first set of data (""File..."") and manipulate it to fit some pattern and auomatically bind to your code (in this case remove all non-alpha chars make the first letter lower case and append ""Menu"" to get the correct method name). Feel free to try this it's very attractive and seems slick but be ready to abandon it when it doesn't meet some need (such as two menu items with the exact same name in different sub-menus). Another way would be if your language supports closures then you could actually create the file name and closure in the same place.. Anyway once you start coding like this you'll find that ALL your menu construction is in a single 10 line method and you can alter it to suit your needs. I had a case where I had to change a set of menus to a button hierarchy and I did it in 2 minutes. In the end you can use this pattern to set up the action objects easily and change how they are used easily (in a single location single line of code) so you experiment with them. There are many ways to use them but if you don't do what I'm recommending here you will end up having to re-implement across every menu item for every change which is really annoying--after a single change you will have wasted more time than if you had just implemented a data-driven solution in the first place. This really isn't hard code should take like an hour or two then you never have to write new Menu(""... again. Trust me this kind of tooling is just about always worth it. edit: I just about always code data-driven these days. Usually I'll prototype a few things the normal way recognize the pattern and refactor--and if you are refactoring correctly the data just about always factors out and what you're left with is beautiful tight and maintainable. I could do what I suggested above in less than 1/2 an hour (maybe an hour to do the reflective version). This is almost always just as long as it would do to use the unfactored version and from then on your savings multiply for every change. This is very similar to what people like about ruby except with ruby they seem to insert even more data into their code (which makes it awfully hard to extract your data from the code completely which is always a nice goal for internationalization). Hmm did I mention that if you're good at extracting your data like this i18n is virtually free? I suggest you just give it a try sometime and see what you think. Embedding the control in the strings is unnecessary if it makes you uncomfortable. I tend to use string/object arrays just because they are really easy to enter are still in the file while you are coding and are trivial to externalize later but if you like YML or XML or properties files use whatever you're comfortable with--just abstract your data from your code! You really code your GUI's like this? :| How can your GUI be fully factored without being data driven? There is so much repetitiveness. By the way String.split (used to be StringTokenizer) can help a lot with parsing these items. A string like ""File...|*|fileMethod"" can be parsed in a second (the * means ""top level"" in this case--you can make up your ""language"" on the fly--very like a Ruby DSL but easier)",java gui swing160315,A,"How to check for key being held down on startup in Java I'm trying to write a resolution selection dialog that pops up when a program first starts up. To prevent boring the user I want to implement the fairly standard feature that you can turn off that dialog with a checkbox but get it back by holding down the alt key at startup. Unfortunately there is no obvious way to ask java whether a given key is currently being pressed. You can only register to be informed of new key presses via a KeyListener but that doesn't help if the keypress starts before the app launches. I don't know much about Java (mostly code in C#) but what about having a small loader program written in C or something that then launches your Java app with some parameters (like whether or not a certain key is down)? A difficult solution in that the program wants to run on Mac/Windows/Linux and that I don't know enough C. @Zarkonnen Does it have JVM bundled with the installer? If the answer is yes then the `KeyboadUtils.isPressed` would work on Windows Mac and Linux  public class LockingKeyDemo { static Toolkit kit = Toolkit.getDefaultToolkit(); public static void main(String[] args) { System.out.println(""caps lock2 = "" + kit.getLockingKeyState(KeyEvent.VK_CAPS_LOCK)); } } where should I import the Toolkit class from? has this solution overcome the problems described in this blog post? It kind of describes this method as unreliable but it's old.... http://weblogs.java.net/blog/2007/11/02/log-me-log-me-out  The original question seems to be not answered. The proposed method determines the locking key state like CapsLock ScrollLock etc. So it would not work for Alt pressed state. Consider the following code: com.sun.jna.platform.KeyboardUtils.isPressed(java.awt.event.KeyEvent.VK_ALT); The only problem is that this class is an internal Sun's JDK class and not likely to be available in any other JVM. Depend on your project it may or may not be acceptable. Internally it calls into User32.DLL on Windows: User32.INSTANCE.GetAsyncKeyState(...)  Well there are two types of key press detection: event based and polling. If you poll the keyboard for KEY_PRESSED on startup (through a loop with a sleep.thread(timeInMs) constantly checking if your key is down) then you can detect if it's already pressed on startup.  import java.awt.*; import java.awt.event.*; import javax.swing.JFrame; public class LockingKeyDemo { static Toolkit kit = Toolkit.getDefaultToolkit(); public static void main(String[] args) { JFrame frame = new JFrame(); frame.addWindowListener(new WindowAdapter() { public void windowActivated(WindowEvent e) { System.out.println(""caps lock1 = "" + kit.getLockingKeyState(KeyEvent.VK_CAPS_LOCK)); try { Robot robot = new Robot(); robot.keyPress(KeyEvent.VK_CONTROL); robot.keyRelease(KeyEvent.VK_CONTROL); } catch (Exception e2) { System.out.println(e2); } System.out.println(""caps lock2 = "" + kit.getLockingKeyState(KeyEvent.VK_CAPS_LOCK)); } }); frame.addKeyListener(new KeyAdapter() { public void keyReleased(KeyEvent e) { System.out.println(""caps lock3 = "" + kit.getLockingKeyState(KeyEvent.VK_CAPS_LOCK)); } }); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setSize(200 200); frame.setLocationRelativeTo(null); frame.setVisible(true); } }  So it appears that you can do this but only for caps lock et al. Hence I've switched to using caps lock for this purpose. Not perfect but OK.",java swing keyboard key awt210214,A,"Learning Java Swing? I am a veteran C/C++ programmer who has used Win32 MFC and WTL to write Windows apps for many years. I have some very basic Java experience but haven't done anything with a UI. I want to start learning how to write desktop apps in Java and from what I can gather Swing is the way to go. My question is: where do I start? Can anyone recommend any decent books? (I do like a good programming book). I've played with Netbeans a little in the past (and was impressed with what I saw) so I'd like to use that as my Java IDE of choice if that makes any difference. You should definitely see the SwingSet2 demo which comes with jdk. You can see the sources there and it is a great reference as an ""how-to"" about Swing objects. If I start to use a new Swing object in my application I just check those sources to see my options.  Once you get your feet wet I highly recommend the book ""Swing Hacks"" to harness the full power of swing.  I also like the O'Reilly Java Swing book; it's been useful to me. Good descriptions of concepts good references clear concise and to the point. That would be my recommendation. It's the first book I get when searching amazon for ""java swing"". Also amusingly that search will get you a porch swing made from wood from the island of Java...  That's exactly how I came to Java/Swing from C++/MFC etc. I have to agree that Swing is the only way to go there's a lot to learn in terms of concepts but if you know MFC inside out it will help (because the fundamentals aren't that different they're both event driven windowing systems except one of them is a bag of spanners held together with string)... I started with a copy of an IDE (Jbuilder in my case) and worked through the Sun Java Swing Tutorials Also this beginner's guide is pretty useful for the big picture.  This question and this question is very similar to yours. There are a ton of good answers here too.  The Swing Tutorial is very nice. That's how I taught myself swing.  Netbeans is a decent environment. Check out the O'Reilly Java Swing (Marmoset on cover) for a pretty good look at the ins and outs. However My edition is 2001 and I don't know if the more current ones are any good or not. The big gotcha in Swing is: Don't do any significant work in the listeners. And don't access swing components from any thread other than the EDT (SwingUtilities.invoke* and SwingWorker are your friends) +1 jsight. Even seemingly ""safe"" calls such as ""setVisible()"" on a top-level frame are not necessarily safe from outside the EDT.  If your intention is to use NetBeans and its powerful GUI building capabilities I'd recommend trying to do a lot of hand coding to start with. When I conduct interview we get a lot of people who might be able to use a GUI builder but that is not quite the same thing as 'knowing' Swing.  If you really want a good book and not an eBook or a pdf Java : The complete reference by Herbert Schildt is the best. It is like an encyclopedia and explains a lot of concepts including swing clearly.  You can start to learn it by doing simple apps using Netbeans GUI editor which gives you a quick view on your app. Meanwhile Swing is very flexible and powerful. Since you can do almost anything in Swing this advantage leads to somehow deeper learning curve. To learn more you need some good book (like java swing or sun's swing tutorial on their web) and good understanding of MVC design pattern Java bean style event handling customerized rendered etc. Anyway Swing is of much better OOP and MVC than the old age mixed MFC library. You should be able to learn a bit on how to design a clean a extensible app through the learning of Swing.  I wrote a site as part of a project whilst at University that taught students how to learn Swing through example and exercises (with a bunch of screenshots). Although I don't have personal access to it any longer Heriot Watt University still host it. You can find the link here.. The Guidebook - Lessons in Swing Might get you started at least :)  Once you have mastered the basics the de-facto standard book for top notch swing GUIs is Filthy Rich Clients. I think your link is not what you think. Corrected thanks for the heads up.  I'm sorry but what I'd recommend is to stay clear of Swing altogether X-) From my point of view it's veeery verbose (even for Java) but more than anything it has a confusing and unintuitive API (repaint()/refresh() comes to mind) that will haunt you with subtle bugs every day. I'd try SWT instead.. Clearer better looking and has better performance too. What are your credentials? How big applications have you build in Swing and SWT? Are you talking about the core APIs or about certain RCP layers on top of them? Hi :) I've been a Java dev for 3yrs my team was to build a rich client designed to manage small-to-mid retail stores at every level. Eventually we dropped it and went for a web UI instead (management decision). I knew my answer would be downvoted I just had to share the pain Swing did to us :D  Just another book recommendation: Java Swing by Matthew Robinson und Pavel Vorobiev It's the only book i read on Swing so far so i can't compare it to the other ones. On the other hand it's the only book i needed so far so it can't be bad.",java swing115103,A,"How do you implement position-sensitive zooming inside a JScrollPane? I am trying to implement position-sensitive zooming inside a JScrollPane. The JScrollPane contains a component with a customized 'paint' that will draw itself inside whatever space it is allocated - so zooming is as easy as using a MouseWheelListener that resizes the inner component as required. But I also want zooming into (or out of) a point to keep that point as central as possible within the resulting zoomed-in (or -out) view (this is what I refer to as 'position-sensitive' zooming) similar to how zooming works in google maps. I am sure this has been done many times before - does anybody know the ""right"" way to do it under Java Swing?. Would it be better to play with Graphic2D's transformations instead of using JScrollPanes? Sample code follows: package test; import java.awt.*; import java.awt.event.*; import java.awt.geom.*; import javax.swing.*; public class FPanel extends javax.swing.JPanel { private Dimension preferredSize = new Dimension(400 400); private Rectangle2D[] rects = new Rectangle2D[50]; public static void main(String[] args) { JFrame jf = new JFrame(""test""); jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); jf.setSize(400 400); jf.add(new JScrollPane(new FPanel())); jf.setVisible(true); } public FPanel() { // generate rectangles with pseudo-random coords for (int i=0; i<rects.length; i++) { rects[i] = new Rectangle2D.Double( Math.random()*.8 Math.random()*.8 Math.random()*.2 Math.random()*.2); } // mouse listener to detect scrollwheel events addMouseWheelListener(new MouseWheelListener() { public void mouseWheelMoved(MouseWheelEvent e) { updatePreferredSize(e.getWheelRotation() e.getPoint()); } }); } private void updatePreferredSize(int n Point p) { double d = (double) n * 1.08; d = (n > 0) ? 1 / d : -d; int w = (int) (getWidth() * d); int h = (int) (getHeight() * d); preferredSize.setSize(w h); getParent().doLayout(); // Question: how do I keep 'p' centered in the resulting view? } public Dimension getPreferredSize() { return preferredSize; } private Rectangle2D r = new Rectangle2D.Float(); public void paint(Graphics g) { super.paint(g); g.setColor(Color.red); int w = getWidth(); int h = getHeight(); for (Rectangle2D rect : rects) { r.setRect(rect.getX() * w rect.getY() * h rect.getWidth() * w rect.getHeight() * h); ((Graphics2D)g).draw(r); } } } Added bounty to see if I can get a full answer (ideally: the code snippet that when added above answers the question). Tested this seems to work... private void updatePreferredSize(int n Point p) { double d = (double) n * 1.08; d = (n > 0) ? 1 / d : -d; int w = (int) (getWidth() * d); int h = (int) (getHeight() * d); preferredSize.setSize(w h); int offX = (int)(p.x * d) - p.x; int offY = (int)(p.y * d) - p.y; setLocation(getLocation().x-offXgetLocation().y-offY); getParent().doLayout(); } Update Here is an explanation: the point p is the location of the mouse relative to the FPanel. Since you are scaling the size of the panel the location of p (relative to the size of the panel) will scale by the same factor. By subtracting the current location from the scaled location you get how much the point 'shifts' when the panel is resized. Then it is simply a matter of shifting the panel location in the scroll pane by the same amount in the opposite direction to put p back under the mouse cursor. Exactly what I was looking for. Thanks!  Your MouseWheelListener also has to locate the cursor move it to the center of the JScrollPane and adjust the xmin/ymin and xmax/ymax of the content to be viewed. Yes that is true - it is also what I was trying to do in the first place (the cursor is located at 'p' and adjusting those bounds correctly is what I do not know how to do).  I think smt like this should be working...  private void updatePreferredSize(int n Point p) { double d = (double) n * 1.08; d = (n > 0) ? 1 / d : -d; int w = (int) (getWidth() * d); int h = (int) (getHeight() * d); preferredSize.setSize(w h); // Question: how do I keep 'p' centered in the resulting view? int parentWdt = this.getParent( ).getWidth( ) ; int parentHgt = this.getParent( ).getHeight( ) ; int newLeft = p.getLocation( ).x - ( p.x - ( parentWdt / 2 ) ) ; int newTop = p.getLocation( ).y - ( p.y - ( parentHgt / 2 ) ) ; this.setLocation( newLeft newTop ) ; getParent().doLayout(); } EDIT: Changed a couple things. Your code does not keep the point 'p' centered in the resulting view (for an example try zooming near the bottom-right corner) even after changing `int newTop = p.y - w / 2;` to `int newTop = p.y - h / 2;`. Please test code before proposing it as an answer. The updated code seems to zoom into the top-left corner (java 6 on XP) not into wherever the mouse pointer is pointing. I am using the same test program listed in the question.  Here's a minor refactoring of @Kevin K's solution: private void updatePreferredSize(int wheelRotation Point stablePoint) { double scaleFactor = findScaleFactor(wheelRotation); scaleBy(scaleFactor); Point offset = findOffset(stablePoint scaleFactor); offsetBy(offset); getParent().doLayout(); } private double findScaleFactor(int wheelRotation) { double d = wheelRotation * 1.08; return (d > 0) ? 1 / d : -d; } private void scaleBy(double scaleFactor) { int w = (int) (getWidth() * scaleFactor); int h = (int) (getHeight() * scaleFactor); preferredSize.setSize(w h); } private Point findOffset(Point stablePoint double scaleFactor) { int x = (int) (stablePoint.x * scaleFactor) - stablePoint.x; int y = (int) (stablePoint.y * scaleFactor) - stablePoint.y; return new Point(x y); } private void offsetBy(Point offset) { Point location = getLocation(); setLocation(location.x - offset.x location.y - offset.y); }",java swing user-interface zoom178667,A,"Does JEditorPane have Charset problems when showing HTML? I have the following code: import javax.swing.JEditorPane; import javax.swing.JFrame; import javax.swing.JScrollPane; import javax.swing.ScrollPaneConstants; public class ScratchPad { public static void main(String args[]) throws Exception { String html =""<html>""+ ""<head>""+ ""<meta http-equiv=\""Content-Type\"" content=\""text/html; charset=ISO-8859-1\""/>""+ // this is the problem right here ""<title>Error 400 BAD_REQUEST</title>""+ ""</head>""+ ""<body>""+ ""<h2>HTTP ERROR: 400</h2><pre>BAD_REQUEST</pre>""+ ""<p>RequestURI=null</p>""+ ""<p><i><small><a href=\""http://jetty.mortbay.org\"">Powered by jetty://</a></small></i></p>""+ ""</body>""+ ""</html>""; JFrame f = new JFrame(); JEditorPane editor = new JEditorPane(); editor.setEditable( false ); editor.getDocument().putProperty( ""Ignore-Charset"" ""true"" ); // this line makes no difference either way editor.setContentType( ""text/html"" ); editor.setText( html ); f.add( new JScrollPane(editor ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER) ); f.pack(); f.setVisible( true ); } } If you run it you'll notice the frame is blank. However if I remove the ""; charset=ISO-8859-1"" from the meta tag the HTML shows up. Any ideas why and what I can do to prevent this (other than manually hacking the HTML string over which I have no control...). Edit #1 - putProperty( ""Ignore-Charset"" ""true"" ) makes no difference unfortunately. Use the follow line before setText and after setContentType. editor.getDocument().putProperty(""IgnoreCharsetDirective"" Boolean.TRUE); This is one of the mystic undocumented features. setContentType create a new Document that it has no effect if you set it before.  When I run the code I can only see the HTML text when I delete the meta line. Maybe it has something to do with character settings of the system it runs on.",java html swing jeditorpane113464,A,"Java User Interface Specification Java supplies standard User Interface guidelines for applications built using Java Swing. The basic guidelines are good but I really feel the look and feel is really boring and outdated. Is anyone aware of a publicly available Java User Interface Guide that has better look & feel guidelines than the Sun provided guidelines? the apple developer guide has a human computer interface guide - http://developer.apple.com/documentation/UserExperience/Conceptual/AppleHIGuidelines/XHIGIntro/chapter_1_section_1.html#//apple_ref/doc/uid/TP30000894-TP6 . Even though its targeted at the mac platform you could learn something from it - its the reason why so many mac apps are pleasant to use as well as aesthetically pleasing!  Along the line of Chii's answer I would recommend taking a look at the Windows Vista User Experience Guidelines for general tips on making user interfaces. Although the name (""Windows Vista User Experience Guidelines"") and source (Microsoft) may suggest that it only contains Windows-centric tips and advice it does offer good general tips and directions that can be used when designing interfaces for non-Windows applications as well. The Design Principles sections address some points to keep in mind when designing an effective user interface. For example bullet three of How to Design a Great User Experience says: Don't be all things to all people Your program is going to be more successful by delighting its target users than attempting to satisfy everyone. These are the kinds of tips that apply to designing user interfaces on any platform. Of course there are also Windows-specific guidelines as well. I believe one of the biggest reasons why look and feel of Swing applications seems ""boring"" and ""outdated"" is due to the platform-independent nature of Java. In order for the graphical user interfaces to work on several different platforms Java needs to have facilities to adapt the user interface to the different host operating systems. For example various platforms have various sizes for windows buttons and other visual components so absolute positioning does not work too well. To combat that problem Swing uses Layout Managers which (generally) use relative positioning to place the visual components on the screen. Despite these ""limitations"" of building graphical user interfaces for Java I think that using tips from guidelines that are provided by non-Sun sources and non-Java-specific sources can still be a good source of information in designing and implementing an user interface that is effective. After all designing an user interface is less about programming languages and more about human-machine interaction.  I don't think there are any other complete guidelines. But if you are not talking about the spacing/positioning of components (I don't think that part of Look And Feel Design Guidelines is outdated) but only about the look and feel good starting points are singlabx / swingx: http://swinglabs.org http://swinglabs.org/docs/presentations/2007/DesktopMatters/FilthyRichClients.pdf http://parleys.com/display/PARLEYS/Home#slide=1;talk=7643;title=Filthy%20Rich%20Clients and JGoodies: http://www.jgoodies.com/articles/index.html http://www.jgoodies.com/articles/efficient%20swing%20design.pdf  You have many LNF (Look And Feel) displayed here but they have not exactly a 'Java User Guide' Provided. However MigLayout does follow closely the main User Interface standards that exist out there (including some obcure points of button order): For instance the OK and Cancel buttons have different order on Windows and Mac OS X. While other layout managers use factories and button builders for this it is inherently supported by MigLayout by just tagging the buttons. One just tags the OK button with ""ok"" and the Cancel button with ""cancel"" and they will end up in the correct order for the platform the application is running on if they are put in the same grid cell. Example on Mac:",java swing user-interface128016,A,Java Swing: how do I set the maximum width of a JTextField? I'm writing a custom file selection component. In my UI first the user clicks a button which pops a JFileChooser; when it is closed the absolute path of the selected file is written to a JTextField. The problem is absolute paths are usually long which causes the text field to enlarge making its container too wide. I've tried this but it didn't do anything the text field is still too wide: fileNameTextField.setMaximumSize(new java.awt.Dimension(450 2147483647)); Currently when it is empty it is already 400px long because of GridBagConstraints attached to it. I'd like it to be like text fields in HTML pages which have a fixed size and do not enlarge when the input is too long. So how do I set the max size for a JTextField ? It may depend on the layout manager your text field is in. Some layout managers expand and some do not. Some expand only in some cases others always. I'm assuming you're doing filedNameTextField = new JTextField(80); // 80 == columns If so for most reasonable layouts the field should not change size (at least it shouldn't grow). Often layout managers behave badly when put into JScrollPanes. In my experience trying to control the sizes via setMaximumSize and setPreferredWidth and so on are precarious at best. Swing decided on its own with the layout manager and there's little you can do about it. All that being said I have no had the problem you are experiencing which leads me to believe that some judicious use of a layout manager will solve the problem.  I solved this by setting the maximum width on the container of the text field using setMaximumSize. According to davetron's answer this is a fragile solution because the layout manager might disregard that property. In my case the container is the top-most and in a first test it worked. Yeah that is unfortunately how it goes with Swing. It's a nice toolkit in many ways but the unpredictability of the components in different layout managers is really annoying.  Don't set any of the sizes on the text field. Instead set the column size to a non-zero value via setColumns or using the constructor with the column argument. What is happening is that the preferred size reported by the JTextComponent when columns is zero is the entire amount of space needed to render the text. When columns is set to a non-zero value the preferred size is the needed size to show that many standard column widths. (for a variable pitch font it is usually close to the size of the lower case 'm'). With columns set to zero the text field is requesting as much space as it can get and stretching out the whole container. Since you already have it in a GridBagLayout with a fill you could probably just set the columns to 1 and let the fill stretch it out based on the other components or some other suitably low number. I recommend this approach when using `FlowLayout`.,java swing271888,A,"Best practice for handling null strings from database (in Java) In my database application I sometimes have to deal with null strings in the database. In most cases this is fine but when it comes do displaying data in a form the Swing components - using JTextField for example - cannot handle null strings. (.setText(null) fails) (EDIT: I just noticed that JTextField actually accepts a null string but the question remains for all other cases where unexpected null values can lead to problems.) The null values have no special meaning they can (must) be treated as empty strings. What is the best practice to deal with this problem? Unfortunatly I cannot change the database. Checking every value if it is null before calling setText()? Adding a try-catch handler to every setText() call? Introducing a static method which filters all null strings? Replace all null values to empty strings immediatly after reading from the database? ... [your suggestions] You could extend or wrap JTextField and overwrite the setText() method to replace NULL with an empty String. Yes but actually ""NULL"" can be legal value in DB ;> Indeed that is why you would wrap setText() & getText() so you can interchange null with """" for setText and vice versa for getText.  Use Beans Binding API to bind values from your entity objects to your SWING Widgets. Beanins Binding will transparently handle null values and will not replace the null with an empty string.  As Ruben said I would extend the JTextField to overwrite the setText() method and replace NULL with the empty string. However I would also overwrite the getText() method to overwrite empty string with NULL so that when you are saving back into the database you do not overwrite a null value in there with the empty string.  From a SQL angle try: select ISNULL(column_name'') from ... Someone just marked this answer down :(. While I accept that the question asks about Java. This solution can be used to handle ALL unexpected null values from a database. and as the question states ""unfortunately I can't change the database"" it implies that non java answers are also acceptable.  I think all your answers are reasonable but since you tagged this ""best practices"" I'd like to remind you of the null object design pattern. Wherever it seems worth the effort for whatever class need the protection write special instantiation code for a ""null"" object of that class. The idea is this ""null"" object is real and can behave appropriately no matter what you ask it to do. Your null ""String"" object could provide whatever you want as it's value. This pattern also means you can get rid of lots of null checks and the code is more robust. It does use up a bit of CPU sending messages to nulls and having them do nothing so it is less desirable when a large percentage of objects are expected to be null.  If you are using any ORM tool or somehow you map your DB fields to Java bean you can allways have:  public void setFoo(String str) { this.foo = str != null ? str : """"; } On Oracle i don't believe this is an issue. It may depend on settings but our 10g implementation interprets empty strings as nulls. Other DBMS's and perhaps other configurations may vary. You do have to be careful when writing back the data to the DB since you will be inserting an empty String instead of the NULL value! I think that's the best solution but I will change the getter. (I guess that's what you meant all along) I think Marko ment the setter since that is used by most ORM tools e.g. hibernate to put the values from the database into the instances. When using the getter you still need to be carefull for side effects in the database when using an ORM tool. FWIW I'd flip the inequality to an equality test. Just another best practice (or opinion depending on how you look at it). public void setFoo(String str) { this.foo = str == null ? """" : str; } Then how would you check whether the value is empty in the DB or NULL from your Entity object?  If you can add a default value - empty string - for a field in DB . Yes that would be best but unfortunatly I cannot do that :(",java database swing299495,A,"How to add an image to a JPanel? I have a JPanel to which I'd like to add JPEG and PNG images that I generate on the fly. All the examples I've seen so far in the Swing Tutorials specially in the Swing examples use ImageIcons. I'm generating these images as byte arrays and they are usually larger than the common icon they use in the examples at 640x480. Is there any (performance or other) problem in using the ImageIcon class to display an image that size in a JPanel? What's the usual way of doing it? How to add an image to a JPanel without using the ImageIcon class? Edit: A more careful examination of the tutorials and the API shows that you cannot add an ImageIcon directly to a JPanel. Instead they achieve the same effect by setting the image as an icon of a JLabel. This just doesn't feel right... I'm doing something very similar in a private project I'm working on. Thus far I've generated images up to 1024x1024 without any problems (except memory) and can display them very quickly and without any performance problems. Overriding the paint method of JPanel subclass is overkill and requires more work than you need to do. The way I do it is: Class MapIcon implements Icon {...} OR Class MapIcon extends ImageIcon {...} The code you use to generate the image will be in this class. I use a BufferedImage to draw onto then when the paintIcon() is called use g.drawImvge(bufferedImage); This reduces the amount of flashing done while you generate your images and you can thread it. Next I extend JLabel: Class MapLabel extends Scrollable MouseMotionListener {...} This is because I want to put my image on a scroll pane I.e. display part of the image and have the user scroll around as needed. So then I use a JScrollPane to hold the MapLabel which contains only the MapIcon. MapIcon map = new MapIcon (); MapLabel mapLabel = new MapLabel (map); JScrollPane scrollPane = new JScrollPane(); scrollPane.getViewport ().add (mapLabel); But for your scenario (just show the whole image every time). You need to add the MapLabel to the top JPanel and make sure to size them all to the full size of the image (by overriding the GetPreferredSize()).  JLabel imgLabel = new JLabel(new ImageIcon(""path_to_image.png""));  You can avoid rolling your own Component subclass completely by using the JXImagePanel class from the free SwingX libraries. Download  I think there is no need to subclass of anything. Just use a Jlabel. You can set an image into a Jlabel. So resize the Jlabel then fill it with an image. Its OK. This is the way I do. Simpler by a long shot.  If you are using JPanels then are probably working with Swing. Try this: BufferedImage myPicture = ImageIO.read(new File(""path-to-file"")); JLabel picLabel = new JLabel(new ImageIcon(myPicture)); add(picLabel); The image is now a swing component. It becomes subject to layout conditions like any other component. +1 Excellent code. +1 that. clean. Nice just used that code myself. +1. Nice one.. Just used this code.. +1 how to scale the image according to the size of the JLabel? Nice code! I'm not much experienced with Swing but I can't get it work. Does anybody tried it in jdk 1.6.0_16? @ATorras I know you asked this a while back but if any other newbies had my issues remember to picLabel.setBounds();  JPanel is almost always the wrong class to subclass. Why wouldn't you subclass JComponent? There is a slight problem with ImageIcon in that the constructor blocks reading the image. Not really a problem when loading from the application jar but maybe if you're potentially reading over a network connection. There's plenty of AWT-era examples of using MediaTracker ImageObserver and friends even in the JDK demos.  There shouldn't be any problem (other than any general problems you might have with very large images). If you're talking about adding multiple images to a single panel I would use ImageIcons. For a single image I would think about making a custom subclass of JPanel and overriding its paintComponent method to draw the image. (see 2)  Fred Haslam's way works fine. I had trouble with the filepath though since I want to reference an image within my jar. To do this I used: BufferedImage wPic = ImageIO.read(this.getClass().getResource(""snow.png"")); JLabel wIcon = new JLabel(new ImageIcon(wPic)); Since I only have a finite number (about 10) images that I need to load using this method it works quite well. It gets file without having to have the correct relative filepath.  Here's how I do it (with a little more info on how to load an image): import java.awt.Graphics; import java.awt.image.BufferedImage; import java.io.File; import java.io.IOException; import java.util.logging.Level; import java.util.logging.Logger; import javax.imageio.ImageIO; import javax.swing.JPanel; public class ImagePanel extends JPanel{ private BufferedImage image; public ImagePanel() { try { image = ImageIO.read(new File(""image name and path"")); } catch (IOException ex) { // handle exception... } } @Override protected void paintComponent(Graphics g) { super.paintComponent(g); g.drawImage(image 0 0 null); // see javadoc for more info on the parameters } } Opps... put the example together a little to quick... @Dutow - Good call I edited the answer. Thanks. I tried using this with some custom buttons on top and found that there were strange redrawing issues. Fred Haslam's answer below did not suffer from this problem. -1 for invalid implementation of paintComponent (@Dogmatixed most probably that's why you are having those redrawing issues) - it _must_ garantee to cover its complete area if it reports being opaque (which is the default) easiest achieved by calling super.paintComponent @kleopatra Thanks I didn't realize that... according to the javadoc: ""Further if you do not invoker super's implementation you must honor the opaque property that is if this component is opaque you must completely fill in the background in a non-opaque color. If you do not honor the opaque property you will likely see visual artifacts."" I'll update the answer now. thanks for the edit reverted my vote :-) Please always respect the `Principle of Encapsulation` while overriding methods of the Super Class the Access Specifier of the `paintComponent(...)` method is `protected` and not `public` :-) How do you handle errors in this implementation? I mean if an error is thrown in the constructor not only will you have to deal not just with that but you'll also have to deal with `NullPointerException`s that paintComponent() will throw (and will throw as many times as it is called). Wait nevermind. `drawImage()` doesn't throw a NPE when `img` is null.  You can subclass JPanel - here is an extract from my ImagePanel which puts an image in any one of 5 locations top/left top/right middle/middle bottom/left or bottom/right: protected void paintComponent(Graphics gc) { super.paintComponent(gc); Dimension cs=getSize(); // component size gc=gc.create(); gc.clipRect(insets.leftinsets.top(cs.width-insets.left-insets.right)(cs.height-insets.top-insets.bottom)); if(mmImage!=null) { gc.drawImage(mmImage(((cs.width-mmSize.width)/2) +mmHrzShift)(((cs.height-mmSize.height)/2) +mmVrtShift)null); } if(tlImage!=null) { gc.drawImage(tlImage(insets.left +tlHrzShift)(insets.top +tlVrtShift)null); } if(trImage!=null) { gc.drawImage(trImage(cs.width-insets.right-trSize.width+trHrzShift)(insets.top +trVrtShift)null); } if(blImage!=null) { gc.drawImage(blImage(insets.left +blHrzShift)(cs.height-insets.bottom-blSize.height+blVrtShift)null); } if(brImage!=null) { gc.drawImage(brImage(cs.width-insets.right-brSize.width+brHrzShift)(cs.height-insets.bottom-brSize.height+brVrtShift)null); } }",java image swing jpanel103179,A,"How do I set an Application's Icon Globally in Swing? I know I can specify one for each form or for the root form and then it'll cascade through to all of the children forms but I'd like to have a way of overriding the default Java Coffee Cup for all forms even those I might forget. Any suggestions? Extend the JDialog class (for example name it MyDialog) and set the icon in constructor. Then all dialogs should extend your implementation (MyDialog).  There is another way but its more of a ""hack"" then a real fix.... If you are distributing the JRE with your Application you could replace the coffee cup icon resource in the java exe/dll/rt.jar wherever that is with your own icon. It might not be very legit but it is a possibility... Agreed. It'd work but I'm not feeling that desperate. :) If it's the only way it doesn't matter if you're desperate or not :) My company does it through InstallAnywhere's `executableIcon` property. I think it does it by replacing `JavaCup.png` in `jre/lib/resources.jar`.  Also if you have one ""main"" window and set its icon properly as long as you use that main window as the ""parent"" for any Dialog classes they will inherit the icon. Any new Frames need to have the icon set on them though. as Paul/Andreas said subclassing JFrame is going to be your best bet.  You can make the root form (by which I assume you mean JFrame) be your own subclass of JFrame and put standard functionality in its constructor such as:  this.setIconImage(STANDARD_ICON); You can bundle other standard stuff in here too such as memorizing the frame's window metrics as a user preference managing splash panes etc. Any new frames spawned by this one would also be instances of this JFrame subclass. The only thing you have to remember is to instantiate your subclass instead of JFrame. I don't think there's any substitute for remembering to do this but at least now it's a matter of remembering a subclass instead of a setIconImage call (among possibly other features). Not ideal but it works. There should be a way of doing this for all forms in an app. Some forms might be spawned by third party tools etc. Yes there *should* be a way but sun hasn't provided one. Its probably a sev3 enhancement in bugparade somewhere...  There may be a way of doing it using the Look and Feel overriding the UIDefaults. I'm just not sure which index would do.",java swing354866,A,Swing JButton: Icon above Text How can I create a JButton in Swing with the icon above the text? just do this:   button.setVerticalTextPosition(SwingConstants.BOTTOM); button.setHorizontalTextPosition(SwingConstants.CENTER);,java swing jbutton188944,A,Java/Swing: How to draw a simple bar graph in a custom renderer for a JLabel I would like to dynamically create a minimal transparent bar graph to display over a canvas. I was thinking of using a custom renderer for a JButton or a JLabel; but how do I draw my bar graph in this renderer? The standard way would be to create a subclass (possibly an anonymous one if you prefer) of JLabel or JPanel and overload the paintComponent(Graphics g) method. You can then use the passed Graphics object to draw whatever rectangles (and so forth) that you need. For more information on that part of it refer to the Java 2D Graphics Trail. EDIT: Does that answer the question? I just re-read it and now I'm not sure. Your answer is OK... I was thinking of a custom renderer as for table cells but this may not exist for JLabel &/or JButtons. thanks julien Okay. And no there isn't a custom renderer for JLabel or JButton (at least not in standard Swing; there might be third-party libraries which offer something similar). To add any JComponent to a JTable you can extend the DefaultTableCellRenderer and over ride the getTableCellRendererComponent. Just return an instance of your BarGraph object. You have to set the cellRenderder on the JTable also to your subclassed DefaultTableCellRenderer.,java swing custom-renderer386792,A,"In Java Swing how do you get a Win32 window handle (hwnd) reference to a window? In Java 1.4 you could use ((SunToolkit) Toolkit.getDefaultToolkit()).getNativeWindowHandleFromComponent() but that was removed. It looks like you have to use JNI to do this now. Do you have the JNI code and sample Java code to do this? I need this to call the Win32 GetWindowLong and SetWindowLong API calls which can be done via the Jawin library. I would like something very precise so I can pass a reference to the JDialog or JFrame and get the window handle. Swing transparency using JNI may be related. You don't have write any C/JNI code. From Java: import sun.awt.windows.WComponentPeer; public static long getHWnd(Frame f) { return f.getPeer() != null ? ((WComponentPeer) f.getPeer()).getHWnd() : 0; } Caveats: This uses a sun.* package. Obviously this is not public API. But it is unlikely to change (and I think less likely to break than the solutions above). This will compile and run on Windows only. You would need to turn this into reflection code for this to be portable. mike rodent asked "" Thanks this looks really good... but with WComponentPeer I'm getting: ""Access restriction on required library rt.jar"" - rt.jar is part of my OpenOffice API imports. Given that sun.awt.windows classes aren't public how do you use them like this?"" @mike: reflection might help: http://comments.gmane.org/gmane.comp.video.mplayer.user/58067 @Jared you might be able to compile it in windows just then never run that particular code in other OS's and it might work.  Both of the above methods work just fine but both return a HWND as a java int (32bits). this is fine for a 32 bit platform but it will be unlikely that your application will be functional on a 64bit platform. I would change the return types to longs (64bits) as this will behave correctly on both 64 and 32bit systems (you'll only need to recompile the DLL) Thank you very much.  The following code lets you pass a Component to get the window handle (HWND) for it. To make sure that a Component has a corresponding window handle call isLightWeight() on the Component and verify that it equals false. If it doesn't try it's parent by calling Component.getParent(). Java code: package win32; public class Win32 { public static native int getWindowHandle(Component c); } Header file main.h: /* DO NOT EDIT THIS FILE - it is machine generated */ #include <jni.h> /* Header for class win32_Win32 */ #ifndef _Included_win32_Win32 #define _Included_win32_Win32 #ifdef __cplusplus extern ""C"" { #endif /* * Class: win32_Win32 * Method: getWindowHandle * Signature: (Ljava/awt/Component;Ljava/lang/String;)I */ JNIEXPORT jint JNICALL Java_win32_Win32_getWindowHandle (JNIEnv * jclass jobject); #ifdef __cplusplus } #endif #endif The C source main.c: #include<windows.h> #include <jni.h> #include <jawt.h> #include <jawt_md.h> HMODULE _hAWT = 0; JNIEXPORT jint JNICALL Java_win32_Win32_getWindowHandle (JNIEnv * env jclass cls jobject comp) { HWND hWnd = 0; typedef jboolean (JNICALL *PJAWT_GETAWT)(JNIEnv* JAWT*); JAWT awt; JAWT_DrawingSurface* ds; JAWT_DrawingSurfaceInfo* dsi; JAWT_Win32DrawingSurfaceInfo* dsi_win; jboolean result; jint lock; //Load AWT Library if(!_hAWT) //for Java 1.4 _hAWT = LoadLibrary(""jawt.dll""); if(!_hAWT) //for Java 1.3 _hAWT = LoadLibrary(""awt.dll""); if(_hAWT) { PJAWT_GETAWT JAWT_GetAWT = (PJAWT_GETAWT)GetProcAddress(_hAWT ""_JAWT_GetAWT@8""); if(JAWT_GetAWT) { awt.version = JAWT_VERSION_1_4; // Init here with JAWT_VERSION_1_3 or JAWT_VERSION_1_4 //Get AWT API Interface result = JAWT_GetAWT(env &awt); if(result != JNI_FALSE) { ds = awt.GetDrawingSurface(env comp); if(ds != NULL) { lock = ds->Lock(ds); if((lock & JAWT_LOCK_ERROR) == 0) { dsi = ds->GetDrawingSurfaceInfo(ds); if(dsi) { dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi->platformInfo; if(dsi_win) { hWnd = dsi_win->hwnd; } else { hWnd = (HWND) -1; } ds->FreeDrawingSurfaceInfo(dsi); } else { hWnd = (HWND) -2; } ds->Unlock(ds); } else { hWnd = (HWND) -3; } awt.FreeDrawingSurface(ds); } else { hWnd = (HWND) -4; } } else { hWnd = (HWND) -5; } } else { hWnd = (HWND) -6; } } else { hWnd = (HWND) -7; } return (jint)hWnd; } Sorry to bump a very old topic here but I keep getting an `EXCEPTION_ACCESS_VIOLATION` in `jvm.dll` whenever I try to get the drawing surface (`GetDrawingSurface`) of a component (in my case a `java.awt.Cavas`). I made sure it is _not_ lightweight and it is already visible on the screen. Has anything changed in Java 1.6 or is there anything else you need to do before you can get the drawing surface? No idea. Try asking a new question to get more eyes on the issue. pdinklag were you able to deal with that issue calling GetDrawingSurface? I experience the same problem now and jvm crashes in DSGetDrawingSurface. Tried with several jvms (1.6 and 1.7) - still crashes.  In JNA library we see that using Native AWT in Java 5 and 6 UnsatisfiedLinkError when run headless so use dynamic linking. See the method Java_com_sun_jna_Native_getWindowHandle0 in https://github.com/twall/jna/blob/master/native/dispatch.c.  This little JNI method accepts a window title and returns the corresponding window handle. JNIEXPORT jint JNICALL Java_JavaHowTo_getHwnd (JNIEnv *env jclass obj jstring title){ HWND hwnd = NULL; const char *str = NULL; str = (*env)->GetStringUTFChars(env title 0); hwnd = FindWindow(NULLstr); (*env)->ReleaseStringUTFChars(env title str); return (jint) hwnd; } UPDATE: With JNA it's a little bit easier. I made a small example which find the handle and use it to bring the program to front. This is not precise enough. I'd rather not hope that the window title is not in use by another window. just be sure to set the window title to something really really unique before the call (so you don't accidentally pick up the hwnd for another window with the same title - the FindWindow call is not process specific) You can replace the ""NULL"" with a class name to make the search more precise. You determine the window class name with a special tool like SPY++ or WinID. Small example is awesome  I found this: http://jna.java.net/javadoc/com/sun/jna/Native.html#getWindowID(java.awt.Window) JNA lets you call native libraries without having to write jni native code. Turns out the library itself has a method that takes a Window and produces an int presumably a handle (or pointer?) that hopefully works on all platforms. Actually getWindowPointer() is for Windows. According to their docs the method getWindowID() is for X11.  This is the same as Jared MacD's answer but it uses reflection so that the code can compile and load on a non-Windows computer. Of course it will fail if you try to call it. import java.awt.Frame; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; import org.slf4j.Logger; import org.slf4j.LoggerFactory; public class WindowHandleGetter { private static final Logger log = LoggerFactory.getLogger(WindowHandleGetter.class); private final Frame rootFrame; protected WindowHandleGetter(Frame rootFrame) { this.rootFrame = rootFrame; } protected long getWindowId() { try { Frame frame = rootFrame; // The reflection code below does the same as this // long handle = frame.getPeer() != null ? ((WComponentPeer) frame.getPeer()).getHWnd() : 0; Object wComponentPeer = invokeMethod(frame ""getPeer""); Long hwnd = (Long) invokeMethod(wComponentPeer ""getHWnd""); return hwnd; } catch (Exception ex) { log.error(""Error getting window handle""); } return 0; } protected Object invokeMethod(Object o String methodName) throws IllegalAccessException IllegalArgumentException InvocationTargetException { Class c = o.getClass(); for (Method m : c.getMethods()) { if (m.getName().equals(methodName)) { Object ret = m.invoke(o); return ret; } } throw new RuntimeException(""Could not find method named '""+methodName+""' on class "" + c); } }",java winapi swing jni hwnd496233,A,"What are your best Swing design patterns and tips? I'm writing a GUI for an application using Swing and in the interests of code maintenance and readability I want to follow a consistent pattern throughout the whole system. Most of the articles and books (or at least book sections) that I've read appear to provide plenty of examples on how to create and arrange various components but ignore the bigger picture of writing a full GUI. What are your best tips for application GUI design and what patterns do you follow when designing or refactoring a GUI application? here are my four babys : http://blue-walrus.com/swing-design-patterns/ Make heavy use of the MVC pattern. Here's a simple example of what I mean: class Person { String firstName; String lastName; // and getters and setters... } class PersonSwingModel { private Person person; private javax.swing.text.PlainDocument firstName; private javax.swing.text.PlainDocument lastName; // and getters and setters... // Create some method like init() that initializes PlainDocument values // to attributes in model. } class SavePersonAction extends AbstractAction { private PersonSwingModel model; // and getters and setters... } class PersonSwingView extends JFrame { private PersonSwingModel model; private javax.swing.JTextField firstName; private javax.swing.JTextField lastName; private SavePersonAction savePersonAction; // hook up to JButton/JMenuItem // and getters and setters... // Create some method like init() which binds PlainDocument to JTextField // and Actions to JButtons or JMenuItems } I see some people disagree with extending JFrame or JPanel. I don't. Works for me. Also use LayoutManagers. GridBagLayout is very powerful. If you use it define some GridBagConstraints constants (like LABEL_GBC and FIELD_GBC) and keep reusing them.  I think a good working knowledge of concurrency is often understated. You really need to be familiar with Swing's threading policy and general synchronization techniques to build a responsive GUI and an efficient backend.  Definitely put the GUI in one class and the logic in another class or multiple classes -- to the greatest extent possible. If you use the MVC (Model-View-Controller) pattern this will happen automatically. If you don't do this the GUI will quickly become unmaintainably complicated.  Avoid inherit when composition would be easier. For instance I have seen a lot like this: public class CustomerSupportApp extends JFrame { JList<Customer> customers; OtherBusinessComponent importantComponent; etc. etc } This is mixing business logic with presentation. It only makes changes from difficult to impossible. Better is: public class CustomerSupportApp { JList<Customer> customers; OtherBusinessComponent importantComponent; // The app HAS-A frame but not IS-A frame JFrame frame; etc. etc } In your case it is obvious because application != frame but there are other examples e.g. `FooFrame extends BarFrame` where inheritance also is not appropriate e.g. because they have too less in common.  Karsten Lentzsch's JGoodies has been very helpful to me for architectural design especially with regard to the Presentation Model pattern bindings and validation. Check out his articles and libraries. Use an MVC-like pattern. I say ""like"" because the goal is really to separate the view from the model not to conform to a specific flavor of MVC. I prefer using Presentation Model myself. MiGLayout - I use it for everything unless a basic layout manager will do. Modularize and reuse as much as you can. WindowBuilder Pro for Eclipse - The best visual designer because it works with existing/edited code and doesn't lock you in. And it's free now! I have no issue with using designers because the view should be separate from the rest of the code. Netbeans Platform (RCP) - The only real Swing framework. I hope to learn and use this when I have time because part of a framework's job is to address concerns like yours. JavaBuilders - Cool project that allows declarative UIs but I'm not sure it's mature enough to risk it especially with an existing project. However it's interesting to read their PDF book if only to understand the problems they're trying to solve.  Avoid using GUI layout designers (builders). Later on it will make your code much cleaner and easier to maintain. It's true that if you start your GUI with a builder you are pretty much committed to using that builder throughout the whole life of the GUI. This is sometimes acceptable sometimes not. Yes it's true. Different builders store metadata in different formats which are not mutually compatibel. The only exception is Instantiations Swing Designer which works with the code directly. All of them create code which is not meant to be edited by hand (unreadable) which will bite you later. I disagree. If you know Swing well any code generated by a GUI builder will be readable enough. Problem is that by using a GUI builder you will not get to know Swing well. Good separation is of course necessary. WindowBuilder Pro does a good job with generated code. Check it out: https://developers.google.com/java-dev-tools/wbpro/?hl=fr  Get into the habit of having your callbacks spawn off threads to do the actual work and then you won't be having frozen GUIs when one of your callbacks turns into a time consuming monster. Better yet use SwingWorker. Yes SwingWorker is one of many ways to spawn off a thread. Dont forget SwingUtilities invoker later if that thread needs to update the GUI afterwards :) Take a look at FoxTrot: http://foxtrot.sourceforge.net/  I think that the main problem you are going to be faced with is testability of your gui application. So regarding maintainability and ease of unit testing I am leaning towards the ""Presenter first"" idiom instead of Model View Controller (MVC) and other derivatives that instruct you to have the view knowing of the actual application logic (Model). The best resource is the web site of the group that introduced it as a thought. Since using an approach like that is going to take a lot of boilerplate code to initialize the various elements of your application I would also suggest in using a dependency injection framework. I have settled with Guice.  Avoid spawning too many threads when user clicks action button multiple times. Disable button on first click spawn your action in background thread and when done enable button again. This may not be problem for short running tasks.  Try not to code the text into your app. Swing guis can be pretty easily written to be data driven consider defining your GUI in an xml file (including the component names and positions/layout attributes). I worked on systems that had a LOT of property sheets (which are just piles of controls page after page of them)--without making it data driven it's virtually impossible to maintain or internationalize. If you decide to use a GUI builder never modify the code it outputs if you can possibly avoid it--it's better to bind to the GUI from an external class. Think about what will happen if you have to do it without the builder--will it be difficult to port? Impossible? Understand the gotchas in swing--only modifying GUI components from the AWT thread returning the AWT thread as quickly as possible (spawn a new thread if you have to do anything that takes over 100ms) Try your best to keep your code DRY--It can be a real programming challenge with Swing GUIs--Again data driven code is the only way I've found to not constantly repeat code like new JButton(""...""); If your data is property-sheet based seriously consider creating a binding mechanism to tie your controls to your data. A good goal for DRY code would be 0 (ZERO) control-specific lines of code per control to get a piece of data from your database to your GUI have the user edit it and get it back to your DB. This means that you should be able to add a new control by doing nothing but modifying your data.  Have a look at the application framework API ( https://appframework.dev.java.net/ and http://java.sun.com/developer/technicalArticles/javase/swingappfr/. It's a great API to build your swing application. e.g. : all the styles (color fonticons...) are defined in a simple config file.  mvc is your friend.  This is a more abstract high-level answer about what your GUI represents not the mechanics of it.. Depending on your task it may be kind of difficult to make it so your user can conceptually grasp what the GUI is doing. I've done some pretty tricky work involving GUIs and my most successful approaches have been those that took a complex set of controls and put them into a layout that the user expected. For instance I wrote a system to manage 2 devices one at either end of a T1 line (kinda like modems). The controls were really hard to comprehend--fields like ""create loopback test far end signal test near end bit patterns sending various bit patterns ..."" (this is a huge oversimplification it was a lot worse than this) I had to really understand the problem so I went to a Tech Support rep who helped customers with this problem all the time. He showed me a diagram in the manual and stepped me through what the different controls did on that diagram. I took the diagram re-created it using graphics (just a simple line-drawing for the most part but it showed both ends and the connections between them) then used regions of the graphics to represent controls AND feedback (color changes). You could visually see that a signal was going out. When you turned on a loopback at the far end you could see that the line looped the signal back to it's outgoing line then you could see the color change as your near-end started getting the pattern that it was sending out it's other line. The ""Controls"" were significantly more convoluted than this but the GUI reduced it to EXACTLY what the customer needed to understand the problem. After this we had customers coming back to us telling us that they had never been able to figure this stuff out before but now they totally get it! This presentation was infinitely more important than the wiring of the GUI implementation.  Never derive from JDialog JFrame or JInternalFrame for defining your forms dialogs... Rather derive from JPanel. This will bring you the follwing advantages: possibility to later change from a JFrame to a JDialog for instance (because user changed his mind) you can reuse one panel instance from one JDialog to another (JDialog are generally not reusable because they are constructed with a reference to their ""parent"" a frame or another dialog) you can later on change replace JDialog with a more functional subclass from a 3rd-party framework. Along with this I would define a 'view' interface. What should your 'view' interface do?  Use layout managers. You might think it's simpler just to position everything with hard coded positions now (especially if you use a graphical layout tool) but when it comes time to update the gui or internationalize it your successors will hate you. (Trust me on this I was the guy saying to use the layout managers from the start and the successor to the guy who ignored me.)  You're not supposed to extend JFrame JDialog JPanel JButton Janything classes (although certain extensions to table behaviour are only available if you extend it). You can extend JComponent if you feel like doing custom component. If are supposed to implement models (e.g. by extending abstract models) listeners (e.g. by extending adapters) but that's it. You don't need/have to extend swing components usually and you better not do it as it makes your code tied to implementation of superclass.",java gui design-patterns swing138793,A,"How do I add a separator to a JComboBox in Java? I have a JComboBox and would like to have a separator in the list of elements. How do I do this in Java? A sample scenario where this would come in handy is when making a combobox for font-family-selection; similar to the font-family-selection-control in Word and Excel. In this case I would like to show the most-used-fonts at the top then a separator and finally all font-families below the separator in alphabetical order. Can anyone help me with how to do this or is this not possible in Java? By the time I wrote and tested the code below you probably got lot of better answers... I don't mind as I enjoyed the experiment/learning (still a bit green on the Swing front). [EDIT] Three years later I am a bit less green and I took in account the valid remarks of bobndrew. I have no problem with the key navigation that just works (perhaps it was a JVM version issue?). I improved the renderer to show highlight though. And I use a better demo code. The accepted answer is probably better (more standard) mine is probably more flexible if you want a custom separator... The base idea is to use a renderer for the items of the combo box. For most items it is a simple JLabel with the text of the item. For the last recent/most used item I decorate the JLabel with a custom border drawing a line on its bottom. import java.awt.*; import javax.swing.*; @SuppressWarnings(""serial"") public class TwoPartsComboBox extends JComboBox { private int m_lastFirstPartIndex; public TwoPartsComboBox(String[] itemsFirstPart String[] itemsSecondPart) { super(itemsFirstPart); m_lastFirstPartIndex = itemsFirstPart.length - 1; for (int i = 0; i < itemsSecondPart.length; i++) { insertItemAt(itemsSecondPart[i] i); } setRenderer(new JLRenderer()); } protected class JLRenderer extends JLabel implements ListCellRenderer { private JLabel m_lastFirstPart; public JLRenderer() { m_lastFirstPart = new JLabel(); m_lastFirstPart.setBorder(new BottomLineBorder()); // m_lastFirstPart.setBorder(new BottomLineBorder(10 Color.BLUE)); } @Override public Component getListCellRendererComponent( JList list Object value int index boolean isSelected boolean cellHasFocus) { if (value == null) { value = ""Select an option""; } JLabel label = this; if (index == m_lastFirstPartIndex) { label = m_lastFirstPart; } label.setText(value.toString()); label.setBackground(isSelected ? list.getSelectionBackground() : list.getBackground()); label.setForeground(isSelected ? list.getSelectionForeground() : list.getForeground()); label.setOpaque(true); return label; } } } Separator class can be thick with custom color etc. import java.awt.*; import javax.swing.border.AbstractBorder; /** * Draws a line at the bottom only. * Useful for making a separator in combo box for example. */ @SuppressWarnings(""serial"") class BottomLineBorder extends AbstractBorder { private int m_thickness; private Color m_color; BottomLineBorder() { this(1 Color.BLACK); } BottomLineBorder(Color color) { this(1 color); } BottomLineBorder(int thickness Color color) { m_thickness = thickness; m_color = color; } @Override public void paintBorder(Component c Graphics g int x int y int width int height) { Graphics copy = g.create(); if (copy != null) { try { copy.translate(x y); copy.setColor(m_color); copy.fillRect(0 height - m_thickness width - 1 height - 1); } finally { copy.dispose(); } } } @Override public boolean isBorderOpaque() { return true; } @Override public Insets getBorderInsets(Component c) { return new Insets(0 0 m_thickness 0); } @Override public Insets getBorderInsets(Component c Insets i) { i.left = i.top = i.right = 0; i.bottom = m_thickness; return i; } } Test class: import java.awt.*; import java.awt.event.*; import javax.swing.*; @SuppressWarnings(""serial"") public class TwoPartsComboBoxDemo extends JFrame { private TwoPartsComboBox m_combo; public TwoPartsComboBoxDemo() { Container cont = getContentPane(); cont.setLayout(new FlowLayout()); cont.add(new JLabel(""Data: "")) ; String[] itemsRecent = new String[] { ""ichi"" ""ni"" ""san"" }; String[] itemsOther = new String[] { ""one"" ""two"" ""three"" }; m_combo = new TwoPartsComboBox(itemsRecent itemsOther); m_combo.setSelectedIndex(-1); cont.add(m_combo); m_combo.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent ae) { String si = (String) m_combo.getSelectedItem(); System.out.println(si == null ? ""No item selected"" : si.toString()); } }); // Reference to check we have similar behavior to standard combo JComboBox combo = new JComboBox(itemsRecent); cont.add(combo); } /** * Start the demo. * * @param args the command line arguments */ public static void main(String[] args) { // turn bold fonts off in metal UIManager.put(""swing.boldMetal"" Boolean.FALSE); SwingUtilities.invokeLater(new Runnable() { public void run() { JFrame demoFrame = new TwoPartsComboBoxDemo(); demoFrame.setTitle(""Test GUI""); demoFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); demoFrame.setSize(400 100); demoFrame.setVisible(true); } }); } } C++ braces traitor! ;) :-D Not really C++ specific actually. I first used K&R style when I read their C book years ago then I chose to align braces for better readability (for me question of taste) and never came back (except on projects requiring them of course). @bobndrew: hey! As I wrote I was a newbie at the time (3 years already!). Among sins you don't point out I probably used some Swing test template I found and even worse I didn't use SwingUtilities.invokeLater! The code I have currently uses it at least (but it is still a JFrame subclass...). And m_lastRecentIndex is more local... But most of your criticism is about a quickly made test class which isn't really production code. Today I pay more attention to such code as newbies can take inspiration from it... :-) Also you are right about highlighting hovered elements and selection. TODO Your variable-naming is not the worst thing here: You're breaking the whole combobox-item-selection: the selection is not painted anymore and the first-letter-key-jumps are broken. And you should define `m_combo` and `m_renderer` in the smallest possible scope (in `public TestGui()`). And should not use a glooooobal `m_lastRecentIndex` for the Renderer **and** the 'TestGui' class (which should be a lonely Main class not a 'JFrame' subclass). But I like the braces-style! Note: I edited the code above for a more modern / correct version. One advantage of my approach is that it is more flexible (in look at least) than JSeparator and it doesn't take a slot.  You can use a custom ListCellRenderer which would draw the separator items differently. See docs and a small tutorial.  There is a pretty short tutorial with an example that shows how to use a custom ListCellRenderer on java2s http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm Basically it involves inserting a known placeholder in your list model and when you detect the placeholder in the ListCellRenderer you return an instance of 'new JSeparator(JSeparator.HORIZONTAL)' The `BlockComboBoxExample` example breaks the cursor-key and the first-letter-key navigation. Santhosh Kumar's [example](http://www.jroller.com/santhosh/entry/jcombobox%5Fitems%5Fwith%5Fseparators) seems to work better.",java swing446056,A,"Can I use two different look and feels in the same Swing application? I'm using the Flamingo ribbon and the Substance Office 2007 look and feel. Of course now every control has this look and feel even those on dialog boxes. What I want is something like in Office 2007 where the ribbons have their Office 2007 look but other controls keep their native Vista/XP look. Is it possible to assign certain controls a different look and feel? Perhaps using some kind of chaining or a proxy look and feel? Here is a library which will automaticaly change the look and feel. I am not sure it this will done for every component in a different way but you should take a look at it. pbjar.org This book should be useful if you want to go deep into look and feel /java-look-and-feel-design-guidelines-second-edition I would be glad to see some code example if someone can write it feel free to get starting. EDIT: In this forum thread Thread i found the following description Swing uses a Look & Feel (a PLAF). PLAFs aren't attached on a per-JFrame level. They are attached on a per-VM level. It is almost impossible to mix PLAFs within one application. I have seen a few attempts all failed. It's actually per-AppContext. You should be able to have applets on different sites having different PL&Fs installed.  Swing unfortunately does lots of ""psuedo-global"" things behind the scenes. AFAIK the only way to do it consistently is to use the private AppContext API. Each AppContext has its own event dispatch thread and other ""psuedo-globals"".  I just discovered: Since Substance 5.0 the SKIN_PROPERTY is available. It allows assigning different skins to different JRootPanes (i.e. JDialog JFrame JInternalFrame) A little trick: I override JInternalFrame to remove the extra border and the title pane so that it looks just like a borderless panel. That way it is possible to create the impression that different parts of a form/dialog have different looks.",java swing look-and-feel substance218155,A,"How do I change JPanel inside a JFrame on the fly? To put it simple there's a simple java swing app that consists of JFrame with some components in it. One of the components is a JPanel that is meant to be replaced by another JPanel on user action. So what's the correct way of doing such a thing? I've tried panel = new CustomJPanelWithComponentsOnIt(); parentFrameJPanelBelongsTo.pack(); but this won't work. What would you suggest? I suggest you to add both panel at frame creation then change the visible panel by calling setVisible(true/false) on both. When calling setVisible the parent will be notified and asked to repaint itself.  frame.setContentPane(newContents()); frame.revalidate(); // frame.pack() if you want to resize. Remember Java use 'copy reference by value' argument passing. So changing a variable wont change copies of the reference passed to other methods. Also note JFrame is very confusing in the name of usability. Adding a component or setting a layout (usually) performs the operation on the content pane. Oddly enough getting the layout really does give you the frame's layout manager. Tom thanks for your reply. I'm not aiming to replace the contentpane just a jpanel placed on it (like frame.add(jpanel1) frame.add(jpanel2) frame.add(jpanel3)). Could you plz suggest a sane solution in code? Hey John Your use case seems perfect for CardLayout. http://java.sun.com/docs/books/tutorial/uiswing/layout/card.html In card layout you can add multiple panels in the same place but then show or hide one panel at a time. @swapnonil: Make that an answer so I can vote it up. :) You may run into problems when using the setContentPane() method. I had cases where all (custom) cursors not showing up anymore after calling it.  1) Setting the first Panel: JFrame frame=new JFrame(); frame.getContentPane().add(new JPanel()); 2)Replacing the panel: frame.getContentPane().removeAll(); frame.getContentPane().add(new JPanel()); Also notice that you must do this in the Event's Thread to ensure this use the SwingUtilities.invokeLater or the SwingWorker  class Frame1 extends javax.swing.JFrame { remove(previouspanel); //or getContentPane().removeAll(); add(newpanel); //or setContentPane(newpanel); invalidate(); validate(); // or ((JComponent) getContentPane()).revalidate(); repaint(); //DO NOT FORGET REPAINT } Sometimes you can do the work without using the revalidation and sometimes without using the repaint.My advise use both.  The other individuals answered the question. I want to suggest you use a JTabbedPane instead of replacing content. As a general rule it is bad to have visual elements of your application disappear or be replaced by other content. Certainly there are exceptions to every rule and only you and your user community can decide the best approach.  I was having exactly the same problem!! Increadible!! The solution I found was: Adding all the components (JPanels) to the container; Using the setVisible(false) method to all of them; On user action setting setVisible(true) to the panel I wanted to show. // Hiding all components (JPanels) added to a container (ex: another JPanel) for (Component component : this.container.getComponents()) { component.setVisible(false); } // Showing only the selected JPanel the one user wants to see panel.setVisible(true); No revalidate() no validate() no CardLayout needed.  On the user action: // you have to do something along the lines of myJFrame.getContentPane().removeAll() myJFrame.getContentPane().invalidate() myJFrame.getContentPane().add(newContentPanel) myJFrame.getContentPane().revalidate() Then you can resize your wndow as needed.  Your use case seems perfect for CardLayout. In card layout you can add multiple panels in the same place but then show or hide one panel at a time. When using CardLayout keep in mind that the preferred size for the panel that uses it will be the size of the LARGEST panel in the layout. If you want the space to be reclaimed you will want to use setVisible(false) and setPreferredSize( new Dimension( 00 ) ) to hide a component. I hadn't heard of CardLayout before. Thanks - was perfect for something I needed to do.  Hope this piece of code give you an idea of changing jPanels inside a JFrame. public class PanelTest extends JFrame { Container contentPane; public PanelTest() { super(""Changing JPanel inside a JFrame""); contentPane=getContentPane(); } public void createChangePanel() { contentPane.removeAll(); JPanel newPanel=new JPanel(); contentPane.add(newPanel); System.out.println(""new panel created"");//for debugging purposes validate(); setVisible(true); } }  Problem: My component does not appear after I have added it to the container. You need to invoke revalidate and repaint after adding a component before it will show up in your container. Source: http://docs.oracle.com/javase/tutorial/uiswing/layout/problems.html  Just call the method pack() after setting the ContentPane (java 1.7 maybe older) like this: JFrame frame = new JFrame(); JPanel panel1 = new JPanel(); JPanel panel2 = new JPanel(); .... frame.setContentPane(panel1); frame.pack(); ... frame.setContentPane(panel2); frame.pack(); ...  It all depends on how its going to be used. If you will want to switch back and forth between these two panels then use a CardLayout. If you are only switching from the first to the second once and (and not going back) then I would use telcontars suggestion and just replace it. Though if the JPanel isn't the only thing in your frame I would use remove(java.awt.Component) instead of removeAll. If you are somewhere in between these two cases its basically a time-space tradeoff. The CardLayout will save you time but take up more memory by having to keep this whole other panel in memory at all times. But if you just replace the panel when needed and construct it on demand you don't have to keep that meory around but it takes more time to switch. Also you can try a JTabbedPane to use tabs instead (its even easier than CardLayout because it handles the showing/hiding automitically)",java swing jpanel layout-manager cardlayout416947,A,"Swing components are light-weight? Whenever I read about Swing they say they are light weight components. So I just googled Swing and found that it means Swing does not depend on native peers. Is that why they are called ""light weight""? I mean by light weight I thought maybe the Swing components occupy less memory than the AWT components. Isn't that so? Lightweight vs heavyweight is a question of how the UI components are implemented. Heavyweight components wrap operating system objects lightweight components don't. They are implemented strictly in the JDK. what can you say about the memory the components occupy pal ? do the swing components occupy less memory ? It's hard to say. Lightweight components may occupy more simply because the operating system handles some of the stuff with heavyweight components. Or the overhead of OS objects might be huge. Or simply interfacing those objects might have a huge overhead. In addition to this it highly depends on the LAF (Look & Feel) you use. This is one other advantage of Swing: you can change LAF in just a few lines of code.  Swing is considered lightweight because it is fully implemented in Java without calling the native operating system for drawing the graphical user interface components. On the other hand AWT (Abstract Window Toolkit) is heavyweight toolkit as it merely makes calls to the operating system in order to produce its GUI components. The Evolution of the Swing Paint System section from the Painting in AWT and Swing article explains the difference between lightweight and heavyweight: When the original AWT API was developed for JDK 1.0 only heavyweight components existed (""heavyweight"" means that the component has it's own opaque native window). This allowed the AWT to rely heavily on the paint subsystem in each native platform. [...] With the introduction of lightweight components in JDK 1.1 (a ""lightweight"" component is one that reuses the native window of its closest heavyweight ancestor) the AWT needed to implement the paint processing for lightweight components in the shared Java code. As Swing is implemented in Java it does have some performance disadvantage however I hear that performance has improved in recent releases of Java. The advantage of Swing is that it has many more components available such as JTable and JList which are more graphical and extensible than the components provided in AWT allowing for more graphics-rich applications to be developed. i agree that there are too many cool things with swing - especially the tooltips and icons . In Java 6 the Windows look-and-feel delegates to the OS to draw the lightweight components (see http://weblogs.java.net/blog/chet/archive/2006/02/these_are_some.html).",java swing awt297938,A,"""Always on Top"" Windows with Java In Java is there a way to have a window that is ""Always on top"" regardless if the user switches focus to another application? I've searched the web and all of the solutions lean to some sort of JNI interface with native bindings. Truly this can't be the only way to do it?.. or is it? Try this method of the Window class: Window.setAlwaysOnTop(boolean) It works the same way as the default in the Windows TaskManager: switch to another app but it shows always on top. This was added in Java 1.5 Sample code: import javax.swing.JFrame; import javax.swing.JLabel; public class Annoying { public static void main(String[] args) { JFrame frame = new JFrame(""Hello!!""); // Set's the window to be ""always on top"" frame.setAlwaysOnTop( true ); frame.setLocationByPlatform( true ); frame.add( new JLabel("" Isn't this annoying?"") ); frame.pack(); frame.setVisible( true ); } } Window remains on top even when is not active you would think a simple search for ""java application always on top"" on would have this answer but it couldn't find it. Thanks. Guess what. Now it does!! :) It brings you here! http://www.google.com/search?&q=java+application+always+on+top This is simple and awesome. I was also looking for something like this but didn't know they implemented this in Java 1.5. Thanks for posting. Unfortunately this does not work for me when running a full screen application such as a video game. Anyone know of a way to force it to the top in that situation? @Dream lane I'd probably ask that as a new question This works for a login dialog box but my main application window then goes to the background. I'm open to suggestions. +1 for nothing more than the ""Isn't this annoying"" quip. @MMJZ haha true. Actually I'm surprised I didn't do it for the `args` declaration. I **always** use space after parenthesis. This is a very very old habit that I develop back in the days I used notepad to program. Double clicking on a word would select the parenthesis if there is no space between which was very annoying because I had to delete them afterwards if what I intended to do was re-use the variable somewhere else. This is like the first code I've seen anywhere ever that pads out boolean parameters with spaces.  From my observation I found that AlwaysOnTop privilege is given to the latest process which requested to be always on top. So if you have an application which setAlwaysOnTop(true) and later another application uses this option the privilege is given to the second application. In order to work around this I have set the setAlwaysOnTop(false) and again setAlwaysOnTop(true) whenever any window comes on top of the current window. I've checked it with wordweb in windows. WordWeb is one of the applications which uses AlwaysOnTop option from the OS I'm not sure about if it works properly with your game scenario. Warning: I'm not aware of the side effects. Here is the code example: import java.awt.event.*; import javax.swing.*; public class MainWindow extends JFrame implements WindowFocusListener { public MainWindow() { addWindowFocusListener(this); setAlwaysOnTop(true); this.setFocusable(true); // this.setFocusableWindowState(true); panel = new JPanel(); //setSize(WIDTHHEIGHT); setUndecorated(true); setLocation(XY); setExtendedState(MAXIMIZED_BOTH); setVisible(true); } public void windowGainedFocus(WindowEvent e){} public void windowLostFocus(WindowEvent e) { if(e.getNewState()!=e.WINDOW_CLOSED){ //toFront(); //requestFocus(); setAlwaysOnTop(false); setAlwaysOnTop(true); //requestFocusInWindow(); System.out.println(""focus lost""); } } private JPanel panel; private static final int WIDTH = 200; private static final int HEIGHT = 200; private static final int X = 100; private static final int Y = 100; public static void main(String args[]){ new MainWindow();} }",java gui swing awt295649,A,Adding rows to a JTable We have a simple project where we read data from a socket and we want to populate a table with the coming data but we can't find a way to add rows to a yet created JTable object we can only find how to add rows at creation time of the table. Is it possible to add rows dynamically to a JTable or there is a better alternative object to deal with this way of showing data? EDIT: Thanks a lot for your answers. All three of them look very promising but I have to choose only one and I think the best is Guillaume's. You should create a custom TableModel. A JTable doesn't actually store the rows it always delegates that to a TableModel. To help you implementing it you should make use of AbstractTableModel. Don't forget to call fireTableRowsInserted() every time you add rows. For better performances if you add a lot of rows try to batch the updates and add many rows at a time.  If you use the default table model for a JTable then you can add rows with following code  if ( dest+1 < table.getRowCount()-1 ) ( (DefaultTableModel) table.getModel() ).insertRow(dest+1 getValuesForNewRow()); else ( (DefaultTableModel) table.getModel() ).addRow(getValuesForNewRow()); It's best to just keep hold of the DefaultTableModel before passing it to the JTable constructor. Then you don't need to touch the JTable or do any casting.  Once you start dynamically adding and removing elements from a JTable you really need to start using a TableModel. See the Java Tutorial for more details.,java swing225108,A,Resize a JPanel in line with a JDialog I've got a JDialog which contains a series of JPanels in a CardLayout. Some of these panels contain JTables which I would like to be resized in line with any resizing of the JDialog. I am not sure how to achieve this and any help would be greatly appreciated. At present the tables simply remain their current size and do not scale. I'm sure its something simple but I'm having trouble locating the exact approach needed. Many thanks in advance. I will provide any more information if required. edit: The JDialog is used as a wizard so only one of the panels is being displayed at any one time hence the use of CardLayout. I would ideally like to keep this is layout manager although if it is the source of the problems then obviously I would rethink! You can keep the CardLayout but you need to do the following: 1. set the layout of your JDialog to BorderLayout and add a new JPanel (contentPanel) to the JDialog 2. now set this contentPanel layout to be CardLayout 3. add your other panels to the cardlayout as required. 4. Also make sure off the layouts you use on each of the panels you're adding to the CardLayout. By default JPanel uses FlowLayout I think and this is not ideal for a JTable. So you might need to play around with the layout of the panel containing the table as well; try out BoxLayout or BorderLayout for that as well.,java swing resize jdialog354745,A,"JAVA Swing GUI Components howto RTL view? How can i make my Java Swing GUI Components [Right To Left] for Arabic language from NetBeans Desktop Application? Do yo mean how to display text in a JLabel for instance? you could use it if you have components inside panels inside contentPane  Component[] component = contentPane.getComponents(); for(int i=0; i<component.length; i++){ component[i].applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT); Component[] cp = ((Container) component[i]).getComponents(); for(int j=0; j<cp.length; j++){ try{ ((Component) ((JComboBox) cp[j]).getRenderer()).applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT); }catch(Exception e){ continue; } } }  Don't you just have to use: Component.setComponentOrientation( ComponentOrientation.RIGHT_TO_LEFT ) I believe that the swing components all already have support for RTL don't they? Not sure how/where you'd do that in regards to netbeans though. There's also Component.applyComponentOrientation(..) to change a whole component tree.  You could use alignment but that would not handle the complexities if you have English letters or numbers embedded within your text. It might be preferable to use some sort of styled text widget or even an embedded HTML/rich text viewer. I don't think that standard JLabels can handle the complexities otherwise. JLabel display unicode letters. I think they relay on the system fonts and if the system fonts can display the letter then everything it's ok. For instance in my comp I can write ""ExtraÌ±o""  The call of  Component.setComponentOrientation( ComponentOrientation.RIGHT_TO_LEFT ) should do the trick. But be sure to use the SwingConstants LEADING and TRAILING instead of LEFT and RIGHT in your layouts. The same goes for GridBagConstraints.LINE_START or LINE_END instead of WEST or EAST and probably some similar cases which I forgot to mention. That's a great answer the information about using the more meaningful alignment constants may not be a given to others having trouble with this.",java swing right-to-left477663,A,Is it possible to set a TitledBorder opaque on Swing? Is it somehow possible on Swing to set a TitledBorder transparent so that a background image shines through? Thanks for the hint got confused within my own thoughts :) Strange - TitledBorder.isBorderOpaque() supposedly returns false so it should already work. Maybe the problem is just that the component you're putting the border on just doesn't paint the background image over the border insets?  Found the answer. Use the method setOpaque(false) on the underlying panel.,java swing opacity titled-border242896,A,Problem with Swing GUI on Macintosh I am new to Swing. Are there any specific issues related to customizing the paint operation on the Mac? I have developed a sample application using NetBeans + Swing on Windows. It is working fine. But if I run the same application on a Mac panels' buttons' labels don't appear on the screen. Only when the mouse over operation is performed on particular component does it get displayed on the screen. Kindly can anyone help me out in solving this issue? Thanks in advance. sakkiharry Since Swing paints all UI itself it is not really influenced by Mac OS. There are exceptions though. If you allow Java to use a native menu the menu will behave like any other Swing menu but it is in fact translated to native menu functions (so it will be displayed on top of screen and behave like a native Mac OS X menu... nothing you as programmer need to care about but great for Mac users who hate menus to appear elsewhere). I guess your issue is probably something else but it's hard to guess if I have no code to work with. Can you break down the issue into an ultra minimal test case? E.g. can you just draw a JFrame add a singe one of your custom buttons there that shows the problematic behavior and just use as much code as is necessary to paint this minimal UI and expose the problem? If you'd post this code here I'd take a closer look into it and will try to find out what causes the issue and how to resolve it (I'm a graduated Java programmer but I also have years of Mac OS X development experience; so these are two fields of knowledge I should know really well but I usually don't combine them as I don't develop in Java for Mac OS X).,java osx swing netbeans33708,A,"My (Java/Swing) MouseListener isn't listening help me figure out why So I've got a JPanel implementing MouseListener and MouseMotionListener: import javax.swing.*; import java.awt.*; import java.awt.event.*; public class DisplayArea extends JPanel implements MouseListener MouseMotionListener { public DisplayArea(Rectangle bounds Display display) { setLayout(null); setBounds(bounds); setOpaque(false); setPreferredSize(new Dimension(bounds.width bounds.height)); this.display = display; } public void paintComponent(Graphics g) { Graphics2D g2 = (Graphics2D)g; if (display.getControlPanel().Antialiasing()) { g2.addRenderingHints(new RenderingHints(RenderingHints.KEY_ANTIALIASING RenderingHints.VALUE_ANTIALIAS_ON)); } g2.setColor(Color.white); g2.fillRect(0 0 getWidth() getHeight()); } public void mousePressed(MouseEvent event) { System.out.println(""mousePressed()""); mx1 = event.getX(); my1 = event.getY(); } public void mouseReleased(MouseEvent event) { System.out.println(""mouseReleased()""); mx2 = event.getX(); my2 = event.getY(); int mode = display.getControlPanel().Mode(); switch (mode) { case ControlPanel.LINE: System.out.println(""Line from "" + mx1 + "" "" + my1 + "" to "" + mx2 + "" "" + my2 + "".""); } } public void mouseEntered(MouseEvent event) { System.out.println(""mouseEntered()""); } public void mouseExited(MouseEvent event) { System.out.println(""mouseExited()""); } public void mouseClicked(MouseEvent event) { System.out.println(""mouseClicked()""); } public void mouseMoved(MouseEvent event) { System.out.println(""mouseMoved()""); } public void mouseDragged(MouseEvent event) { System.out.println(""mouseDragged()""); } private Display display = null; private int mx1 = -1; private int my1 = -1; private int mx2 = -1; private int my2 = -1; } The trouble is none of these mouse functions are ever called. DisplayArea is created like this: da = new DisplayArea(new Rectangle(CONTROL_WIDTH 0 DISPLAY_WIDTH DISPLAY_HEIGHT) this); I am not really a Java programmer (this is part of an assignment) but I can't see anything glaringly obvious. Can someone smarter than I see anything? I don't see anywhere in the code where you call addMouseListener(this) or addMouseMotionListener(this) for the DisplayArea in order for it to subscribe to those events.  The implements mouselistener mousemotionlistener just allows the displayArea class to listen to some to be defined Swing component's mouse events. You have to explicitly define what it should be listening at. So I suppose you could add something like this to the constructor: this.addMouseListener(this); this.addMouseMotionListener(this);  I don't see any code here to register to the mouse listeners. You have to call addMouseListener(this) and addMouseMotionListener(this) on the DisplayArea.",java swing309023,A,"How to bring a window to the front? We have a Java-application that needs to be brought to the foreground when a telecontrol mechanism activates something in the application. In order to get this we have realised in the called method of the Class which represents the Frame of our application (extension of a JFrame) following implementation: setVisible(true); toFront(); Under Windows XP this works the first time it is called on the second time only the tab in the taskbar flashes the frame doesn't come to the front anymore. Same goes for Win2k. On Vista it seems to work fine. Anyone ideas? do you have a sample for this behavior? The proper answer is to call `toFront()` on the EDT using `invokeLater`. There is a simple answer included below but it is not the accepted answer. It does work though. Perfectly. I know this is old but this also happens on OSX I'm experiencing this problem but none of the answers below seems to solve it. I'm sure it's caused by windows not allowing me to 'Steal' Focus for my first window in the application. Here's a method that REALLY works (tested on Windows Vista) :D  frame.setExtendedState(JFrame.ICONIFIED); frame.setExtendedState(fullscreen ? JFrame.MAXIMIZED_BOTH : JFrame.NORMAL); The fullscreen variable indicates if you want the app to run full screen or windowed. This does not flash the task bar but bring the window to front reliably. Thanks for the setExtendedState tip. I used it along with the toFront() and repaint() solution to bring the window to the foreground even if it was minimized. Confirmed: this solution works in WindowsXP using toFront results in flashing message in task bar. Thanks!  Simplest way I've found that doesn't have inconsistency across platforms: setVisible(false); setVisible(true); causes some blinking though doesn't it? nice and simple though :) did not work for my background process. Also window comes up white for the first refresh if called from foreground process. Can't use for screen grabs.  Windows has the facility to prevent windows from stealing focus; instead it flashes the taskbar icon. In XP it's on by default (the only place I've seen to change it is using TweakUI but there is a registry setting somewhere). In Vista they may have changed the default and/or exposed it as a user accessible setting with the out-of-the-box UI. Preventing windows from forcing themselves to the front and taking focus is a feature since Windows 2K (and I for one am thankful for it). That said I have a little Java app I use to remind me to record my activities while working and it makes itself the active window every 30 minutes (configurable of course). It always works consistently under Windows XP and never flashes the title bar window. It uses the following code called in the UI thread as a result of a timer event firing: if(getState()!=Frame.NORMAL) { setState(Frame.NORMAL); } toFront(); repaint(); (the first line restores if minimized... actually it would restore it if maximized too but I never have it so). While I usually have this app minimized quite often it's simply behind my text editor. And like I said it always works. I do have an idea on what your problem could be - perhaps you have a race condition with the setVisible() call. toFront() may not be valid unless the window is actually displayed when it is called; I have had this problem with requestFocus() before. You may need to put the toFront() call in a UI listener on a window activated event. 2014-09-07: At some point in time the above code stopped working perhaps at Java 6 or 7. After some investigation and experimentation I had to update the code to override the window's toFront method do this (in conjunction with modified code from what is above): setVisible(true); toFront(); requestFocus(); repaint(); ... public @Override void toFront() { int sta=super.getExtendedState()&~JFrame.ICONIFIED&JFrame.NORMAL; super.setExtendedState(sta); super.setAlwaysOnTop(true); super.toFront(); super.requestFocus(); super.setAlwaysOnTop(false); } As of Java 8_20 this code seems to be working fine. +1 for supporting not allowing windows to steal the focus. I hate when that happens when I'm typing in a document. I completely agree with you against stealing focus but in this precise case the user expects the application to come to the front. But it would uncool to change the registry settings and change the complete windows behavior.  This simple method worked for me perfectly in Windows 7:  private void BringToFront() { java.awt.EventQueue.invokeLater(new Runnable() { @Override public void run() { if(jFrame != null) { jFrame.toFront(); jFrame.repaint(); } } }); }  Hj all methods of yours are not working for me in Fedora KDE 14. I have a dirty way to do bring a window to front while we're waiting for Oracle to fix this issue. import java.awt.MouseInfo; import java.awt.Point; import java.awt.Robot; import java.awt.event.InputEvent; public class FrameMain extends javax.swing.JFrame { //... private final javax.swing.JFrame mainFrame = this; private void toggleVisible() { setVisible(!isVisible()); if (isVisible()) { toFront(); requestFocus(); setAlwaysOnTop(true); try { //remember the last location of mouse final Point oldMouseLocation = MouseInfo.getPointerInfo().getLocation(); //simulate a mouse click on title bar of window Robot robot = new Robot(); robot.mouseMove(mainFrame.getX() + 100 mainFrame.getY() + 5); robot.mousePress(InputEvent.BUTTON1_DOWN_MASK); robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK); //move mouse to old location robot.mouseMove((int) oldMouseLocation.getX() (int) oldMouseLocation.getY()); } catch (Exception ex) { //just ignore exception or you can handle it as you want } finally { setAlwaysOnTop(false); } } } //... } And this works perfectly in my Fedora KDE 14 :-) I love it. Thanks for this one. A little hacky works for us but only for the first call :-). (Kubuntu 12.04) - other solution did fail  The rules governing what happens when you .toFront() a JFrame are the same in windows and in linux : -> if a window of the existing application is currently the focused window then focus swaps to the requested window -> if not the window merely flashes in the taskbar BUT : -> new windows automatically get focus So let's exploit this ! You want to bring a window to the front how to do it ? Well : Create an empty non-purpose window Show it Wait for it to show up on screen (setVisible does that) When shown request focus for the window you actually want to bring the focus to hide the empty window destroy it Or in java code : // unminimize if necessary this.setExtendedState(this.getExtendedState() & ~JFrame.ICONIFIED); // don't blame me blame my upbringing // or better yet blame java ! final JFrame newFrame = new JFrame(); newFrame.add(new JLabel(""boembabies is this in front ?"")); newFrame.pack(); newFrame.setVisible(true); newFrame.toFront(); this.toFront(); this.requestFocus(); // I'm not 100% positive invokeLater is necessary but it seems to be on // WinXP. I'd be lying if I said I understand why SwingUtilities.invokeLater(new Runnable() { @Override public void run() { newFrame.setVisible(false); } }); Didn't work on Win7 both windows flash (if I don't hide the 2nd). Creative. Didn't work for my background process on Win7 when covered. New frame does not come up on top. Older JDK 6u21.  A possible solution is: java.awt.EventQueue.invokeLater(new Runnable() { @Override public void run() { myFrame.toFront(); myFrame.repaint(); } }); +1 WORKS! Simple to the point. Perhaps one should start ALL the UI code inside invokeLater in first place? ;) Did not work for me in Java 7 on KDE 4.9.5 the window would still hide below other programs. What helped me was changing the order of bringing windows to the front. Instead of hiding one window and show the second window show the second window and then hide the first window (JFrame).  I tested your answers and only Stefan Reich's one worked for me. Although I couldn't manage to restore the window to its previous state (maximized/normal). I found this mutation better: view.setState(java.awt.Frame.ICONIFIED); view.setState(java.awt.Frame.NORMAL); That is setState instead of setExtendedState.  There are numerous caveats in the javadoc for the toFront() method which may be causing your problem. But I'll take a guess anyway when ""only the tab in the taskbar flashes"" has the application been minimized? If so the following line from the javadoc may apply: ""If this Window is visible brings this Window to the front and may make it the focused Window.""  I had the same problem with brining a frame to the front under Ubuntu (Java 1.6.0_10). And the only way I could resolve it is by providing a window listener. Specifically I had to set frame to always stay on top whenever toFront is invoked and provide windowDeactivated event handler to setAlwaysOnTop(false). So here is the code that could be placed into a base frame which is used to derive all application frames. @Override public void setVisible(final boolean visible) { // make sure that frame is marked as not disposed if it is asked to be visible if (visible) { setDisposed(false); } // let's handle visibility... if (!visible || !isVisible()) { // have to check this condition simply because super.setVisible(true) invokes toFront if frame was already visible super.setVisible(visible); } // ...and bring frame to the front.. in a strange and weird way if (visible) { int state = super.getExtendedState(); state &= ~JFrame.ICONIFIED; super.setExtendedState(state); super.setAlwaysOnTop(true); super.toFront(); super.requestFocus(); super.setAlwaysOnTop(false); } } @Override public void toFront() { super.setVisible(true); int state = super.getExtendedState(); state &= ~JFrame.ICONIFIED; super.setExtendedState(state); super.setAlwaysOnTop(true); super.toFront(); super.requestFocus(); super.setAlwaysOnTop(false); } Whenever frame should be displayed or brought to front call frame.setVisible(true). Since I moved to Ubuntu 9.04 there seems to be no need in having a window listener for invoking super.setAlwaysOnTop(false) -- as can be observed this code was moved to methods toFront and setVisible. Pls note that method setVisible should always be invoked on EDT. Worked under all circumstances so I accepted this one. Thanks! Also related is this question: http://stackoverflow.com/questions/2315560/how-do-you-force-a-java-swt-program-to-move-itself-to-the-foreground +1 Was very helpful Thanks! @ka3ak This is a protected setter that could be introduced in the suggested JFrame-base class in order to track the situation with frame being disposed. Method dispose() would need to be overridden with a call to setDisposed(true). This is not strictly speaking needed for everyone. It doesn't compile by me because of setDisposed() method. Can't be found. The `.setAlwaysOnTop(true);` was the only one that worked for me when using a JWindow. This may be the greatest the most important the most happy-making answer I've ever encountered on stack Overflow. Thanks for your service to mankind. This has been driving me NUTS.",java windows swing awt304874,A,What are good docking frameworks for Java/Swing? I'm looking for a good lightweight Java docking framework. I know that Netbeans and Eclipse can be used as RCP but I'm looking for something a little bit more lightweight. See a comprehensive list (with links) of over 10 docking frameworks here. Raven Docking Apache 2; 0.2 MB MyDoggy LGPL; only JARs: 0.7 MB; Dec 2010 VLDocking LGPL; 0.4 MB NetBeans CDDL/GPL; 4.6 MB (platform.zip) Eclipse CPL or EPL ? only swt (?) InfoNode GPL or Commercial Sanaware GPL or Commercial full zip 0.3MB Docking Frames LGPL; 3 MB Jide commercial; <3MB FlexDock MIT; 0.4 MB; Nov 2011 Inactive projects SwingDocking seems to me fully functional and fast; Apache license 2; Oct 2007 XUI will be further developed here?; MPL; 1.6 MB (XUI-jdk15.zip); Feb 2008 JDocking CDDL; 1.3 MB (v0.8.zip) the docking part of netbeans JRichClient GPL; derivation of flexdock; Nov 2007 [Infonode](http://www.infonode.net/index.html?idw); GPL or Commercial Flexdock 1.1 is actually 433 KB 1.6 MB is for the demo package (see the [download page](http://java.net/projects/flexdock/downloads)) Docking Frames is actually 3 MB these days only the oldest versions are anywhere near 0.7 MB.  See the infonode docking windows. They have a gpl version and a commercial version but the licenses are not that expensive. Robust and good looking if you select the right skin (we use the ShapedGradientDockingTheme which looks a little like eclipse). Do you know if it is actively developed? The last release is from over a year now... Well the company is still there so I think they are. I haven't seen increases in version numbers for a while though. Not expensive? A commercial Infonode docking license costs $6000! $6000 is for a site license single user is $300.  I've just released another docking framework. It's really lightweight and available under the Apache 2.0 license. Raven Docking: http://raven.java.net/ravenDocking/index.html  We use VLDocking from vlsolutions (http://vldocking.com) quite successfully in 3 of our products. They have some open-source license compatible with GPL.  JIDE has quite a few components including a docking framework. The core of JIDE is open source but they also have several commercial libraries. The docking framework is commercial. http://www.jidesoft.com/products/component.htm  I have successfully used FlexDock in the past but it seems not well supported and it is quite hard to start with (this is a quite complex framework for docking). FlexDock is open source. Besides more recently I have enjoyed using MyDoggy which is well supported and quite easy to use (very well documented with enough examples and tutorials). Its main drawback (for me) is the difficulty to adapt its look when using 3rd-party LAFs (like Substance for instance). But in general I really like it. If I remember correctly it is quite a lightweight library. I would recommend it for any use (it is open source and free to use) for its good API.  I once evaluated several docking frameworks (including the already mentioned flexdock and mydoggy and jdocking. Finaly I came to Docking Frames which I can really recommend. It is easy to use but still feature rich + good documentation and quick support from developer via forum. +1 docking frames is quite nice and its still supported updated just a few weeks ago After reviewing the list above and testing a few of the frameworks I decided to give Docking Frames a shot mainly because it seems like the most active project.,java swing frameworks docking260574,A,"Matisse in Eclipse I have just installed Eclipse 3.4 and found out that there is not a plugin to create Swing applications yet. I also have found that there is a Matisse implementation in MyEclipse IDE but I'd like to now whether there is such a Matisse plugin for free. I did a quick Google search and found that you could use Netbeans Matisse and Eclipse in parallel: NetBeans Wiki: UsingNetbeansMatisseAndEclipseInParallel It seems to basically involve building the Swing GUI in Netbeans and doing the other coding tasks from within Eclipse. Yeah I have being doing this. But this is not much practical unfortunately. I'll read the article you recommended.  there isnt one for free. myeclipse is the only way to run matisse inside eclipse.  Instatiations Swing Designer is the best in my opinion. We settled on it after trying may different Eclipse plugins. I didn't know it. Thank you very much for the recomendation. I'll try it. Instatiations Swing Designer is now [Google WindowBuilder Pro](https://developers.google.com/java-dev-tools/download-wbpro) ""Instatiations""? i just broke my tongue trying to pronounce that word  Although this is not a true answer to your question you may as well look at alternative solutions in terms of layout management: Matisse and GroupLayout are neither the only way nor the best one to define your GUI forms. I would suggest you take a look at: MigLayout (very powerful and quite simple) and DesignGridLayout (quite powerful and very simple) Both are open source and have a friendly license (not GPL). A quick search on Google will give you the links immediately. Disclaimer: I am one of DesignGridLayout both project owners but I point you to it because I'm convinced it provides a better way to define Swing layouts. No problem I'll check it. I mentioned Matisse because it's the best design I've knew so far but I'm open to alternatives as long as I can still work in eclipse. :-)",java eclipse swing eclipse-3.4 matisse396156,A,"Automatically size JPanel inside JFrame I have a JPanel subclass on which I add buutons labels tables etc. To show on screen it I use JFrame: MainPanel mainPanel = new MainPanel(); //JPanel subclass JFrame mainFrame = new JFrame(); mainFrame.setTitle(""main window title""); mainFrame.getContentPane().add(mainPanel); mainFrame.setLocation(100 100); mainFrame.pack(); mainFrame.setVisible(true); mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); But when I size the window size of panel don't change. How to make size of panel to be the same as the size of window even if it was resized? If the BorderLayout option provided by our friends doesnot work try adding ComponentListerner to the JFrame and implement the componentResized(event) method. When the JFrame object will be resized this method will be called. So if you write the the code to set the size of the JPanel in this method you will achieve the intended result. Ya I know this 'solution' is not good but use it as a safety net. ;)  You can set a layout manager like BorderLayout and then define more specifically where your panel should go: MainPanel mainPanel = new MainPanel(); JFrame mainFrame = new JFrame(); mainFrame.setLayout(new BorderLayout()); mainFrame.add(mainPanel BorderLayout.CENTER); mainFrame.pack(); mainFrame.setVisible(true); This puts the panel into the center area of the frame and lets it grow automatically when resizing the frame.  From my experience I used GridLayout.  thePanel.setLayout(new GridLayout(abcd)); a = row number b = column number c = horizontal gap d = vertical gap. For example if I want to create panel with: unlimited row (set a = 0) 1 column (set b = 1) vertical gap= 3 (set d = 3) The code is below:  thePanel.setLayout(new GridLayout(0103)); This method is useful when you want to add JScrollPane to your JPanel. Size of the JPanel inside JScrollPane will automatically changes when you add some components on it so the JScrollPane will automatically reset the scroll bar.  As other posters have said you need to change the LayoutManager being used. I always preferred using a GridLayout so your code would become: MainPanel mainPanel = new MainPanel(); JFrame mainFrame = new JFrame(); mainFrame.setLayout(new GridLayout()); mainFrame.pack(); mainFrame.setVisible(true); GridLayout seems more conceptually correct to me when you want your panel to take up the entire screen. What about BorderLayout.CENTER?.I think it can used mainly for these kind of cases.  You need to set a layout manager for the JFrame to use - This deals with how components are positioned. A useful one is the BorderLayout manager. Simply adding the following line of code should fix your problems: mainFrame.setLayout(new BorderLayout()); (Do this before adding components to the JFrame) Further reading . The important thing in this case is that a JFrame's default layout manager is FlowLayout.",java swing size jframe jpanel357562,A,"Java based Swing Browser should support JavaScript In my company I am implementing a java based html browser. I found a lot of tools to generate complete browsers only in Swing which are looking like Mozilla. But I was not able to find a browser which supports JavaScript. The browser I will implement should execute JavaScript inside the HTML sides. Do you know of a tool that supports this? Or do you know of a parser which pairs the javascript to something I can use inside the html browser? I know that the eclipse plugins can handle javascript but I can not use AWT in my project. Thanks for your help. I'd look at Lobo. It sounds like just want you want. It has a HTML Renderer and parser and some support for Javascript. If it's missing a feature of Javascript that you need it seems like it would easier to contribute to Lobo instead of reinventing the wheel. That sounds like a good solution. I will test this. Thanks Will you please tell me that how to implement this?  It will be available. I hope pretty soon. Its name is JWebPane and it is based on WebKit afaik. The interesting question is ""When"" Here's the link: http://weblogs.java.net/blog/ixmal/archive/2008/05/introducing_jwe.html News today: http://weblogs.java.net/blog/alex2d/archive/2008/12/jwebpane_projec.html  In my company I am implementing a java based html browser. Good God why? That said this page at java.net discusses some options; you could search it more extensively.  You don't want to build this yourself. Fortunately there are a number of open source javascript engines you might be able to adapt. add the moment the html sides are shown by using C++ and a firefox plugin but i should use the existing html sides which including javascript. I have no choice i have to show html with javascript. I'm not saying don't do it: I'm saying find someone else that's already done it and use that.",java javascript swing swt115277,A,"Fast search in java swing applications? I'm wandering myself what component is the best for displaying fast search results in swing. I want to create something like this make a text field where user can enter some text during his entering I'll improve in back end fast search on database and I want to show data bellow the text box and he will be able to browse the results and on pres enter result will be displayed in table. So my question is is there any component which already have this logic for displaying? Or is it's not what is the best way to implement that. This search will be something what ajax gives me on web same logic same look and feel if it's possible on desktop application. You will have to first attach a listener to the JTextFields Document to be notified whenever the user types in the field (or changes it). From there you can fire off any server-side code you need. The results of that can be used to update a listbox. A few things to keep in mind: The code to do the search against the backend must be in another thread The code that updates the list box should update the list box's model You will need to manage all your backend search results so that you only update the listbox with the most recent result (e.g. user types 'A' backenf searches for that. Meanwhile user has typed 'C' kicking off a backend search for 'AC'. You need to ensure the results from the 'A' search dont' make it to the listbox if the 'AC' search results are available).  It is possible of course. It is simple too. For drop down list of terms just use popup menu. This is simple. The background processing of entered text is simple too. Enjoy!  Use Hibernate Search. The SwingHack (http://oreilly.com/catalog/9780596009076/) book has an example of this.  In the interest of killing two birds with one stone: have a separate indexing thread. This will: Improve the speed of searches whenever they are executed. Improve the responsiveness of the UI since indexing is happening in a separate thread. Of course exactly how you perform the indexing will vary widely depending on your particular application. Here is a good place to start researching: Search Indexing. And please ignore the reference to Web 3.0 [sic].  Are you looking for something like an AutoComplete component for Java Swing? SwingX has such a component. See here for the JavaDoc. It has a lot of utility methods to do various things i.e. auto-completing a text box from the contents of a JList. Thanks for the tip. I downloaded the swingx classes and I tried: ArrayList nums = new ArrayList(); numsadd(new StringBuffer(""4000"")); nums.add(new StringBuffer(""5000"")); autoCompleteAdaptor = new TextComponentAdaptor(numsInputnums); where numsInput is a JTextField. I don't know what do I need to setup next. Do you happen to know where I can find a sample to get started ?  I strongly strongly recommend that you take a look at Glazed Lists - this is one of the finer open source Java libraries out there and it makes the bulk of what you are asking about super easy.",java swing search491726,A,can I build swing applications on eclipse? I used to work on netbeans to build Java applications but now: i am using eclipse. I was was wondering if there a a free good plug-in to help me with swing windows.?? I'm assuming you want a GUI designer. The best plug-in for this is the excellent Swing Designer. Definitely worth a look. Nope sorry. But it is worth the license. it is not free ??  Jigloo - CloudGarden(free non-commercial) Visual Editor Project AND JForm (pay) I think your third link is wrong. It looks like a domain parking site... cheers looks like they forgot to pay there bill...  JForm designer is a good swing designer but it is not free.  Jigloo is free for non-commercial use. There are others on the UI category at Eclipse Plugin Central.,java eclipse swing408820,A,"What is the difference between swing and awt? Can someone please explain me what's the difference between swing and awt? Are there any cases where awt is more useful/advised to use than swing or vice-versa? Related: http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324 Swing: Swing is part of the java foundation classes. Swing components are platform-independent. Swing components are lightweight components because swing sits on the top of awt. AWT: AWT is called the abstract window tool. AWT components are platform-dependent. AWT components are heavyweight components.  As far as when AWT may be more useful than Swing - you may be targeting an older JVM or platform that doesn't support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn't have to install a newer Java plugin. I'm not sure what the current most widely installed version of the Java plugin is - this may be different today. some people prefer the native look of AWT over Swing's 'not quite there' platform skins. (There are better 3rd party native looking skins than Swing's implementations BTW) Lots of people preferred using AWT's FileDialog over Swing's FileChooser because it gave the platform file dialog most people were used to rather than the 'weird' custom Swing one. But for the last one we can also create a FileChooser that pretty much looks like windows file dialog (but with no autocomplete) http://stackoverflow.com/q/17630055/2534090  swing component provide much flexible user interface because it follow model view controller(mvc). awt is not mvc based. swing works faster. awt does not work faster. swing componets are light weight. awt componentsare heavy weight. swing occupies less memory space. awt occupies more memory space. swing component is platform independent. awt is platform dependent. swing require javax.swing package. awt require javax.awt package. I don't think swing works faster than AWT because AWT uses native code (the gui code) that was already there in the OS but swing builds every component from the scratch. So AWT might be faster. Could you say me what is your point of view in saying **swing works faster**? Thanks.  Several consequences result from this difference between AWT and Swing. AWT is a thin layer of code on top of the OS whereas Swing is much larger. Swing also has very much richer functionality. Using AWT you have to implement a lot of things yourself while Swing has them built in. For GUI-intensive work AWT feels very primitive to work with compared to Swing. Because Swing implements GUI functionality itself rather than relying on the host OS it can offer a richer environment on all platforms Java runs on. AWT is more limited in supplying the same functionality on all platforms because not all platforms implement the same-looking controls in the same ways. Swing components are called ""lightweight"" because they do not require a native OS object to implement their functionality. JDialog and JFrame are heavyweight because they do have a peer. So components like JButton JTextArea etc. are lightweight because they do not have an OS peer. A peer is a widget provided by the operating system such as a button object or an entry field object. Great answer. Especially the **peer** no one discussed this. Thank you :)  AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system although it tries. Swing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons labels text checkboxes etc. into that window and responds to all of your mouse-clicks key entries etc. deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a ""pluggable look and feel"" that can make it look more or less like how the native windows and widgets would look). These are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :) Here are a couple: AWT is a cross-platform interface so even though it uses the underlying OS or native GUI toolkit for its functionality it doesn't provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren't the same on every platform might not be supported or worse they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance they may try to make calls into native code from Java. Because AWT uses native GUI widgets your OS knows about them and handles putting them in front of each other etc. whereas Swing widgets are meaningless pixels within a window from your OS's point of view. Swing itself handles your widgets' layout and stacking. Mixing AWT and Swing is highly unsupported and can lead to ridiculous results such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing. Because Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However this has shrunk dramatically over the last several years due to more optimized JVMs faster machines and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point but most will say that it is well worth it. Finally you might also want to check out SWT (the GUI toolkit used for Eclipse and an alternative to both AWT and Swing) which is somewhat of a return to the AWT idea of accessing native Widgets through Java. :) .. please check my edited question Um... having done some pretty extensive Swing across multiple platforms I can tell you that it very much is not the same across platforms. Similar? Sure. Same? No way. thanks a lot skiphoppy... The heavyweight/leightweight problems will disappear with Java 6 update 12 (see http://java.dzone.com/news/a-farewell-heavyweightlightwei). Wow. I can't believe they can fix it and I still can't believe mixing lightweight and heavyweight components would ever be desirable. But it's incredible that they can fix it. Just forget about both. Have a look at WPF. :)  AWT 1 . AWT occupies more memory space 2 . AWT is platform dependent 3 . AWT require javax.awt package swings 1 . Swing occupies less memory space 2 . Swing component is platform independent 3 . Swing requires javax.swing package Could you say me how does AWT occupies more memory space? Because it uses native code? awt requires java.awt.*  Swing vs AWT. Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components. Any serious Java UI work is done in Swing not AWT which was primarily used for applets. are there any cases where awt is more useful/ advised to use then swing? Samiksha make that another question instead of trying to have a discussion thread in these comments. :) It used to be relevant... 10 years ago. @Pacerier he was talking about AWT not SWT  The base difference that which already everyone mentioned is that One is heavy weight and other is light weight. Let me explain bacially what the term heavy weight means is that when you are using the awt components the native code used for getting the view component is generated by the Operating System thats why it the look and feel changes from OS to OS. Where as in swing components its the responsibility of JVM to generate the view for the components. Another statement which i saw is that swing is MVC based and awt is not. actually Swing uses a Model-Delegate approach which is derived from the MVC approach where in the View and Controller are combined for a Delegate structure +1 for more simpler explanation",java swing awt378754,A,"Java swing UI crash debugging I am trying to debug a problem where a user clicks on the button and the UI just dies. I know good luck. The logs just end after the user clicks the button so i'm thinking there may be some exception/error that we are not logging. Maybe an OutOfMemoryError. Any suggestions on how to proceed? to get more information. Java command setting etc. Thanks for any help rich i was able to find the jvm error file. Looks like something happened while in the ""AWT-Windows"" native thread. =>0x02acf000 JavaThread ""AWT-Windows"" daemon [_thread_in_native id=3616 stack(0x02eb00000x02f00000)] siginfo: ExceptionCode=0xc0000005 writing address 0xe2789280 Registers: EAX=0x234f099c EBX=0x00001400 ECX=0x00000100 EDX=0xe2789280 ESP=0x02eff4a4 EBP=0x00000400 ESI=0x234f099c EDI=0xe2789280 EIP=0x6d02bcbd EFLAGS=0x00010206 Top of Stack: (sp=0x02eff4a4) 0x02eff4a4: 02eff500 00000100 02eff584 00000100 0x02eff4b4: 6d0a5697 00000400 00000400 00000100 0x02eff4c4: 00000100 02eff700 02eff500 00000000 0x02eff4d4: 00000000 00000100 041ac3a0 00000100 0x02eff4e4: 00182620 00000400 e2789280 00000000 0x02eff4f4: 00000000 00000100 00000100 00000000 0x02eff504: 00000000 00000100 00000100 00000000 0x02eff514: 00000000 00000004 00000400 00000000 Instructions: (pc=0x6d02bcbd) 0x6d02bcad: 00 00 00 8b 4c 24 14 8b e9 c1 e9 02 8b f0 8b fa 0x6d02bcbd: f3 a5 8b cd 83 e1 03 f3 a4 8b 74 24 18 8b 4c 24 Stack: [0x02eb00000x02f00000] sp=0x02eff4a4 free space=317k Native frames: (J=compiled Java code j=interpreted Vv=VM code C=native code) C [awt.dll+0x2bcbd] [error occurred during error reporting (printing native stack) id 0xc0000005] Java frames: (J=compiled Java code j=interpreted Vv=VM code) j sun.awt.windows.WToolkit.eventLoop()V+0 j sun.awt.windows.WToolkit.run()V+69 j java.lang.Thread.run()V+11 v ~StubRoutines::call_stub  Try redirecting standard output - you'll probably see the exception stack trace there.  I don't know what you mean by ""just dies"". Does the UI still redraw itself if you drag it outside your screen edge and then back in? Does the entire process eventually terminate unexpectedly? Does the entire process immediately terminate unexpectedly? Assuming the UI is still there when you click a button and nothing seems to be happening another easy way to diagnose what might be going wrong is to monitor that process' CPU and memory usage. Task Manager (or better Process Explorer) if you're in Windows; ps if you're some flavor of Unix (and probably Mac as well). Check how much CPU that process is using first. If it's 0% then you probably have something benign like the button having no listener (and hence clicking it has no effect whatsoever). If it's 100% then you probably have some business logic running like mad possibly in an infinite loop. Two things to look at: one check memory usage and see whether it's going up; a bug could be causing large numbers of objects to be created and you'll eventually run out of memory. It's impossible to say for sure without knowing what the code does. The second thing is mentioned above: drag the UI offscreen and then back. Java's EDT (Event Dispatch Thread) is responsible for handling all UI events including redrawing the UI when it is made visible; if it doesn't do that then you know something is running in the EDT that shouldn't be keeping it from getting around to doing things like redraws. For all I know the business logic is working just fine but merely takes a while and is hogging the EDT. (If it's just under 50% 33% 25% etc. then you're on a multiple-CPU machine; see 100% above...) From your description however (namely ""the logs just end"") it sounds like your UI or business logic is waiting on something that'll never come so you'll have 0% CPU on that process. Worth checking anyway since it's quick and can head off a needless bug hunt in the wrong place.  You must have an event listener waiting for the mouse clicked event. Did you trace through that code to a specific line? The code must at least reach the first line I can't see the event listener not working. You'll need to break it down a bit. And if it's only got one line then you need to drill into that code until you have more than one line or until you can isolate it some more...  the application is running on java 1.6. and the entire process immediately terminate unexpectedly. One other piece of information is that the swing app is started using webstart. i'm are looking through code based on the last line in the log to see if i can figure out what's happening. unfortunately this has happened before and each time at a different point so i haven't been able to reproduce. we'll probably end up eventually using the Thread.setDefaultUncaughtExceptionHandler() suggestion and see if we can get more info. any more thought are welcome. thanks so much for the help  Which version of java and what machine? In any case here's the scoop: the event queue thread runs somewhat separately from the main thread. In Java < 5 there was a bug that made it difficult to capture events from that thread so some exceptions just went away. In Java 5 there's a new method Thread.setDefaultUncaughtExceptionHandler() that will let you set up an exception handler for anything that might otherwise have gone uncaught. Add a handler there and catch all Throwables and log them. This is also a good hack for dealing with things you might otherwise call System.exit() for as well; have a normalExit Throwable; throw that anywhere you'd call exit in the GUI and make sure all gets cleaned up. Charlie: I think of myself as pretty Java savant and this is one new feature of the language I definitely didn't know about. Thanks for sharing it! Well it happened in part because I complained about the difficulty when I was a Java Architect at Sun. System.exit() basically just shoots the process in the head; I wanted an orderly shutdown.",java swing211051,A,"Find ""real"" height/width of Swing/AWT object Because Canvas3D doesn't have the ability to resize dynamically with the parent frame I would like to be able to track when a user resizes a window and then resize it manually myself. (If this ends up crashing Canvas3D as some docs suggest I will simply destroy and recreate it when the user resizes their window). Part of this procedure involves being able to accurately tell how big the container panel is to begin with. The two methods I've tried: panel.getHeight(); panel.getPreferredSize().height; Don't seem to accurately report things: getHeight() is invariably zero and getPreferredSize() returns numbers that don't actually have anything to do with the actual size of the panel. Any ideas? Edit: So I took a debugger to the panel object and manually inspected the non-object properties and I didn't see anything that resembled width/height. Granted there are sub-objects that I didn't look at. Also maybe the window has to be visible (it isn't at the point I'm interfacing the object) when I query for height/object? Edit 2: So Swing classes are subclasses of AWT classes so I imagine if you're able to find the height/width of those the approach would generalize. I've amended the title accordingly. I found out that if you extend by JFrame this code can be used also to save time effort and space. int windowWidth = getWidth(); int windowHeight = getHeight(); I know you already got an answer but if you ever need an alternative here it is.  To determine the size of a component you have to either: have set it manually at some point run the layout manager responsible for layouting the component Generally you get the exact size of a component via the getSize() method which returns a Dimension object containing width and height but getWidth/Height() should work too. But this can only work if one of the two preconditions are met. If a window has never been made visible has no layout manager or the component (you want to know the size of) has been added after the window/container has been made visible the size usually is zero. So to get the correct size you have to make the container/frame visible (after you have added the component) or call validate() or doLayout() on the container to recalculate the layout if you added the component after the last layout was done. Another thing to keep in mind is setting and probably configuring a layout manager on the container. If no layout manager ist set (null) even making a container visible oder calling validate() does not set a size on its children. The minimumSize/preferredSize/maximumSize properties are hints to the layout manager how the component should be sized but it does not have to obey them (most layout managers don't). Edit 2: After I read your other question about the same subject I think you should read Using Layout Managers from The Java Tutorials Edit: I don't know if you already figured that out but to react to the resizing of the window you can do something like this: public class WindowResizeTest extends JFrame { public static void main(String[] args) { new WindowResizeTest(); } public WindowResizeTest() { this.setSize(640 480); JPanel panel = new JPanel(); panel.setBackground(Color.RED); this.add(panel); this.addComponentListener(new ComponentListener() { public void componentResized(ComponentEvent e) { System.out.println(e.getComponent().getSize()); } public void componentHidden(ComponentEvent e) {} public void componentMoved(ComponentEvent e) {} public void componentShown(ComponentEvent e) {} }); this.setVisible(true); } } Thank you so much for the well thought out answer. I will try it out promptly! Thanks for the response. Saved my life! Thanks nice work!",java swing156472,A,Is there a good drop-in replacement for Java's JEditorPane? I'm not happy with the rendering of HTML by Swing's JEditorPane. In particular bullets for unordered lists are hideous. Customising the rendering seems extremely difficult. Therefore I'm looking for a replacement with better HTML rendering. Does this exist? (I asked Google and found nothing except a promising dead link). Something that I looked at extensively a while back - and there are many options - however I nearly ended up using http://lobobrowser.org/cobra.jsp but then the project was cancelled so I can't tell you how it all turned out... Cobra works well for my needs. I wish the jar was a little smaller though.  Cobra did the trick. Almost a drop-in replacement for JEditorPane with very nice HTML rendering. One complaint: it's a big jar to add to my little application. Thanks for the responses.  http://today.java.net/pub/a/today/2004/05/24/html-pt1.html  Take a look at SwingBox. SwingBox is a Java Swing component that allows displaying the (X)HTML documents including the CSS support. It is designed as a JEditorPane replacement with considerably better rendering results. SwingBox is pure Java and it is using the CSSBox rendering engine for rendering the documents.,java swing jeditorpane213378,A,"Open-source improvements or replacements for Swing components I develop a number of desktop Java applications using Swing and while Swing is quite powerful (once you get the hang of it) there are still a lot of cases where I wish some advanced component was available right out of the box. For example I'd really like to see easy-to-use components (without writing them myself which I could do given enough time) like: Multi-line label Windows File Explorer-like Icons or Thumbnails view Drop-down button (like Firefox's old Back button) 5-star rating widget Combo box with automatic history (like the text field on Google) An Outlook-style accordion-style bar and so on I know of a couple of sources of free Swing components like SwingLabs home of JXTable JXDatePicker and a few others. Where do you go for Swing components beyond those included with Java itself? Multi-line labels are built into Swing because you can use HTML in JLabels: http://stackoverflow.com/questions/685521/multiline-text-in-jlabel The following are worth a look: swingX Glazed lists Substance look'n'feel Flamingo components Ken Orr's Mac Widgets Jide's open source components Your first link has too many http's in it.  Hey There I know you can get an awesome wrapping labe and an accordion from javaswingcomponents however they are not open source implementations. Otherwise Jide and SwingX are great choices.  As for: ""Windows File Explorer-like Icons or Thumbnails view"" They are built in in swing. File explorer icons are accessed through FileSystemView class ( it is used by JFileChooser ) when the L&F is Windows of course. FileSystemView.getFileSystemView(); Icon driveIcon = fsv.getSystemIcon( new File(""C:\\"")); And the Thumbnails icon can be retrieved with the sun.com class that are discouraged by Sun sun.awt.shell.ShellFolder getIcon( boolean largeIcon ) But this one may not perform very well some times ( due to native resources handling I think ). I realize that... I was thinking about lists that look like Explorer views but aren't used for the file system. For example a thumbnail list of photos or some other type of icon.",java swing components281478,A,"Jlabel HTML formatting I have a JLabel which has an e-mail address in it. I used HTML formatting on the JLabel so it appears as a link. However you are not able to click the link. In fact you cannot select any of the text in the label. Is there a property that I can set on the JLabel to allow the user to at least select the text of the e-mail and preferably to click on the e-mail address the way they would on a webpage? My code for my JLabel is essentially: JLabel l = new JLabel(""<html><a href=\""mailto:bob@bob.com\"">bob@bob.com</a>""); The default JLabel doesn't allow you to do this. If you really want to use a JLabel you could add a mouse listener to it to capture clicks and react to them. Another way would be to use a non-editable JEditorPane and call addHyperlinkListener on it to add your HyperlinkListener.",java swing438508,A,"How to securely trigger a Swing-Action in a restricted applet? I simply want to call a swing action from my own popup menu. But since there is a security manager I need a solution to invoke this action without calling it directly. For instance the paste action of a text component will fail because sun.swing.SwingUtilities2 cannot be loaded if there is any of my classes in the call stack. Is there any way to enqueue an event to the event thread? JComponent.dispatchEvent doesn't do the job because it processes the event itself. Short answer: you can't without signing the applet. Long answer: If you could without permissions you could queue all kind of interesting messages. Your example paste or in long form: have access to something the client has copied before is an action the client needs to know about and authorize. Think about a rouge applet monitoring the clipboard ""pasting"" everything and sending it over the wire to a remote server. Your PIN for example. The solution is to sign your applet thereby telling the client ""It is in (your name here) responsibility that this applet is not evil."" and asking the user if he/she believes you. If yes the security manager will no longer block you. If not - well the user distrusts you why should the JVM do otherwise? See http://java.sun.com/developer/onlineTraining/Programming/JDCBook/signed.html",java security swing applet action421381,A,"Swing buttons don't react immediately! How can I change that? I've built a form with Netbeans's visual editor. When I press one of the buttons it should do the following : set it to disabled perform a task that takes some time when the task finishes the button will be enabled again However the following happens: the button remains in a pressed state until the task finishes when the task finishes the enabling/disabling of buttons will be very fast (they will happen but you won't notice them) This behaviour is not something I want. I tried using repaint on the JButton on the JFrame and even on the JPanel containing the button but I can't seem to get it to do what I want. Some hints? You need to do the task that takes some time in a different thread. The reason the button is blocking is because the work is being done in the same thread that draws the button. Once the work is done the button can do the rest of what you tell it to. If you use a different thread the thread will go do the task while the drawing code can continue drawing the form.  When you do work in a button callback you are stalling the GUI painting thread until it completes. What you need to do is spawn a thread to do the long running task and then have that thread use SwingUtilities.invokeLater() to update the UI when it completes. Not using invokeLater is not thread safe and is generally bad mojo. A basic example is: button.setEnabled(false); new Thread(new Runnable() { public void run() { // Do heavy lifting here SwingUtilies.invokeLater(new Runnable() { public void run() { button.setEnabled(true); } }); } }).start(); The part with ""button.setEnabled(true)"" is taking place in the thread that does the work ? Should I pass the button to the thread ( in case I don't want to use anonymous classes ) ? It's taking place in the GUI Thread. See http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/SwingUtilities.html#invokeLater(java.lang.Runnable) As for how much you dislike anonymous classes that's up to you. You might want to put a try-finally in there too. Also it's more robust to calculate the new button state (in the EDT) rather than firing delayed messages with old state about the place. I forgot the run methods. Thanks Tom. Goes to show you how dependent I am of my IDE :) Sothe answer's yes? :) This answer is lacking in explanation - feel free to copy some of the explanation from my answer. Done. Thanks Paul. Made it community while I was at it. You might as well consider using SwingWorker (part of Java6 but exists as Open Source library for Java5) which will make the source code ligher (threading and EDT issues are handled by SwingWorker itself).  The Concurrency in Swing tutorial from Sun is well worth a read. Excellent explanation and background reading including the event dispatching thread using worker threads etc  When you do things in a button callback you are essentially stalling the gui painting thread - not just for the button but for ANY gui painting. (Try covering the interface with another window and then exposing it again - it won't repaint until the task is finished!) What you need to do is spawn a thread to do the long running task and then have that thread use SwingUtilities.invokeLater() to do the enabling of the button. invokeLater forces the button enable to happen in the gui painting thread. You may want to set a busy cursor or otherwise lock the interface while the long-running thread is operating. Too bad we can't merge answers. @Allain the important thing is making sure the accepted answer is as good as we can make it.",java swing481379,A,Java: Handle logoff or shutdown on Windows and Linux Is there a way for a Java GUI application to respond to system shutdown or logoff events other than to use JNI? (On Windows the JNI would use WM_QUERYENDSESSION on Linux?) The method should allow the program to prompt users to save etc. and then continue the logoff process. You can schedule a Thread to be run on JVM shutdown - see http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)  This doesn't answer the question but addresses part of it. In a Unix GUI session I consider the right way to handle the logoff event is to save the document to a temporary file and save the information in the session state. During the session recovery the program can reload the temporary file and take up where it left off. No need to ask the user about saving or not. I just wish more software did transparent session save and recovery. Too many programs reopen with empty document windows because the GUI framework used does that much but none of the rest of the work has been done to actually handle any meaningful program state.  I think that Runtime.getRuntime().addShutdownHook should provide the functionality you need.  As far as I know there's no way in Java to catch the system shutdown or logoff events. You can however catch when the JVM is terminating by adding a shutdown hook. AWT's WindowAdapter also has a windowClosing event that you can override and hook to a window that you want to monitor. Swing inherits this; I believe SWT does as well. Be aware that you MUST manually dispose of the window if you override this event! I believe that MS Windows will fire these events as it is closing. I believe a SIGTERM on Linux/UNIX does the same although Linux will SIGKILL an app shortly afterwords if this is during shutdown. Beware AWT's WindowAdapter will only hook to events on the window. If the environment is terminated using shutdown the windowClosing or windowClosed events will not fire!,java windows linux swing95767,A,"How can I catch AWT thread exceptions in Java? We'd like a trace in our application logs of these exceptions - by default Java just outputs them to the console. There is a distinction between uncaught exceptions in the EDT and outside the EDT. Another question has a solution for both but if you want just the EDT portion chewed up... class AWTExceptionHandler { public void handle(Throwable t) { try { // insert your exception handling code here // or do nothing to make it go away } catch (Throwable t) { // don't let the exception get thrown out will cause infinite looping! } } public static void registerExceptionHandler() { System.setProperty('sun.awt.exception.handler' AWTExceptionHandler.class.getName()) } } Three years old but still a very useful answer. Thanks! No need to catch throwable. There will be no infinite looping. java.awt.EventDispatchThread.handleException is catching any exceptions for you. There saids `classs AWTExceptionHandler`  There are two ways: /* Install a Thread.UncaughtExceptionHandler on the EDT */ Set a system property: System.setProperty(""sun.awt.exception.handler""MyExceptionHandler.class.getName()); I don't know if the latter works on non-SUN jvms. -- Indeed the first is not correct it's only a mechanism for detecting a crashed thread. Using Thread.UncaufhtExceptionHandler won't catch EDT exceptions. The EDT class catches all throwables and prints them out rather than letting them unwind the whole thread. You are also missing details about what is needed in the second option the MyExceptionHandler class must have a handle(Throwable) instance method accessable and a no-args constructor accessable.  A little addition to shemnons anwer: The first time an uncaught RuntimeException (or Error) occurs in the EDT it is looking for the property ""sun.awt.exception.handler"" and tries to load the class associated with the property. EDT needs the Handler class to have a default constructor otherwise the EDT will not use it. If you need to bring a bit more dynamics into the handling story you are forced to do this with static operations because the class is instantiated by the EDT and therefore has no chance to access other resources other than static. Here is the exception handler code from our Swing framework we are using. It was written for Java 1.4 and it worked quite fine there: public class AwtExceptionHandler { private static final Logger LOGGER = LoggerFactory.getLogger(AwtExceptionHandler.class); private static List exceptionHandlerList = new LinkedList(); /** * WARNING: Don't change the signature of this method! */ public void handle(Throwable throwable) { if (exceptionHandlerList.isEmpty()) { LOGGER.error(""Uncatched Throwable detected"" throwable); } else { delegate(new ExceptionEvent(throwable)); } } private void delegate(ExceptionEvent event) { for (Iterator handlerIterator = exceptionHandlerList.iterator(); handlerIterator.hasNext();) { IExceptionHandler handler = (IExceptionHandler) handlerIterator.next(); try { handler.handleException(event); if (event.isConsumed()) { break; } } catch (Throwable e) { LOGGER.error(""Error while running exception handler: "" + handler e); } } } public static void addErrorHandler(IExceptionHandler exceptionHandler) { exceptionHandlerList.add(exceptionHandler); } public static void removeErrorHandler(IExceptionHandler exceptionHandler) { exceptionHandlerList.remove(exceptionHandler); } } Hope it helps.",java swing exception-handling awt304663,A,"How can I validate parameters without creating a separate dialog? I'm going to make an application (in Swing) that uses a tree to visualize a data structure (JTree). A tree will be on the left side of a window. The user will be able to browse a tree. The parameters of every tree node will be displayed on the right side of the window. The example windows will be looking like this =========================== | tree panel | data panel | | | | | | | | | | --------------------------- The problem arises when a user wants to change that data. when should I validate them ? The easy approach is to open a new modal dialog (JDialog) and let the user to change this data in it. Validation of data would take place in an ""ok"" button listener method but this is a little clunky. I would like to allow the user to edit those data right in the data panel. In that case when should I validate them? Is there a pattern of such solution in Swing? Or any online tutorial how to do it? Thanks in advance. what about ""save"" button in data panel? ;) I'm not totally sure what you're after but.. You could maybe add this ""ok"" button (or ""commit changes"" or whatever) to data panel and when the button would be pressed you would validate the data and save the changes if the changes are valid? (So you'd have editable components at the data panel) Edit: if this wasn't good could you clarify me a bit: Is the data panel showing data for one item of the tree at time? What kind of data is there to change (and to validate) Anyway if you want to validate straight the changes made to an edit component (for example JTextField) you can use for example Formatted text fields see How to Use Formatted Text Fields For more general validating see InputVerifier More ideas see Validating Numerical Input in a JTextField (concentrates of numerical input but usable for other purposes also)  Dialogs are bad. Immediately discard any complete nonsense input immediately. For instance typing a letter in the numerical field (use Document filters). Don't beep. Don't require any particular commit step. You may have retain partially entered data.",java validation swing227526,A,"Bus or listeners/delegates in client-side Swing application? Building a client-side swing application what should be notified on a bus (application-wide message system similar in concept to JMS but much simpler) and what should be notified using direct listeners? When using a bus I always have an unescapable feeling of ""I have no idea who uses that and where"". Also no set order hard to veto events hard to know exactly what's going on at a set time. On the other hand using listeners means either directly referencing the source object (coupling) or passing the reference through myriad conversions (A--b_listener-->B B--c_listener-->C only because a needs to know something only C can to tell but B has no interest in). So are there any rule of the thumb regarding this? Any suggestion how to balance? In my experience trying to make Swing do something it wasn't designed for or doesn't want you to do is extremely painful. I would go with the simplest thing that would work; keep your code clean do it the ""Swing Way"" until you start seeing problems.  Well I can imagine the approach where models are updated using BUS like system and events from models are delegated using listeners. Simple scenario: I got server side which represents producer of data. Then on client side a got consumer interface which consumes all incoming messages and transform them into my internal messages/DTOs and push them into bus which distributes them into application model(s). These model process incoming messages and decide to notify interested components using listeners.  Event buses are very very useful tools for providing decoupling in certain architectures. Listeners are easy to implement but they have significant limitations when your object and dependency graph gets large. Listeners tend to run into problems with cyclic dependencies (events can 'bounce' in odd ways and you wind up having to play games to ensure that you don't get stuck. Most binding frameworks do this for you but there's something distasteful about knowing that listener events are shooting off into a million places). I make this kind of decision based on project size and scalability. If it's a big app or there are aspects of the app that can by dynamic (like plugin modules etc...) then a bus is a good way to keep the architecture clean (OSGI-like module containers are another approach but heavier weight). If you are considering a bus architecture I recommend that you take a look at the Event Bus project - it works very well with Swing and provides a robust out of the box solution for what you are asking about. Link [Event Bus](https://eventbus.dev.java.net/) is dead. Are you referring to [EventBus](http://www.eventbus.org/) or [simpleeventbus](http://code.google.com/p/simpleeventbus/) or something else? Whew - the code at EventBus looks the same as what I pointed at back in 2008 but I haven't followed the project that closely...  The convention in Java Swing is to use listeners heavily. Sticking with the convention improves maintainability but stifles innovation. I've not encountered the bus approach in Swing but I find it interesting.",java swing events architecture320682,A,Do I need to free Swing components before letting them get garbage collected? Wnen I use external resources such as files or DB connection I need to close them before I let them go. Do I need to do the same thing with Swing components ? If yes then how ? Objects are automatically garbage collected if there are no references to them. You do not have to treat Swing components the same way that you do external resources. However if you have a component that you are not going to need later you can set any references to that component to null. JPanel p = new JPanel(); p = null; Setting p to null does not delete the object but it removes any references to the object so the next time the garbage collector passes it gets picked up. You will have to be careful though that other reference to the component do not exist. p = null is rarely needed. See http://stackoverflow.com/questions/271530/cross-references-and-garbage-collection But swing components use external resources (eg window handles I gues) what about them ?  Normally you don't need to dispose of objects when you are done with them (although setting the references to them to null may allow them to be GCed sooner). However AWT and Swing objects allocate some amount of native resources that need to be freed. Furthermore the AWT thread treats the windows as top-level objects preventing them from being garbage collected and the JVM from terminating. Thus when you are done with your window you need to dispose of it which frees the native resources that it has allocated. One way to do this is to call Window.dispose() on it. However a better option would be to call JFrame.setDefaultCloseOperation() when you initialize each of your root windows. If you pass it DISPOSE_ON_CLOSE it will take care of disposing itself when the user closes the window. When the last such window closes the AWT thread will stop blocking and allow the JVM to close (assuming you don't have any other aberrant threads running). Alternatively you can pass it EXIT_ON_CLOSE which will cause your window to call System.exit() which tells the JVM that your application is done and to gracefully terminate. An what if I only get rid of a JPanel lith some controls in order to put there someting else ? Withount closing the entire window. What then ?  Windows (including dialogs and frames) should be disposed. If you create (AWT) Graphics objects then they should be disposed of too (but usually locally within say a paintComponent method). If you have a listener to update a short lived target from a long lived source then you should remove it before discarding the target. There's a neat hack where the listener uses a WeakReference to the target so that it can deregister when the reference goes away (and an event is fired).  At one point it was taught that you had to disconnect all the listeners because otherwise they'd act as references to the Swing component. But I'm told that this is no longer a problem.,java swing97586,A,Has anyone got an example of aerith style swing mixed with GUI maintainability of SWT editing? My boss loves VB (we work in a Java shop) because he thinks it's easy to learn and maintain. We want to replace some of the VB with java equivalents using the Eclipse SWT editor because we think it is almost as easy to maintain. To sell this we'd like to use an aerith style L&F. Can anyone provide an example of an SWT application still being able to edit the GUI in eclipse but having the Aerith L&F? SWT doesn't support look & feels. You can get different L&F's by altering your OS native L&F. The only exception is to using the eclipse forms toolkit. It still has the OS native feel but strives for a web-browser-like look. It does this mostly by setting everything to SWT.FLAT and using white backgrounds on everything. Occassionally they have to manually draw outlines around controls that don't natively support it. If you're looking for custom L&F's that will appear across platforms you really want Swing.  Like Heath Borders said SWT doesn't support L&Fs so you have to use Swing for that. Aerith however does not base on a look and feel but on custom painting on the components with a lot of gradients. If you are looking for a Swing GUI Editor that is (nearly) as easy to use as VB try the Matisse GUI Builder in NetBeans. There is also a version for Eclipse but it is shipped with the commercial MyEclipse. If you want to learn more about writing apps with cool a cool GUI have a look at the Filthy Rich Clients book by Chet Haase and Romain Guy. If this does not convince your boss try to resize the VB GUI and then resize the Swing GUI. ;-) And I would say a VB is really not very good to maintain in the long run...,java eclipse swing swt lf32529,A,"How do I restrict JFileChooser to a directory? I want to limit my users to a directory and its sub directories but the ""Parent Directory"" button allows them to browse to an arbitraty directory. How should I go about doing that? The solution of Allain is almost complete. Three problems are open to solve: Clicking the ""Home""-Button kicks the user out of restrictions DirectoryRestrictedFileSystemView is not accessible outside the package Starting point is not Root Append @Override to DirectoryRestrictedFileSystemView public TFile getHomeDirectory() { return rootDirectories[0]; } set class and constructor public Change JFileChooser fileChooser = new JFileChooser(fsv); into JFileChooser fileChooser = new JFileChooser(fsv.getHomeDirectory()fsv); I use it for restricting users to stay in a zip-file via TrueZips TFileChooser and with slight modifications to the above code this works perfectly. Thanks a lot.  No need to be that complicated. You can easily set selection mode of a JFileChooser like this JFileChooser fc = new JFileChooser(); fc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY); fc.setMultiSelectionEnabled(false); You can read more reference here How to Use File Choosers This limits them to directories in general but not to a specific directory which is the OP's question.  You can probably do this by setting your own FileSystemView. how do you get the default filesystemview (e.g. to delegate to it)? @Jason S - probably via static method `getFileSystemView()` Just if someone could need it here is an exact example of what OP wanted: http://tips4java.wordpress.com/2009/01/28/single-root-file-chooser/  Incase anyone else needs this in the future: class DirectoryRestrictedFileSystemView extends FileSystemView { private final File[] rootDirectories; DirectoryRestrictedFileSystemView(File rootDirectory) { this.rootDirectories = new File[] {rootDirectory}; } DirectoryRestrictedFileSystemView(File[] rootDirectories) { this.rootDirectories = rootDirectories; } @Override public File createNewFolder(File containingDir) throws IOException { throw new UnsupportedOperationException(""Unable to create directory""); } @Override public File[] getRoots() { return rootDirectories; } @Override public boolean isRoot(File file) { for (File root : rootDirectories) { if (root.equals(file)) { return true; } } return false; } } You'll obviously need to make a better ""createNewFolder"" method but this does restrict the user to one of more directories. And use it like this: FileSystemView fsv = new DirectoryRestrictedFileSystemView(new File(""X:\\"")); JFileChooser fileChooser = new JFileChooser(fsv); or like this: FileSystemView fsv = new DirectoryRestrictedFileSystemView( new File[] { new File(""X:\\"") new File(""Y:\\"") }); JFileChooser fileChooser = new JFileChooser(fsv); Doesn't work @Allain",java swing jfilechooser292279,A,"Populate JTable from a Hashtable in Java I have a function which gets a key from the user and generates a Hashtable (on a pattern specified by the key). After creating a Hashtable I would like to populate a JTable so that each each column represents a key and every rows represents the values associated with the key. I tried everything but couldn't get this work. I'm not creating the table from within the constructor as I need to get input from the user. See How to Use Tables: Creating a Table Model. The JTable constructor used by SimpleTableDemo creates its table model with code like this: new AbstractTableModel() { public String getColumnName(int col) { return columnNames[col].toString(); } public int getRowCount() { return rowData.length; } public int getColumnCount() { return columnNames.length; } public Object getValueAt(int row int col) { return rowData[row][col]; } public boolean isCellEditable(int row int col) { return true; } public void setValueAt(Object value int row int col) { rowData[row][col] = value; fireTableCellUpdated(row col); } } You basically have to wrap your hashtable in the above manner. Here's an example. package eed3si9n.hashtabletable; import java.awt.BorderLayout; import java.util.Enumeration; import java.util.Hashtable; import javax.swing.JFrame; import javax.swing.JPanel; import javax.swing.JScrollPane; import javax.swing.JTable; import javax.swing.table.AbstractTableModel; import javax.swing.JButton; import java.awt.Dimension; public class MainForm extends JFrame { private static final long serialVersionUID = 1L; private JPanel jContentPane = null; // @jve:decl-index=0:visual-constraint=""2338"" private JScrollPane m_scrollPane = null; private JTable m_table = null; private Hashtable<String String> m_hash = null; private JButton m_btnAdd = null; /** * This is the default constructor */ public MainForm() { super(); initialize(); m_hash = new Hashtable<String String>(); m_hash.put(""Dog"" ""Bow""); } private void onButtonPressed() { m_hash.put(""Cow"" ""Moo""); m_table.revalidate(); } /** * This method initializes this * * @return void */ private void initialize() { this.setSize(409 290); this.setTitle(""JFrame""); this.setContentPane(getJContentPane()); } /** * This method initializes jContentPane * * @return javax.swing.JPanel */ private JPanel getJContentPane() { if (jContentPane == null) { jContentPane = new JPanel(); jContentPane.setLayout(new BorderLayout()); jContentPane.setSize(new Dimension(500 500)); jContentPane.setPreferredSize(new Dimension(500 500)); jContentPane.add(getM_scrollPane() BorderLayout.NORTH); jContentPane.add(getM_btnAdd() BorderLayout.SOUTH); } return jContentPane; } /** * This method initializes m_scrollPane * * @return javax.swing.JScrollPane */ private JScrollPane getM_scrollPane() { if (m_scrollPane == null) { m_scrollPane = new JScrollPane(); m_scrollPane.setViewportView(getM_table()); } return m_scrollPane; } /** * This method initializes m_table * * @return javax.swing.JTable */ private JTable getM_table() { if (m_table == null) { m_table = new JTable(); m_table.setModel(new AbstractTableModel(){ private static final long serialVersionUID = 1L; public int getColumnCount() { return 2; } public int getRowCount() { return m_hash.size(); } public String getColumnName(int column) { if (column == 0) { return ""Animal""; } else { return ""Sound""; } } public Object getValueAt(int rowIndex int columnIndex) { if (columnIndex == 0) { return getKey(rowIndex); } else { return m_hash.get(getKey(rowIndex)); } // if-else } private String getKey(int a_index) { String retval = """"; Enumeration<String> e = m_hash.keys(); for (int i = 0; i < a_index + 1; i++) { retval = e.nextElement(); } // for return retval; } }); } return m_table; } /** * This method initializes m_btnAdd * * @return javax.swing.JButton */ private JButton getM_btnAdd() { if (m_btnAdd == null) { m_btnAdd = new JButton(); m_btnAdd.setPreferredSize(new Dimension(34 30)); m_btnAdd.addActionListener(new java.awt.event.ActionListener() { public void actionPerformed(java.awt.event.ActionEvent e) { onButtonPressed(); } }); } return m_btnAdd; } public static void main(String[] args) { //Schedule a job for the event-dispatching thread: //creating and showing this application's GUI. javax.swing.SwingUtilities.invokeLater(new Runnable() { public void run() { MainForm frame = new MainForm(); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setSize(500 500); frame.setVisible(true); } }); } } // @jve:decl-index=0:visual-constraint=""1010""  Firstly avoid Hashtable go straight for Map. In this case there two potential standard implementations you mights want: LinkedHashMap can retain the order that the entries were added; TreeMap a SortedMap/NavigableMap will sort the results (order of which can be determined by a Comparator. Alternatively you might want a form of Map that fire events or also provides a TableModel. If you want a one time conversion from the Map to table then it's pretty straightforward. public static TableModel toTableModel(Map<??> map) { DefaultTableModel model = new DefaultTableModel( new Object[] { ""Key"" ""Value"" } 0 ); for (Map.Entry<??> entry : map) { model.addRow(new Object[] { entry.getKey() entry.getValue() }); } return model; } Then just create the JTable with this pre-populated model. (Disclaimer: I've not tested or so much as compiled this code.) To keep the Map and TableModel synchronized is more code. Generally it's best to avoid duplicating state whereever possible. Write a class that exposes itself as both a Map and a TableModel. You could go more disjoint by having a Map that fires events and a TableModel that adapts the Map (although note that Map does not have random access based on index so you'll need to be iether clever or slow for large maps). Going the other way a simpler approach would be to add the data straight to a DefaultTableModel and not using a Map at all.",java swing hashtable jtable329506,A,"Is there a multiple input JOptionPane in Java? I was wondering if there is a JOptionPane where you can get multiple inputs from a user instead of just one? If not how could i accomplish this using some type of prompt. I am creating Battleship and wanted to prompt the user to specify locations to place each ship. Thanks Tomek The object that you pass in as the message to the JOptionPane can be graphical components so something like this should work: JPanel panel = new JPanel(); // Populate your panel components here. int ret = JOptionPane.showConfirmDialog(parent panel ""Title"" JOptionPane.YES_NO_OPTION); if ( ret == JOptionPane.YES_OPTION ) { // Read component values. }",java swing input jdialog joptionpane210998,A,Canvas3D not appearing in Swing window I am attempting to insert a Canvas3D object inside a Swing JPanel but the code doesn't seem to be working (i.e. nothing happens):  Canvas3D canvas = new Canvas3D(SimpleUniverse.getPreferredConfiguration()); SimpleUniverse universe = new SimpleUniverse(canvas); BranchGroup root = new BranchGroup(); root.addChild(new ColorCube()); universe.addBranchGraph(root); universe.getViewingPlatform().setNominalViewingTransform(); canvasPanel.add(canvas); What am I missing? The JPanel was created using NetBean's Visual Editor. Probably you have to set a layout manager on the panel which automatically expands the child components to the full area. A JPanel has a FlowLayout by default which does not expand the child components. You could try a BorderLayout instead by calling: canvasPanel.setLayout(new BorderLayout()); Ah that worked perfectly. Thank you!  Canvas3D needs a size passed to it; setting the preferred configuration from SimpleUniverse is not enough. In my case that meant this code:  // 3D canvas initialization Canvas3D canvas = new Canvas3D(SimpleUniverse.getPreferredConfiguration()); SimpleUniverse universe = new SimpleUniverse(canvas); BranchGroup root = new BranchGroup(); root.addChild(new ColorCube()); universe.addBranchGraph(root); universe.getViewingPlatform().setNominalViewingTransform(); canvas.setSize(100 100); canvasPanel.add(canvas);,java swing java-3d241342,A,Is it possible to display Swing components in a JSP? I was wondering if I could pop up JOptionPanes or other Swing components from within a browser using JSP. You may also want to consider GWT which enables you to develop a web interface in Java code (the Java code is converted to HTML & JavaScript by the GWT compiler). Although you don't program to the Swing API directly when writing GWT applications the GWT API is very similar in style to Swing programming.  If you embed an applet. But I don't think that's what you want. Swing is for desktop apps. JSP web pages. If you want components try looking into JSF or some of the many AJAX Javascript frameworks like prototype.  Assuming you're familiar with Swing you may want to introduce yourself to Apache Wicket which is very similar to the way you build web pages as Swing is to building GUI:s. That is in Wicket you add new instancef of Label Button DataTable etc. etc. to page and link those to bean property data which is then ultimately transformed to fully functioning web page. As for the actual question you really can't do it as-is. If choosing a new/different/another web framework to help you isn't possible the only proper way I can think of is doing what sblundy suggested.,java swing jsp143341,A,Are there any frameworks for handling database requests in swing applications? I believe any programmer who has been dealing with database requests in a gui application has run into some or all of the following problems: Your GUI freezes because you call database layer from within the event dispatch thread When you have multiple windows/panels/jframes where user can start a db request your performance degrades because you don't have any control about the threads your user creates User may be able to lock down the application and even the database because he calls any action many times before the first action has been finished What I'd like to know about: are there any frameworks that handle the requirements of handling an ordered set of long running actions (including but not limited to database calls i.e. calculations) outside the event dispatch thread? Note: I know of SwingWorker ;-) Such a thing should be found in Netbeans for example. See RequestProcessor. But in simpler cases this is not required. Last time I need something like thread scheduling and control I simply used new concurrency packages included in J5 (I used J6). With its ExecutorFactory-ies you can simply achieve basic control over tasks. You can also use some queues. This PDF can help. The PDF is written in Slovak language but the Single/Multiple task workers are there written in Java ;)  Naked Objects facilitate a clean domain model and they also have a GUI 2 DB mapping layer -- http://www.nakedobjects.org/home/index.shtml  I doubt you will find something specific for database requests. You can try to reuse existing generic task scheduling libraries. An example is the Eclipse jobs API. This does not depend on the IDE. See http://www.eclipse.org/articles/Article-Concurrency/jobs-api.html That has been my impression at the time too. We've developed a kind of queue where you could add SwingWorker instances that would execute in scheduled order.,java database multithreading swing248353,A,"Java GUI LayoutManagers I'm busy with an asignment where i have to make a graphical interface for a simple program. But i'm strugling with the layout. This is the idea: What is the easiest way to accomplish such a layout? And what method do you use to make layouts in java. Just code it or use an IDE like netbeans? I build everything by hand. Like Christian I've had bad experiences with GUI builders; they always either refused to configure a couple of components quite right or they generated huge amounts of unnecessary code which made later maintenance impractical or both. I used to do build a lot of UIs using GridBagLayout but for years I've never seen an office-environment UI that couldn't be built with nested BorderLayouts GridLayouts and the occasional BoxLayout or FlowLayout. About 98% of the stuff I've seen is doable with nested BorderLayouts. In your case the layout organization will be as bmeck says. Speaking from memory using CENTER for the JTable (remember to put it in a JScrollPane!) and NORTH for everything else ensures that if you resize your JFrame the JTable will get all of the extra space and that should be exactly what you want. For the top labels and fields the nested GridLayouts should ensure that each ""column"" of labels and fields will take up equal horizontal space. (They'll get only enough vertical space to be completely visible and no more since the JTable is taking up everything else.) Everything else is just a matter of adding borders and setting the GridLayout padding reasonably.  I've used GUI layout generating tools for super rapid development (maybe get the first 2 or 3 iterations of an interface out of the way). I've ultimately found that using a simple fixed layout (no layout manager) with these tools is the best approach. Once we are starting to hone in on a design we switch to manual layout. Whenever I've tried to use GUI generators to create code for layout managers I've almost always been bitten eventually where the layout would just stop working and I spent more time debugging the impossible to read auto-generated code than if I'd done the layout by hand anyway. For what it's worth when we are doing the early phase of layouts we use the Jigloo plugin for Eclipse. It's very inexpensive and does a good job. I'm a big fan of MiGLayout. I've found that it is incredibly easy to use for simple layouts and is capable of doing extremely complicated layouts. All without the need to resort to nested panels etc... JGoodies Forms is also good but harder to use.  And what method do you use to make layouts in java. Just code it or use an IDE like netbeans? NetBeans for GUI developers is like a calculator for grade schoolers: you really shouldn't use it until you know how to do things without it but then it will save you a lot of time. (I'd love to answer your primary question but the firewall I'm behind is blocking the picture.)  Well considering how simple the layout is I would suggest you use a BorderLayout with NORTH set to the top section in a container and the JTable in the CENTER of the BorderLayout. For the Top it appears to be a simple BorderLayout again with NORTH as the Instruction: south as the black box (possibly in a container with a FlowLayout). The center of the top pane appears to be 2 Containers of GridLayouts with 2 rows and 2 columns so put thos in another container with a GirdLayout. So in pseudo: Container(BorderLayout) { @NORTH Container(BorderLayout) { @NORTH Label(Instruction); @CENTER Container(GridLayout(21)) { Container(GirdLayout(22)) { Label() TextField() Label() TextField() } Container(GirdLayout(22)) { Label() TextField() Label() TextField() } } @SOUTH Container(FlowLayout()) { JButton() //shaded thing? } } @CENTER { JTable } }  Use GroupLayout :) All the alignments are pretty easy to do  For myself gui-builders for swing or swt never worked that well that's why i code layouts myself using layout managers. Your question doesn't mention which gui-system you are using but i assume you want to use swing. If that's the case I would recommend to use GridBagLayout for your layout. It is not that easy to use in the beginning but as soon as you know how it works you can do most layouts in the way you want it to be and i think it is also the layoutmanager of choice for the layout you want to do.  I used to love Motif's XmForm for this sort of thing. In Java I usually put Boxes inside of boxes. So I have a vertical box. First row of the box contains a JLabel for the Instruction. Second row contains something for the label/result stuff possibly some sort of grid. Third row contains whatever that blacked out thing Fourth row contains the JTable. Then I'd spend some time to try to figure out how to do the lable/result stuff. Then I'd probably end up saying ""dammit"" and doing it as a GridBagLayout.  I wrote an article a while back on layout managers: http://developer.java.sun.com/developer/onlineTraining/GUI/AWTLayoutMgr It describes how nesting (as bmeck above demonstrates) can be used very effectively for many UI designs.  Try table layout. Works great. https://tablelayout.dev.java.net/",java swing gui370259,A,"Java GUI Swing Model Explanation I've been working with Java GUI for a while now but the whole model/structure of JFrames paint() super etc is all murky in my mind. I need a clear explanation or link that will explain how the whole GUI system is organized. Thanks everyone some more answers would be better but this is great! I've found that simply browsing around in the source code (ctrl-click on a name if you're using NetBeans) has been really helpful. If I see a method appear in the completion dialog that I'm not familiar with I'll just click ""Go to source"" and look around until I'm comfortable with it.  If after reading the Swing tutorial you find your interest lies in more advanced topics you may also wish to look at Swing Second Edition by Robinson and Vorobiev.  The same happened to me. Actually to this day I don't quite get 100% how all it works. Swing is a very flexible framework--perhaps too flexible. With flexibility comes a lot of abstraction and with abstraction comes confusion. :) I've found the following articles worth reading. They helped me to better understand the big picture of Swing. http://web.archive.org/web/20110413222135/http://java.sun.com/products/jfc/tsc/articles/architecture/ http://www.oracle.com/technetwork/java/architecture-142923.html (original links now broken) http://java.sun.com/products/jfc/tsc/articles/architecture/ http://java.sun.com/products/jfc/tsc/articles/architecture/ui_install/index.html They explain quite well how the model and the delegate work. It always drives me mad when I see those JLabel LabelUI ui.update etc. I hope this helps. Very useful link - had not seen that before; bookmarked for a closer look later. Yeahh ... I don't remember how I came to that link. I didn't found it until after several years. I don't know the ""google search"" to produce it either so I have it in my bookmarks too. @OscarRyz links are dead. do you have the copy? i need those for my students. thanks. @OscarRyz Cool thanks! @ihsan Unfortunately the site in Oracle has broken images:http://www.oracle.com/technetwork/java/architecture-142923.html Fortunately we have the wayback machine: http://web.archive.org/web/20110413222135/http://java.sun.com/products/jfc/tsc/articles/architecture/  Since this question is tagged with JFrame I'll suggest a few links for understanding how JFrames and other top-level Swing containers work. I also found that Swing was (and still is) quite involved and taking a look at the documentation provided by Sun is required every once in a while -- Every time I check I seem to learn something new. First the basics: JFrame class from the Java API Specifications. The Java API Specifications often provide good detailed information about the classes. In this instance you'll notice that there are several links such as How to Make Frames section from The Java Tutorials. Aside from that I'll also recommend looking at the Lesson: Using Swing Components from The Java Tutorials. The lesson provides instructions on how to use the components provided in Swing along with some useful examples. For more specifics parts that I've found confusing when I started with Swing was all the different types of panes such as the ContentPane RootPane GlassPane. The Using Top-Level Containers section provides information and helpful diagrams on the container hierarchy of the top-level containers. The How to Use Root Panes section gets into the details about the Glass Layered and Content Panes with plenty of examples.  Filthy Rich Clients by Chet Haase and Romain Guy is a great book about Java UI. It covers some more advanced stuff too but introduction and few first chapters explain fundamental things well.  I found Swing Explorer to be a precious tool to understand the hierarchy of components (particularly in complex GUIs) and look at properties (alas read-only: we get used to Firebug convenience!). It has an Eclipse plugin.  Have you looked at the Java Swing Tutorial (click here)? It does a pretty good job of covering the basics of developing Swing applications.",java swing gui jframe258099,A,"How to close a Java Swing application from the code What is the proper way to terminate a Swing application from the code and what are the pitfalls? I'd tried to close my application automatically after a timer fires. But just calling dispose() on the JFrame didn't do the trick - the window vanished but the application did not terminate. However when closing the window with the close button the application does terminate. What should I do? Please post up a code snippet of your timer. May be the safe way is something like:  private JButton btnExit; ... btnExit = new JButton(""Quit""); btnExit.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent e){ Container frame = btnExit.getParent(); do frame = frame.getParent(); while (!(frame instanceof JFrame)); ((JFrame) frame).dispose(); } }); Pretty bad style to name a variable `Frame` with a capital letter exactly like the name of a class‰Û_  Try: System.exit(0); Crude but effective. System.exit(0) isn't just crude it's evil. Check all frames call dispose. If that fails run a debugger and see what non-daemon threads are still alive. Unfortunately this is too crude for me. I want the window closing events to be processed for some cleanup actions. OK I could do a System.exit with a SwingUtils.invokeLater but I'd rather do the proper thing. There's been plenty of bugs even within the JDK that leave the process about. So +1 to exit() but you might want to disable it in debug builds.  In response to other comments DISPOSE_ON_CLOSE does not seem to properly exit the application - it only destroys the window but the application will continue running. If you want to terminate the application use EXIT_ON_CLOSE. Can't remember how I tested this now. This response suggests the exact opposite of James Schek's answer. Which one is correct? (when I test with a simple application both seem to work ...)  I guess a EXIT_ON_CLOSE frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); before System.exit(0) is better since you can write a Window Listener to make some cleaning operations before actually leaving the app. That window listener allows you to defined: public void windowClosing(WindowEvent e) { displayMessage(""WindowListener method called: windowClosing.""); //A pause so user can see the message before //the window actually closes. ActionListener task = new ActionListener() { boolean alreadyDisposed = false; public void actionPerformed(ActionEvent e) { if (frame.isDisplayable()) { alreadyDisposed = true; frame.dispose(); } } }; Timer timer = new Timer(500 task); //fire every half second timer.setInitialDelay(2000); //first delay 2 seconds timer.setRepeats(false); timer.start(); } public void windowClosed(WindowEvent e) { //This will only be seen on standard output. displayMessage(""WindowListener method called: windowClosed.""); }  Take a look at the Oracle Documentation. Starting from JDK 1.4 an Application terminates if: There are no displayable AWT or Swing components. There are no native events in the native event queue. There are no AWT events in java EventQueues. Cornercases: The document states that some packages create displayable components without releasing them.A program which calls Toolkit.getDefaultToolkit() won't terminate. is among others given as an example. Also other Processes can keep AWT alive when they for what ever reason are sending events into the native event queue. Also I noticed that on some Systems it takes a coupple of seconds before the Application actually terminates.  Your JFrame default close action can be set to ""DISPOSE_ON_CLOSE"" instead of EXIT_ON_CLOSE (why people keep using EXIT_ON_CLOSE is beyond me). If you have any undisposed windows or non-daemon threads your application will not terminate. This should be considered a error (and solving it with System.exit is a very bad idea). The most common culprits are java.util.Timer and a custom Thread you've created. Both should be set to daemon or must be explicitly killed. If you want to check for all active frames you can use Frame.getFrames(). If all Windows/Frames are disposed of then use a debugger to check for any non-daemon threads that are still running. In my case I discovered with the debugger that I had a Swingworker still active. I called its cancel(true) method in the WindowClose Eventlistener and the program terminates now. Thanks! Note that you may have to call dispose on each frame and typically that is ""enough"" (though setting the default close action to EXIT_ON_CLOSE is probably not a bad idea either). First window should add itself to as a listener to the second window and take appropriate action. What if you have one window opening another but not disposing itself so that you can use it for a `back` window? If the second window is then closed and you use `DISPOSE_ON_CLOSE` the programme doesn't terminate because the first window is still ""undisposed""... is there a way to solve that _without_ using `DISPOSE_ON_CLOSE`? This response suggests the exact opposite of Bizorke's answer. Which one is correct? (when I test with a simple application both seem to work ...) Using EXIT_ON_CLOSE will forcibly terminate the application. If you need to take action before the program exits (such as saving working data) then you have to tap into the JVM event handlers instead of just using the normal swing event handlers. Both will ""work"" but the EXIT_ON_CLOSE will cause problems for more complex apps. An example in support of graceful shutdown: I needed to ensure my finally block was executed so network connections were closed gracefully. This would not happen with a System.exit call (EXIT_ON_CLOSE).  I think the idea is here the WindowListener - you can add any code there that you'd like to run before the thing shuts down  If I understand you correctly you want to close the application even if the user did not click on the close button. You will need to register WindowEvents maybe with addWindowListener() or enableEvents() whichever suits your needs better. You can then invoke the event with a call to processWindowEvent(). Here is a sample code that will create a JFrame wait 5 seconds and close the JFrame without user interaction. import javax.swing.*; import java.awt.*; import java.awt.event.*; public class ClosingFrame extends JFrame implements WindowListener{ public ClosingFrame(){ super(""A Frame""); setSize(400 400); //in case the user closes the window setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); setVisible(true); //enables Window Events on this Component this.addWindowListener(this); //start a timer Thread t = new Timer(); t.start(); } public void windowOpened(WindowEvent e){} public void windowClosing(WindowEvent e){} //the event that we are interested in public void windowClosed(WindowEvent e){ System.exit(0); } public void windowIconified(WindowEvent e){} public void windowDeiconified(WindowEvent e){} public void windowActivated(WindowEvent e){} public void windowDeactivated(WindowEvent e){} //a simple timer class Timer extends Thread{ int time = 10; public void run(){ while(time-- > 0){ System.out.println(""Still Waiting:"" + time); try{ sleep(500); }catch(InterruptedException e){} } System.out.println(""About to close""); //close the frame ClosingFrame.this.processWindowEvent( new WindowEvent( ClosingFrame.this WindowEvent.WINDOW_CLOSED)); } } //instantiate the Frame public static void main(String args[]){ new ClosingFrame(); } } As you can see the processWindowEvent() method causes the WindowClosed event to be fired where you have an oportunity to do some clean up code if you require before closing the application. windowClosed should call dispose() not System.exit(0).  The following program includes code that will terminate a program lacking extraneous threads without explicitly calling System.exit(). In order to apply this example to applications using threads/listeners/timers/etc one need only insert cleanup code requesting (and if applicable awaiting) their termination before the WindowEvent is manually initiated within actionPerformed(). For those who wish to copy/paste code capable of running exactly as shown a slightly-ugly but otherwise irrelevant main method is included at the end. public class CloseExample extends JFrame implements ActionListener { private JButton turnOffButton; private void addStuff() { setDefaultCloseOperation(DISPOSE_ON_CLOSE); turnOffButton = new JButton(""Exit""); turnOffButton.addActionListener(this); this.add(turnOffButton); } public void actionPerformed(ActionEvent quitEvent) { /* Iterate through and close all timers threads etc here */ this.processWindowEvent( new WindowEvent( this WindowEvent.WINDOW_CLOSING)); } public CloseExample() { super(""Close Me!""); addStuff(); } public static void main(String[] args) { java.awt.EventQueue.invokeLater(new Runnable() { public void run() { CloseExample cTW = new CloseExample(); cTW.setSize(200 100); cTW.setLocation(300300); cTW.setVisible(true); } }); } }",java swing476678,A,"Tabs with equal (constant) width in JTabbedPane I'm trying to get a JTabbedPane where all tabs (the actual tabs not the components) have the same width (either the minimum width needed for the widest label or a constant width). I've tried to override BasicTabbedPaneUI.getTabBounds(int tabIndex Rectangle dest) but apparently this method isn't used by the painting methods of BasicTabbedPaneUI instead it uses a rects array to determine the tabs size. My next approach would be to override JTabbedPane.insertTab(String title Icon icon Component component String tip int index) and setting the preferred size of the label component but this doesn't seem very elegant and I'm not even sure it would work at all. Is there a way to achieve this? The answer is simple. When we put the name for the tab just format the name using html. say tp - JTabbedPane object tp.addTab(""<html><body><table width='150'>Name</table></body></html>""Componentobject) This sounds very good. I've seen other situations where html was the only way to achieve something in swing (e.g. line wrap on tooltips). I'll definitely give it a try.  I think it's not as complicated as you've done. Just use setTabComponentAt() with a JLabel on which you've set preferred size. That works thanks. Unfortunately I have to set all other parameters of the label component (color font size etc.) myself. I thought of retrieving the label via getTabComponentAt() but it returns null all the time. Yep that's because the getter only gets a label that was previously set (I think the doco specifically mentions that).  I've tried the following: tabPane.setUI(new javax.swing.plaf.metal.MetalTabbedPaneUI() { @Override protected int calculateTabHeight(int tabPlacement int tabIndex int fontHeight) { return super.calculateTabHeight(tabPlacement tabIndex fontHeight) + 12; } }); This seems to work fine for me. But if your using a different L&F you'll end up rendering it with the 'metal' regardless. I guess you could get the default UI and do an 'instanceof' on it to determine which is being used and instantiate it accordingly. For example: TabbedPaneUI ui = tabPane.getUI(); if (ui instanceof WindowsTabbedPaneUI) { // Create the windows rendition } else if (ui instanceof MetalTabbedPaneUI) { // Create the metal rendition } else if (ui instanceof MotifTabbedPaneUI) { // Create the motif rendition } else if (ui instanceof SynthTabbedPaneUI) { // Etc... } Thanks but this is only affecting the tab height not the width right? @Ole: That's right I don't know how I came to read width and end up giving a height example. Ah well now there for others who may need it I guess.  this is worked for me.  JLabel lab = new JLabel(); lab.setPreferredSize(new Dimension(200 30)); jTabbedPane1.setTabComponentAt(0 lab); // tab index jLabel or try this change to all tab component in same sizes (called in main method) UIManager.getLookAndFeelDefaults().put(""TabbedPane:TabbedPaneTab.contentMargins"" new Insets(10 100 0 0));",java swing jtabbedpane457463,A,"Putting JComboBox into JTable I want to put individual JComboBoxes into each cells of a JTable. ie. The JComboBox content is not identical for each cell. I basically would like to be able to just call the following code to add a row of JComboBox into the JTable. Anyone has any idea? Thanks JComboBox cb1 = new JComboBox(...); JComboBox cb2 = new JComboBox(...); model.addRow(new Object[] {""Row name"" cb1 cb2} ); JComboBox cb3 = new JComboBox(...); JComboBox cb4 = new JComboBox(...); model.addRow(new Object[] {""Row name 2"" cb3 cb4} ); This is the resultant view if I do the above. http://www.freeimagehosting.net/uploads/a6292e08ee.png The closest example code I can find is as follows. But it is for where JComboBox content is identical for the individual column. Not the solution I need. TableColumn col = table.getColumnModel().getColumn(vColIndex); col.setCellEditor(new MyComboBoxEditor(values)); where public class MyComboBoxEditor extends DefaultCellEditor { public MyComboBoxEditor(String[] items) { super(new JComboBox(items)); } } You need to create a subclass of JTable to override the method TableCellEditor getCellEditor(int row int column). This enables you to set arbitrary cell editors for any row and column combination. The default way is to set the cell editor for an entire column. (You can also set individual cell renderers by overriding getCellRenderer.)  I am sure this will solve your problem. Mention in which column you need to set the combo box in .getColumn(int column) private void addComboToTable(JComboBox combo) { TableColumn gradeColumn = YourTable.getColumnModel().getColumn(0); JComboBox comboBox = combo; comboBox.removeAllItems(); try { comboBox.addItem(""Item 1""); comboBox.addItem(""Item 2""); comboBox.addItem(""Item 3""); } catch (NullPointerException e) { } catch (Exception e) { e.printStackTrace(); } gradeColumn.setCellEditor(new DefaultCellEditor(comboBox)); }  There is a tutorial on a pattern of embedding components into JTables here: http://ivolo.mit.edu/post/A-Simple-Pattern-for-Embedding-Components-into-a-Swing-JTable.aspx  @Override public TableCellEditor getCellEditor(int row int column) { Object value = super.getValueAt(row column); if(value != null) { if(value instanceof JComboBox) { return new DefaultCellEditor((JComboBox)value); } return getDefaultEditor(value.getClass()); } return super.getCellEditor(row column); } And then override the toString method from JComboBox. This actually repeats [another answer](http://stackoverflow.com/a/946949/572834) yet it adds one point: use a customized `JComboBox` so that its `toString()` method returns the selected value. In this case you could use the default `TableCellRenderer` implementation.  The easiest way is to implement your own TableModel public class MyModel extends AbstractTableModel { List rows; public int getRowCount() { return rows.size(); } public int getColumnCount() { return 4; } public Object getValueAt(int row int column) { return rows.get(row).getCol(col); //assuming your row ""Object"" has a getCol() } public Class<?> getColumnClass(int col) { return Boolean.class; } public void setValueAt(Object aValue int rowIndex int columnIndex) { rows.get(rowIndex).getCol(columnIndex).setValue(aValue); } } Load this into you JTable. If you haven't replaced the default cell renderer for Boolean's all you cells will be rendered as check boxes thanks to you implementation of getColumnClass(). All user input to these check boxes is collected with our setValueAt(). Err he asked about a JComboBox not JCheckBox. How did this answer even get accepted? @SarelBotha Because OP was last seen at Jan 31 '09 and the correct answer is from Jun 3 '09. Apparently no one thinks this is a problem. See [meta](http://meta.stackexchange.com/questions/161946/rethinking-sort-order-of-answers).  The JComboBox content is render identical for each row selection because the JTable does not offer the capability to have more than one editor per column. You have to extend the JTable class to support an additional selection for rows. This article explains it very well: http://www.javaworld.com/javaworld/javatips/jw-javatip102.html  In addition to cellEditor it is necessary to do the cellRenderer to paint the combobox in the cell look at this:  public void example(){ TableColumn tmpColum =table.getColumnModel().getColumn(1); String[] DATA = { ""Data 1"" ""Data 2"" ""Data 3"" ""Data 4"" }; JComboBox comboBox = new JComboBox(DATA); DefaultCellEditor defaultCellEditor=new DefaultCellEditor(comboBox); tmpColum.setCellEditor(defaultCellEditor); tmpColum.setCellRenderer(new CheckBoxCellRenderer(comboBox)); table.repaint(); } /** Custom class for adding elements in the JComboBox. */ class CheckBoxCellRenderer implements TableCellRenderer { JComboBox combo; public CheckBoxCellRenderer(JComboBox comboBox) { this.combo = new JComboBox(); for (int i=0; i<comboBox.getItemCount(); i++){ combo.addItem(comboBox.getItemAt(i)); } } public Component getTableCellRendererComponent(JTable jtable Object value boolean isSelected boolean hasFocus int row int column) { combo.setSelectedItem(value); return combo; } }  You need to override: Component getTableCellRendererComponent(JTable table Object value boolean isSelected boolean hasFocus int row int column) ...in TableCellEditor. The value passed in to this method is what you can put in your JComboBox. That means that the 'value' for that particular cell needs to be something that can be translated into a collection. It could potentially just be a List of objects or it could be a POJO with fields that could be made into a JComboBox. So just edit MyComboBoxEditor to override that method and change your model to allow for an Object that actually represents several other objects.  This page might help you although it seems you are restricted to having the same combobox in all the cells in a column.  Extend JTable with this code: @Override public TableCellEditor getCellEditor(int row int column) { Object value = super.getValueAt(row column); if(value != null) { if(value instanceof JComboBox) { return new DefaultCellEditor((JComboBox)value); } return getDefaultEditor(value.getClass()); } return super.getCellEditor(row column); } This will create a unique JComboBox cell editor for each combo box you get the a value for. +1 -- one should also should set a custom `TableCellRenderer` on the `TableColumnModel` of the corresponding column in order to ensure that the selected value is drawn instead of a string `javax.swing.JCombobox[...]` while the cell is not being edited. This `TableCellRenderer` should implement `getTableCellRendererComponent(..)` and could return a `JLabel` with the value of `JComboBox.getSelectedItem().toString()` (after checking for null pointers).",java swing jtable jcombobox110016,A,"JTable Sort I know that Jtable can sort by a single column. But is it possible to allow for multiple column sort or do i need to write the code myself? Thanks in advance You should be able to set the TableRowSorter and the Comparator associated with it. Example: TableModel myModel = createMyTableModel(); JTable table = new JTable(myModel); TableRowSorter t = new TableRowSorter(myModel); t.setComparator(column that the comparator works against Comparator<?> comparator); table.setRowSorter(new TableRowSorter(myModel)); unrelated to multi-column sorts  You can sort by multiple columns by specifying more than one sort key when calling setSortKeys in the RowSorter you're using. a pity this isn't available in java5  ""I know that Jtable can sort by a single column. But is it possible to allow for multiple column sort or do i need to write the code myself? "" Table sorting and filtering is managed by a sorter object. The easiest way to provide a sorter object is to set autoCreateRowSorter bound property to true; JTable table = new JTable(); table.setAutoCreateRowSorter(true); This action defines a row sorter that is an instance of javax.swing.table.TableRowSorter. _no_ is wrong - a JTable definitely supports multi-column sorts (see setSortKeys as mentioned in another answer) only the visual clue is showing on the primary sort column only  ETable from the netbeans collection. It is part of org-netbeans-swing-outline.jar A google search aught to turn it up. The ETable is primarily a foundation for Outline (a TreeTable) but it has multi-column ordering built in as well as many other nice features  Look into JXTable. JXTable is an extension of JTable that supports multi-column sorting as well as other functions that JTable doesn't provide. It's freely available from JDNC / SwingLabs. Are you sure there? Actually the JXTable API states: ""Sorting support is single column only."" Ok but it works with filters. you just have to put shuttlesorters into a filterpipeline",java swing286727,A,"Java KeyListener for JFrame is being unresponsive? I'm trying to implement a KeyListener into my JFrame. On the constructor I'm using this code: System.out.println(""test""); addKeyListener(new KeyListener() { public void keyPressed(KeyEvent e) { System.out.println( ""tester""); } public void keyReleased(KeyEvent e) { System.out.println(""2test2""); } public void keyTyped(KeyEvent e) { System.out.println(""3test3""); } }); When I run it the test message comes up in my console. However when I press a key I don't get any of the other messages as if the KeyListener was not even there. I was thinking that it could be because the focus is not on the JFrame and so they KeyListener doesn't recieve any events but I'm pretty sure it is. Is there something that I am missing? I got the same problem until i read that the real problem is about FOCUS the your JFrame has already added Listeners but tour frame is never on Focus because you got a lot of components inside your JFrame that also are focusable so try: JFrame.setFocusable(true); Good Luck Great!This is the right answer! I found that this works only until I use something that is on my JFrame then the KeyListener no longer responds  You must add your keyListener to every component that you need. Only the component with the focus will send these events. For instance if you have only one TextBox in your JFrame that TextBox has the focus. So you must add a KeyListener to this component as well. The process is the same: myComponent.addKeyListener(new KeyListener ...); Note: Some components aren't focusable like JLabel. For setting them to focusable you need to: myComponent.setFocusable(true); yea you were right when the program starts you can slightly see that the focus is on the button A. adding a keylistener to each button fixed this. thats a little weird i would think that adding a keylistener to the JFrame would work but i guess not. Thanks!  This should help  yourJFrame.setFocusable(true); yourJFrame.addKeyListener(new java.awt.event.KeyAdapter() { @Override public void keyTyped(KeyEvent e) { System.out.println(""you typed a key""); } @Override public void keyPressed(KeyEvent e) { System.out.println(""you pressed a key""); } @Override public void keyReleased(KeyEvent e) { System.out.println(""you released a key""); } });  InputMaps and ActionMaps were designed to capture the key events for the component it and all of its sub-components or the entire window. This is controlled through the parameter in JComponent.getInputMap(). See How to Use Key Bindings for documentation. The beauty of this design is that one can pick and choose which key strokes are important to monitor and have different actions fired based on those key strokes. This code will call dispose() on a JFrame when the escape key is hit anywhere in the window. JFrame doesn't derive from JComponent so you have to use another component in the JFrame to create the key binding. The content pane might be such a component. InputMap inputMap; ActionMap actionMap; AbstractAction action; JComponent component; inputMap = component.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW); actionMap = component.getActionMap(); action = new AbstractAction() { @Override public void actionPerformed(ActionEvent e) { dispose(); } }; inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE 0) ""dispose""); actionMap.put(""dispose"" action);  You could have custom JComponents set their parent JFrame focusable. Just add a constructor and pass in the JFrame. Then make a call to setFocusable() in paintComponent. This way the JFrame will always receive KeyEvents regardless of whether other components are pressed. -1 definitely not - that's complete in more than one respect: a) indecent subclassing b) indecent reference passing c) inappropriate state change while painting d) ..  lol .... all you have to do is make sure that addKeyListener(this); is placed correctly in your code. You should really explain the ""correct place"" to make this a helpful answer.  If you don't want to register a listener on every component you could add your own KeyEventDispatcher to the KeyboardFocusManager: public class MyFrame extends JFrame { private class MyDispatcher implements KeyEventDispatcher { @Override public boolean dispatchKeyEvent(KeyEvent e) { if (e.getID() == KeyEvent.KEY_PRESSED) { System.out.println(""tester""); } else if (e.getID() == KeyEvent.KEY_RELEASED) { System.out.println(""2test2""); } else if (e.getID() == KeyEvent.KEY_TYPED) { System.out.println(""3test3""); } return false; } } public MyFrame() { add(new JTextField()); System.out.println(""test""); KeyboardFocusManager manager = KeyboardFocusManager.getCurrentKeyboardFocusManager(); manager.addKeyEventDispatcher(new MyDispatcher()); } public static void main(String[] args) { MyFrame f = new MyFrame(); f.pack(); f.setVisible(true); } } KeyboardFocusManager is application wide if you have multi frames you will get trouble? So this should work something like: foreach(""focusable components in the frame"" as _){ _.addkeylistener(frameKeylistener);}  in order to capture key events of ALL text fields in a JFrame one can employ a key event post processor. Here is a working example after you add the obvious includes. public class KeyListenerF1Demo extends JFrame implements KeyEventPostProcessor { public static final long serialVersionUID = 1L; public KeyListenerF1Demo() { setTitle(getClass().getName()); // Define two labels and two text fields all in a row. setLayout(new FlowLayout()); JLabel label1 = new JLabel(""Text1""); label1.setName(""Label1""); add(label1); JTextField text1 = new JTextField(10); text1.setName(""Text1""); add(text1); JLabel label2 = new JLabel(""Text2""); label2.setName(""Label2""); add(label2); JTextField text2 = new JTextField(10); text2.setName(""Text2""); add(text2); // Register a key event post processor. KeyboardFocusManager.getCurrentKeyboardFocusManager() .addKeyEventPostProcessor(this); } public static void main(String[] args) { JFrame f = new KeyListenerF1Demo(); f.setName(""MyFrame""); f.pack(); f.setVisible(true); } @Override public boolean postProcessKeyEvent(KeyEvent ke) { // Check for function key F1 pressed. if (ke.getID() == KeyEvent.KEY_PRESSED && ke.getKeyCode() == KeyEvent.VK_F1) { // Get top level ancestor of focused element. Component c = ke.getComponent(); while (null != c.getParent()) c = c.getParent(); // Output some help. System.out.println(""Help for "" + c.getName() + ""."" + ke.getComponent().getName()); // Tell keyboard focus manager that event has been fully handled. return true; } // Let keyboard focus manager handle the event further. return false; } } For a working example you might consider adding the imports. I usually add 'package imports' to keep them short. Otherwise +1. Interesting technique.  Deion (and anyone else asking a similar question) you could use Peter's code above but instead of printing to standard output you test for the key code PRESSED RELEASED or TYPED. @Override public boolean dispatchKeyEvent(KeyEvent e) { if (e.getID() == KeyEvent.KEY_PRESSED) { if (e.getKeyCode() == KeyEvent.VK_F4) { dispose(); } } else if (e.getID() == KeyEvent.KEY_RELEASED) { if (e.getKeyCode() == KeyEvent.VK_F4) { dispose(); } } else if (e.getID() == KeyEvent.KEY_TYPED) { if (e.getKeyCode() == KeyEvent.VK_F4) { dispose(); } } return false; }  Hmm.. what class is your constructor for? Probably some class extending JFrame? The window focus should be at the window of course but I don't think that's the problem. I expanded your code tried to run it and it worked - the key presses resulted as print output. (run with Ubuntu through Eclipse): public class MyFrame extends JFrame { public MyFrame() { System.out.println(""test""); addKeyListener(new KeyListener() { public void keyPressed(KeyEvent e) { System.out.println(""tester""); } public void keyReleased(KeyEvent e) { System.out.println(""2test2""); } public void keyTyped(KeyEvent e) { System.out.println(""3test3""); } }); } public static void main(String[] args) { MyFrame f = new MyFrame(); f.pack(); f.setVisible(true); } } I get all of the messages output also. Run in Windows command line. You get all the messages because in this example the JFrame has the focus. try adding a TextBox component to the JFrame and see what happens.  I have been having the same problem. I followed Bruno's advice to you and found that adding a KeyListener just to the ""first"" button in the JFrame (ie on the top left) did the trick. But I agree with you it is kind of an unsettling solution. So I fiddled around and discovered a neater way to fix it. Just add the line myChildOfJFrame.requestFocusInWindow(); to your main method after you've created your instance of your subclass of JFrame and set it visible.  KeyListener is low level and applies only to a single component. Despite attempts to make it more usable JFrame creates a number of component components the most obvious being the content pane. JComboBox UI is also often implemented in a similar manner. It's worth noting the mouse events work in a strange way slightly different to key events. For details on what you should do see my answer on Application wide keyboard shortcut - Java Swing.",java swing jframe keylistener316454,A,"Can you set a permanent size for a JPanel inside of a JFrame? My current problem is that I have a JFrame with a 2x2 GridLayout. And inside one of the squares I have a JPanel that is to display a grid. I am having a field day with the java swing library... take a look Image Java is automatically expanding each JLabel to fit the screen. I want it to just be those blue squares (water) and the black border and not that gray space. Is there a way I can just set the size of that JPanel permanently so that I don't have to go through changing the size of the JFrame a million times before I get the exact dimension so that the gray space disappears? I also would like to set the size of those buttons so they are not so huge (BorderLayout is being used for the buttons and TextField) GridBagLayout is what you really want to use. The GridLayout will force the same size for each component in the layout no matter what size constraints you put on them. GridBagLayout is a lot more powerful and a lot more complicated. Study up on the API page for it. Using GridBagLayout the components won't fill the whole grid space if you don't want them to and can even stay the size that you ask it to be. To keep a component's size from changing I would set all three available size constraints: water.setPreferredSize(new Dimension(20 20)); water.setMinimumSize(new Dimension(20 20)); water.setMaximumSize(new Dimension(20 20)); For your buttons I would definitely use an inner panel as Bryan mentions. You could use either a GridLayout like he suggests or a FlowLayout if you don't want all the buttons to be the same size. Add all your buttons to that inner panel instead of the main one.  If you can setResizeable( false ) on the top level frame you can then set your layout manager to null and hard code each location and size via setBounds. This is how I would do it (contingent on resizing of course).  I have had success solving problems like these using TableLayout which is a third party layout manager. You will need to download it and read the tutorial but the key would be to set the justification to CENTER when adding the JButtons to their positions in the layout.  If you want the two checkerboards to stay the same size then you'll need to have them each contained in their own JPanel. Set each of those parent JPanel's to have a layout type of GridBagLayout. Set the preferedSize for each checkerboard component and then add them to their respective containers. GridBagLayout should by default lay each board out in the center of the parent JPanel. So as the window is resized the JPanel parent area will get larger or smaller but the checkerboard components inside will remain the same size. Alternatively you could have your blue squares scale to the right size as the window is resized by having each checkboard square be a JPanel with a BorderLayout layout manager and adding the JLabel (with a blue background color) to its BorderLayout.CENTER location. As for your buttons try something like this: JPanel theButtonPanel = new JPanel(new BorderLayout()); JButton button1 = new JButton(""Fire""); JButton button2 = new JButton(""Pass""); JButton button3 = new JButton(""Forfiet""); JPanel innerButtonContainer = new JPanel(new Grid(1 3 8 8)); innerButtonContainer.add(button1); innerButtonContainer.add(button2); innerButtonContainer.add(button3); theButtonPanel.add(innterButtonContainer); Lastly consider using a design tool for your Swing user interface. Netbeans has an excellent UI designer built into it. Download Netbeans here.",java swing size jlabel grid-layout112603,A,"What is 'JNI Global reference' I am using jProfiler to find memory leaks in a Java swing application. I have identified instances of a JFrame which keeps growing in count. This frame is opened and then closed. Using jProfiler and viewing the Paths to GC Root there is only one reference 'JNI Global reference'. What does this mean? Why is it hanging on to each instance of the frame? A JNI global reference is a reference from ""native"" code to a Java object managed by the Java garbage collector. Its purpose is to prevent collection of an object that is still in use by native code but doesn't appear to have any live references in the Java code. A JFrame is a java.awt.Window and is associated with a ""native"" Window object. When you are completely finished with a particular JFrame instance you should invoke its dispose() method to clean up. I am not sure if any native code is creating a global reference to the JFrame but it seems likely. If it does this will prevent the JFrame from being garbage collected. If you are creating many Windows (or subclasses) and seeing that they are never collected make sure that they are disposed. If the code is only Java this is the most likely explanation. I've had problems with global pointers but I've been working with JNI.  Wikipedia has a good overview of Java Native Interface essentially it allows communication between Java and native operating system libraries writen in other languages. JNI global references are prone to memory leaks as they are not automatically garbage collected and the programmer must explicitly free them. If you are not writing any JNI code yourself it is possible that the library you are using has a memory leak. edit here is a bit more info on local vs. global references and why global references are used (and how they should be freed) Wikipedia is a secondary source. The primary source and official document is the [JNI Specification](http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/jniTOC.html).",java swing jprofiler458817,A,"Java Swing: Libraries Tools Layout Managers What libraries/tools do you have in your Java Swing Tool set? XUL Layout Managers Packagers/Installers Books etc..... Two useful Swing related libraries: The Swing Application Framework is a light framework that simplifies the creation and maintaining of small- to medium-sized Java desktop applications. The framework consists of a Java class library that supports constructs for things such as the following: Remembering state between sessions. Easier managing of actions including running as background tasks and specifying blocking behavior. Enhanced resource management including resource injection for bean properties. Here's an article about it. It's been integrated with Netbeans 6.0 and later. EventBus is a Swing-oriented publisher-subscriber framework that I've found very useful for updating GUIs.  Not really a tool but I've been working on annotating important things in the JavaDocs for Swing (and several other APIs). Too many methods contain surprises like ""don't call this if you want a refresh call X instead"". I use a tool that I built for my PhD to access that kind of info (it highlights calls in the source code to methods that have those sort of things). IMHO the JavaDocs for swing are difficult to use because they combine information that is meant for people using an object and people subclassing existing classes. Sounds interesting. Anything that you are going to make available to the rest of us? Right now it only supports Eclipse. I've still got to do some cleanups and update the annotations database before I am presenting it at Eclipsecon at the end of March but if you want to try it out visit http://emoose.cs.cmu.edu or contact me and I'll gladly help you with the install.  Here is what I use: ""Framework"": Swing Application Framework does not do much but does it quite well (if you use it you may want to take a look at one presentation I did last year) JTables: handling tables is often a pain (lots of boilerplate code...); I generally use GlazedLists which simplifies the work a lot (and brings many improvements) EventBus: this was mentioned in another answer LayoutManager: DesignGridLayout (shameless plug this is one of my open source projects) Look & Feel: Substance is very good in some situations where you don't want to use the system look and feel Docking library: if your application needs docking you will find MyDoggy useful (and it has a well-written API). One problem it has is a bad integration with some third-party look and feels (like Substance) All these libraries above are open source. In addition to that I have my own set of utility classes that among other things help integrating the GUI with a Dependency Injection library: I have a set of utilities for HiveMind container (for the few developers that know it and still use it) and another -in preparation soon open sourced- for Guice. I have read no specific book about Swing development but I have used Swing for about 10 years now (not continuously however). Hence I have no recommendation in terms of books (unfortunately because I admit that this is one weak point of Swing). ""Filthy Rich Clients"" book is useful only if: you know Swing well you want to build ""fancy"" GUIs  For books take a look at the answers to Swing Programming Books.  Netbeans with the GUI WYSIWYG editor. It makes creating Java 6 Swing forms very easy. I subclass the forms to add functionality to ensure continued tool support. I've also used SwingX for widgets like date pickers and collapsible panels. Plus there's always SwingWorker in the JRE for running background jobs that update the UI.  I pretty much only use GridBagLayout for production code unless the GUI is so simple that I can get away with a BorderLayout. I sometimes look into other LayoutManagers but never really found the need to change since GridBagLayout can do pretty much anything I need. The installer I use for my own stuff is izPack and works for me so far. It has been a long time since I really read any Swing books now. Obviously the Java Swing one from O'Reilly is the de facto bible :) When it comes to books on design I do have a lot of recommendations but that might be off topic? Totally Gridbag - http://madbean.com/anim/totallygridbag/ @Ran Biron that is the best comment I have seen on SO thus far. That is so reminiscent of my GridBagLayout experiences. At one point I even wrote a GridBagLayout wrapper for most of the stuff I do but it's hard to really grok. +1 for this answer so more people see this comment :)  Spring Rich Client and JGoodies are the base of my team's GUI applications; Spring remoting for connecting to server and Java Web Start for deployement.",java swing devtools