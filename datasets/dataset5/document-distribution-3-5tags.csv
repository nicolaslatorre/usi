,T0,T1,T2,Text
42093,Pure Python library to generate Identicons? Does anyone know of a FOSS Python lib for generating Identicons? I've looked but so far I haven't had much luck. It doesn't look that difficult to port one of the FOSS options on that page to Python. I know it's not the answer you want but I couldn't find a Python one either. I've found two implementations: http://coderepos.org/share/browser/lang/python/misc/identicon.py http://code.google.com/p/visicon/ The first link is my preferred choice I ditched the first one after it generated too many obvious swastikas. Not culturally appropriate for my use-case. The second one seems to have less of a propensity for that.,0.49729666780369247,0.17898794401417453,0.3237153881821331
34065,"How to read a value from the Windows registry Given the key for some registry value (e.g. HKEY_LOCAL_MACHINE\blah\blah\blah\foo) how can I: Safely determine that such a key exists. Programmatically (i.e. with code) get its value. I have absolutely no intention of writing anything back to the registry (for the duration of my career if I can help it). So we can skip the lecture about every molecule in my body exploding at the speed of light if I write to the registry incorrectly. Prefer answers in C++ but mostly just need to know what the special Windows API incantation to get at the value is. The pair RegOpenKey and RegQueryKeyEx will do the trick. If you use MFC CRegKey class is even more easier solution.   #include <windows.h> #include <map> #include <string> #include <stdio.h> #include <string.h> #include <tr1/stdint.h> using namespace std; void printerr(DWORD dwerror) { LPVOID lpMsgBuf; FormatMessage( FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS NULL dwerror MAKELANGID(LANG_NEUTRAL SUBLANG_DEFAULT) // Default language (LPTSTR) &lpMsgBuf 0 NULL ); // Process any inserts in lpMsgBuf. // ... // Display the string. if (isOut) { fprintf(fout ""%s\n"" lpMsgBuf); } else { printf(""%s\n"" lpMsgBuf); } // Free the buffer. LocalFree(lpMsgBuf); } bool regreadSZ(string& hkey string& subkey string& value string& returnvalue string& regValueType) { char s[128000]; map<stringHKEY> keys; keys[""HKEY_CLASSES_ROOT""]=HKEY_CLASSES_ROOT; keys[""HKEY_CURRENT_CONFIG""]=HKEY_CURRENT_CONFIG; //DID NOT SURVIVE? keys[""HKEY_CURRENT_USER""]=HKEY_CURRENT_USER; keys[""HKEY_LOCAL_MACHINE""]=HKEY_LOCAL_MACHINE; keys[""HKEY_USERS""]=HKEY_USERS; HKEY mykey; map<stringDWORD> valuetypes; valuetypes[""REG_SZ""]=REG_SZ; valuetypes[""REG_EXPAND_SZ""]=REG_EXPAND_SZ; valuetypes[""REG_MULTI_SZ""]=REG_MULTI_SZ; //probably can't use this. LONG retval=RegOpenKeyEx( keys[hkey] // handle to open key subkey.c_str() // subkey name 0 // reserved KEY_READ // security access mask &mykey // handle to open key ); if (ERROR_SUCCESS != retval) {printerr(retval); return false;} DWORD slen=128000; DWORD valuetype = valuetypes[regValueType]; retval=RegQueryValueEx( mykey // handle to key value.c_str() // value name NULL // reserved (LPDWORD) &valuetype // type buffer (LPBYTE)s // data buffer (LPDWORD) &slen // size of data buffer ); switch(retval) { case ERROR_SUCCESS: //if (isOut) { // fprintf(fout""RegQueryValueEx():ERROR_SUCCESS:succeeded.\n""); //} else { // printf(""RegQueryValueEx():ERROR_SUCCESS:succeeded.\n""); //} break; case ERROR_MORE_DATA: //what do I do now? data buffer is too small. if (isOut) { fprintf(fout""RegQueryValueEx():ERROR_MORE_DATA: need bigger buffer.\n""); } else { printf(""RegQueryValueEx():ERROR_MORE_DATA: need bigger buffer.\n""); } return false; case ERROR_FILE_NOT_FOUND: if (isOut) { fprintf(fout""RegQueryValueEx():ERROR_FILE_NOT_FOUND: registry value does not exist.\n""); } else { printf(""RegQueryValueEx():ERROR_FILE_NOT_FOUND: registry value does not exist.\n""); } return false; default: if (isOut) { fprintf(fout""RegQueryValueEx():unknown error type 0x%lx.\n"" retval); } else { printf(""RegQueryValueEx():unknown error type 0x%lx.\n"" retval); } return false; } retval=RegCloseKey(mykey); if (ERROR_SUCCESS != retval) {printerr(retval); return false;} returnvalue = s; return true; }  Here is some pseudo-code to retrieve the following: If a registry key exists What the default value is for that registry key What a string value is What a DWORD value is Example code: Include the library dependency: Advapi32.lib HKEY hKey; LONG lRes = RegOpenKeyExW(HKEY_LOCAL_MACHINE L""SOFTWARE\\Perl"" 0 KEY_READ &hKey); bool bExistsAndSuccess (lRes == ERROR_SUCCESS); bool bDoesNotExistsSpecifically (lRes == ERROR_FILE_NOT_FOUND); std::wstring strValueOfBinDir; std::wstring strKeyDefaultValue; GetStringRegKey(hKey L""BinDir"" strValueOfBinDir L""bad""); GetStringRegKey(hKey L"""" strKeyDefaultValue L""bad""); LONG GetDWORDRegKey(HKEY hKey const std::wstring &strValueName DWORD &nValue DWORD nDefaultValue) { nValue = nDefaultValue; DWORD dwBufferSize(sizeof(DWORD)); DWORD nResult(0); LONG nError = ::RegQueryValueExW(hKey strValueName.c_str() 0 NULL reinterpret_cast<LPBYTE>(&nResult) &dwBufferSize); if (ERROR_SUCCESS == nError) { nValue = nResult; } return nError; } LONG GetBoolRegKey(HKEY hKey const std::wstring &strValueName bool &bValue bool bDefaultValue) { DWORD nDefValue((bDefaultValue) ? 1 : 0); DWORD nResult(nDefValue); LONG nError = GetDWORDRegKey(hKey strValueName.c_str() nResult nDefValue); if (ERROR_SUCCESS == nError) { bValue = (nResult != 0) ? true : false; } return nError; } LONG GetStringRegKey(HKEY hKey const std::wstring &strValueName std::wstring &strValue const std::wstring &strDefaultValue) { strValue = strDefaultValue; WCHAR szBuffer[512]; DWORD dwBufferSize = sizeof(szBuffer); ULONG nError; nError = RegQueryValueExW(hKey strValueName.c_str() 0 NULL (LPBYTE)szBuffer &dwBufferSize); if (ERROR_SUCCESS == nError) { strValue = szBuffer; } return nError; } If for some inexplicable reason this never seems to find a key it may be a 32-bit/64-bit problem. See http://stackoverflow.com/q/15084380/482758 It might be of help to mention that your code is intended to be used with what Windows calls a Unicode character set. I would change the function calls `RegOpenKeyExW` and `RegQueryValueExW` to their ""character set"" agnostic equivalent `RegOpenKeyEx` and `RegQueryValueEx`  const CString REG_SW_GROUP_I_WANT = _T(""SOFTWARE\\My Corporation\\My Package\\Group I want""); const CString REG_KEY_I_WANT= _T(""Key Name""); CRegKey regKey; DWORD dwValue = 0; if(ERROR_SUCCESS != regKey.Open(HKEY_LOCAL_MACHINE REG_SW_GROUP_I_WANT)) { m_pobLogger->LogError(_T(""CRegKey::Open failed in Method"")); regKey.Close(); goto Function_Exit; } if( ERROR_SUCCESS != regKey.QueryValue( dwValue REG_KEY_I_WANT)) { m_pobLogger->LogError(_T(""CRegKey::QueryValue Failed in Method"")); regKey.Close(); goto Function_Exit; } // dwValue has the stuff now - use for further processing  RegQueryValueEx This gives the value if it exists and returns an error code ERROR_FILE_NOT_FOUND if the key doesn't exist. (I can't tell if my link is working or not but if you just google for ""RegQueryValueEx"" the first hit is the msdn documentation.)  The simplest method I have found to read REG_DWORD(Dword) and REG_SZ(String) registry both by using the following code import java.io.IOException; import java.io.InputStream; import java.io.StringWriter; public class ReadRegistry { public static final String readRegistry(String location String key){ try { // Run reg query then read output with StreamReader (internal class) Process process = Runtime.getRuntime().exec(""reg query "" + '""'+ location + ""\"" /v "" + key); StreamReader reader = new StreamReader(process.getInputStream()); reader.start(); process.waitFor(); reader.join(); // Parse out the value // String[] parsed = reader.getResult().split(""\\s+""); String s1[]; try{ s1=reader.getResult().split(""REG_SZ|REG_DWORD""); } catch(Exception e) { return "" ""; } //MK System.out.println(s1[1].trim()); return s1[1].trim(); } catch (Exception e) { } return null; } static class StreamReader extends Thread { private InputStream is; private StringWriter sw= new StringWriter(); public StreamReader(InputStream is) { this.is = is; } public void run() { try { int c; while ((c = is.read()) != -1) //System.out.println(c); sw.write(c); } catch (IOException e) { } } public String getResult() { return sw.toString(); } } } you can use trim to use only values and remove the other spaces character How to use this class code is below  String outputValue = ReadRegistry.readRegistry(REGISTRY_PATH REGISTRY_KEY); Note: REGISTRY_PATH and REGISTRY_KEY are constants. Its value depends upon your query path and query key.",0.9467912944967934,0.005677397597830972,0.047531307905375526
44135,"Project design / FS layout for large django projects What is the best way to layout a large django project? The tutorials provide simple instructions for setting up apps models and views but there is less information about how apps and projects should be broken down how much sharing is allowable/necessary between apps in a typical project (obviously that is largely dependent on the project) and how/where general templates should be kept. Does anyone have examples suggestions and explanations as to why a certain project layout is better than another? I am particularly interested in the incorporation of large numbers of unit tests (2-5x the size of the actual code base) and string externalization / templates. This page does a good job of addressing some of my questions: http://www.b-list.org/weblog/2006/sep/10/django-tips-laying-out-application/ Specifically: To define custom template tags or filters you must create a sub-directory in the application’s directory called templatetags and it must contain a file named __init__.py so that it can be imported as a Python module. To define unit tests which will automatically be noticed by Django’s testing framework put them in a module called tests (which can be either a file named tests.py or a directory called tests). The testing framework will also find any doctests in that module but the preferred place for those is of course the docstrings of the classes or functions they’re designed to test. To provide custom SQL which will be executed immediately after your application is installed create a sub-directory called sql inside the application’s directory; the file names should be the same as the names of the models whose tables they’ll operate on; for example if you have an app named weblog containing a model named Entry then the file sql/entry.sql inside the app’s directory can be used to modify or insert data into the entries table as soon as it’s been created. The note about tests.py and tests (the directory) also holds for models which helps address the problem of having way to many tests (or models) for one file. I would still like to see some examples / suggestions for app/project break down and big django sites that work well. In this answer you need to escape initial underscores in \_\_init__.py to avoid it being interpreted as bold text by the markup engine.  I found Zachary's layout quite useful Zachary Voase’s Blog » Django Project Conventions Revisited.  I really like Randall Degges' post on this subject. He leaves out info on how to glue the settings files together but I'll have a post on that I'll be able to link but for now anyone can check out my repo where I include some direction in the readme.  The Pinax project is built around the idea of small reusable apps which are easily brought together into a project. They've used the project Cloud 27 as a demo project. The Django project I'm working on (called Basie. It's pre-0.1 so no link yet.) is trying to follow the Pinax model and so far it's working out fairly well.  The major guidelines are similar to any other large code project. Apps should address a single clearly-defined responsibility. The name ""application"" is a misnomer; Django apps should be thought of more as reusable components which can be plugged together to create a real application. Tests for each app should be contained within that app. Apps should be decoupled from each other as much as possible but clearly there will be dependencies so the goal should be to keep the dependency graph as simple and sane as possible. I prefer to keep all the templates for a project under a single project-wide templates directory with a subdirectory for each app (using a template subdirectory for each app is a very strong convention in Django as it avoids template name collisions between apps). The reason for a single project-wide templates directory is that templates template inheritance trees and block names can be quite project-specific so it's hard to provide ""default"" app templates that can plug in to any project. There have been some attempts to settle on standard naming conventions for base site-wide templates and the blocks they define but I haven't seen a standard emerge yet (the way they do things over at Pinax is probably the closest we have to a standard). Re ""string externalization"" if you mean i18n and l10n Django has strong support for that and standard places where it puts the .po files - check the docs.  My current layout stems from me wanting to have a test-version of my sites. This means having two projects for every site since they need different configurations and forces me to move all the applications out of the projects. I've created two folders: $APP_ROOT/devel and $APP_ROOT/prod. These contain all the apps. Using source control (in my case git) I have the apps in devel at the HEAD revision while the apps in prod are locked to the PROD tag. The templates also have their own folder with the same layout as the apps. Now I'm able to do all my development in the devel-apps folder and the matching template-folder. When I have something I'm happy with I tag that revision and update prod.",0.7099484415364943,0.05445560646830506,0.23559595199520073
37692,"Eclipse Plugin Dev: How do I get the paths for the currently selected project? I'm writing a plugin that will parse a bunch of files in a project. But for the moment I'm stuck searching through the Eclipse API for answers. The plugin works like this: Whenever I open a source file I let the plugin parse the source's corresponding build file (this could be further developed with caching the parse result). Getting the file is simple enough: public void showSelection(IWorkbenchPart sourcePart) { // Gets the currently selected file from the editor IFile file = (IFile) workbenchPart.getSite().getPage().getActiveEditor() .getEditorInput().getAdapter(IFile.class); if (file != null) { String path = file.getProjectRelativePath(); /** Snipped out: Rip out the source path part * and replace with build path * Then parse it. */ } } The problem I have is I have to use hard coded strings for the paths where the source files and build files go. Anyone know how to retrieve the build path from Eclipse? (I'm working in CDT by the way). Also is there a simple way to determine what the source path is (e.g. one file is under the ""src"" directory) of a source file? You should take a look at ICProject especially the getOutputEntries and getAllSourceRoots operations. This tutorial has some brief examples too. I work with JDT so thats pretty much what I can do. Hope it helps :) The link for the tutorial is broken tutorial link seems to be broken :(",0.8107717466918309,0.17607525917447667,0.013152994133692383
56479,"Will .NET MVC give me the HTML/CSS/JS separation I need? I'm working with my ASP.NET development team to try and create ""better"" (i.e. cleaner) HTML when rendering pages. At the moment .NET has a nasty tendency to do things like dump JavaScript into the page making it a mandatory requirement on form controls and not allowing forms to work when JS isn't available. In some instances we're struggling to overcome this without having to add a notable chunk to development time estimates. I've worked with MVC before - via Struts in Java - and found that in that instance I was able to keep HTML pages exactly as I'd wanted them to be. (This viewpoint is based on the ""best case"" static HTML I typically developed beforehand then handed over to the Java programmers to fill in the holes.) This worked out really well and we were able to produce some of the ""best"" web pages from a CMS that I've seen. Could .NET MVC give me the separation I need or would it be a false economy to put aside valuable development time to test this? If .NET MVC isn't going to give me this fine-grained control over separation any recommendations for .NET coding practices libraries etc. which might would be really helpful. Depending on the view engine you're going to use. yes. But you can easilly check this by looking at the page-source for stack-overflow. It's not zen-garden but it's pretty clean. Some more clarification: The rendering of the pages is done by the view engine. You can use the standard view engine or existing ones like nVelocity or Brail just like with monorail. http://www.chadmyers.com/Blog/archive/2007/11/28/testing-scottgu-alternate-view-engines-with-asp.net-mvc-nvelocity.aspx As the view engine is responsible for creating HTML what comes out depends on your choice. But most view engines are better in this respect than vanilla ASP.Net Could you be more specific / offer examples please? I'm not an ASP coder so I'm not sure what you mean. I'm trying to research alternatives to present to my team. Thanks in advance. Thanks for the clarification and examples much appreciated.  @Wrestlevania said: any recommendations for .NET coding practices libraries etc. which might would be really helpful. I try to maintain a high level of separation while coding in ASP.Net. I find that if I avoid the asp controls and stick as much as possible with basic html elements I can avoid any situation where ASP.Net would be inclined to inject extra CSS or JS into my page. Example use span in place of asp:literal button in place of asp:button etc. The only ASP control I use is the repeater which is used to create a table. Any functionality I need that would be similar to an asp control I either implement myself in javascript or use a framework like jquery. We're working around these sorts of limitations in part but I'm encountering resistance (separate issue!) to ditching ASP controls entirely. I'm using jQuery for most JavaScript coding at the moment and apart from ASP changing some IDs it's working well. Thanks.  The ASP.NET MVC Framework would give you a much more familiar separation. Because there is no viewstate etc in the MVC Framework you won't have to worry about JavaScript being dumped into your pages. The only JavaScript calls you see will be ones that you manually add. You can for the most part separate HTML / CSS / JS like you would in a different framework. Are there specific caveats I should be aware of? Not really -- It's pretty straight forward if you're coming from the perspective of using the HTML and having the ASP.NET MVC framework fill in the holes. I would recommend looking at Stephen Walther's site : http://weblogs.asp.net/StephenWalther/ for a good deal of tutorials and http://asp.net/mvc Great thank you.  Asp.Net MVC will help you keep html/css/js separate in that it will present fewer features that would prevent you from keeping them separate. For example Html helpers typically return just that: Html. From that point you are free to choose to keep all style information associated only by class attributes. Consider also looking into the practices you usually follow with a library like jQuery. It's an excellent example of how to keep the scripted functionality entirely in your js and out of your html by applying the event handling behaviors to the elements on page load based on things like element type class and id.",0.0353401043740793,0.9329689558055462,0.03169093982037449
66166,"C++ web service framework We are looking for a C++ Soap web services framework that support RPC preferably open source. Any recommendations? I think the way to go is to write your service in C++ (I am assuming you did all the homework and there is a good reason you want to write in C++) and then front it using an RPC server. Use something like Thrift or Protobufs for a fast RPC implementation. Now write your web frontend in the language of your choice - python would be mine - and make RPC calls to do all your heavy lifting.  WSO2 Web Services Framework for C++ (WSO2 WSF/C++) a binding of WSO2 WSF/C into C++ is a C++ extension for consuming Web Services in C++. http://wso2.org/projects/wsf/cpp Apache Axis is an open source XML based Web service framework. It consists of a Java and a C++ implementation of the SOAP server and various utilities and APIs for generating and deploying Web service applications. http://ws.apache.org/axis/ After trying several different packages we found Axis to be the most comprehensive easy to use lib.  Try the ffead-cpp framework it provides in-built web-service support rest json and many other useful features.  Do You REALLY need it to be C++? If so you may think of integrating it with some other language that has close-to-native support for some Web Services standars. However you should look into REST (http://w.cx/d39d11) for web/internet-based apps. It's probably the best option out there to get code out fast. I could not follow your link can you please edit?  You could try gSOAP. Available under GPL and commercial licences.  POCO Remoting gives you a very simple way of creating web services in C++ by just annotating C++ class definitions with special comments and running a code generator over it. It's commercial but delivered with full source code. A free eval version is available. Runs on Windows Linux Mac OS X etc.  We are using EasySoap (http://easysoap.sourceforge.net/)  I concur with imjorge's answer and add that there's a C/C++ version of the Axis2 framework (a more flexible extensible Axis) that does SOAP via RPC and all sorts of stuff including a bunch of the WS-* specs. http://ws.apache.org/axis2/c/  I have used SWIG to make an interface from C++ to Java or Python and then used the typical web interface support for those languages. Since Java and Python have reflection the web services frameworks that exist for them have a much easier time passing data around. Threading wise if your C++ code is thread safe you can let the Java server manage the creation of threads for concurrent requests etc. and just call into your C++ code using JNI. As a bonus you can test your C++ code from Python using these same SWIG interfaces.  You can check out xmlbeansxx. This is a kind of lightweight low level solution compared to complete frameworks. This has advantages in some cases. Invoking SOAP WebServices using xmlbeansxx Article Code example is here: WsClient.cpp.  ""web services"" is not a well defined term. /Allan Yes it is. A Web Service is a Web application that exposes a set of functions (in the programming sense of the word `function`) that can be called by sending its parameters over HTTP requests and whose return values can be retrieved from the corresponding HTTP responses.  http://code.google.com/p/staff/ Staff is Web Service Framework for C++ (service/component and client-side)/JavaScript(client-side) based on Apache Axis2/C. Open-source released with Apache License V2.0. Will this work On linux?  Apache axis-c: Simple to use but seems abandoned.. not even download pages is working for several months WSOF WSFCPP: Fast quickstart dev both binded or no-binded implementation based on Apache AxisC and it seems most of the current developers of Apache Axis is from WSOF company. Besides the Great potential I've detected a memory leak. I'm currently using Gsoap and It has very good performance. Gsoap ""mixed notation"" between old c style and some (bad?) practices for C++ bothers me some.. but this is only code-furniture. POCO: Is a full-feature modern (java?) like library. It is open source software licensed under the Boost Software License 1.0. You'll have to write some things from scrach but with great support utility classes and etc great library.. Innovations from c++11+ with all boost initiatives + POCO + a new Build/Dependency system more ""gradle like"" will certainly bring c++ to new areas of development.  While not FOSS another library is ATL Server library from Microsoft. It is C++ template based with some proprietary attributes by Microsoft. i.e. not standard C++ Irony of that one is that just as it got dumped by msft on CPlex Google started rolling out its own very similar in structure..",0.8379990179076597,0.031296996742495586,0.13070398534984476
83117,"Logging activities in multithreaded applications I have a layered application in Java which has a multi thread data access layer which is invoked from different points. A single call to this layer is likely to spawn several threads to parallelize requests to the DB. What I'm looking for is a logging tool that would allow me to define ""activities"" that are composed by various threads. Therefore the same method in the data access layer should log different outputs depending on its caller. The ability to group different outputs to summarize the total cost of an operation is also important. Although the application is in Java language is not a restriction; what I need are the design guidelines so to eventually implement it. We are currently using log4j but can't get this behaviour from it. You should be able to pass a logger around so you create a logger based on some ""common"" for the task data - i.e. username etc. Then pass this logger as parameter to all methods you need. That way you'll be able to set different filters and/or rules in your log4j config file. Or to scrape the output file based on the logger name. EDIT: Also check MDC and NDC classes in log4j. You can add there context data. Thanks for mentioning MDC. It was just what I was looking for. It's a good one but I don't want to modify all interfaces. I was looking for something that exploited more thread locality. Thanks! Then use this approach in combination with ThreadLocal?  In log4j you can log the thread name with the ""%t"" pattern. See log4j Pattern Layout.  In Java5 (and later) you can call StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace(); Inspect the stack trace to whatever depth you want and log accordingly. In Java 1.4 you can get the same info with StackTraceElement[] stackTrace = new Exception().getStackTrace(); I want to avoid calls to the stack trace as I want logging to be as less invasive as possible and I've read that accessing the stack trace is very expensive. Thanks for the answer!  You want to associate logger objects with threads I think. A ThreadLocal variable holding a log4j logger instance for each thread might help: http://java.sun.com/javase/6/docs/api/java/lang/ThreadLocal.html  You should also have a look at the nested diagnostic context feature of log4j. Pushing different contexts to the logger for different callers might do the trick for you. Very good one thanks!! According to the documentation NDCs attach to the current thread so I don't think that will help you. It is basically just a wrapper on top of thread-local-storage. But the NDC provides methods for passing the current context to a child thread which may prove useful.  You will need to pass some structure to the data access layer that identifies the current ""activity"". You might already have an ""Activity""-class that makes sense you might use a Logger-instance as Sunny suggested or you might use a third structure to keep track of the activity-context. In any case since your ""activity"" is processed across multiple threads you cannot use thread-local-storage for keeping track of the current ""activity"" like most of the other current answers suggest. You will need to pass it around explicitly. I would suggest making a small facade on top of log4j that expands the interface with methods like void debug(Activity activity String message); and passing the activity-context into this from the data access layer. You will need to make some modification to the data access layer to allow you to pass the current activity to it but how best to do that depends strongly on the current interface. If you use the Workspace-pattern you might just need to add a setActivity() method on the Workspace-class but other interface-pattern might require you to add an Activity parameter to all methods. If you for some reason is unable or unwilling to change the data access layer you might of course store the activity-context in thread-local-storage before invoking the data access layer and retrieve it just before spawning the sub-threads or enqueing the jobs in the data access layer. That is a workable solution but is it a bit dangerous to pass information around in that way.  In one of my (web) applications i use a ThreadLocal logger that captures logging information into a StringBuilder. The logger object is initialized in the HttpServlet#service method if a trace parameter is set (if it is not set there is a very fast null-logger). The resulting output is either dumped as a HTML comment into the requesting page or written to a log file in one segment.",0.16986436128397914,0.016638029819196005,0.8134976088968249
50394,"What Python way would you suggest to check whois database records? I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips or should I just do it the opensource-way sit down and code something by myself? :) Found this question in the process of my own search for a python whois library. Don't know that I agree with cdleary's answer that using a library that wraps a command is always the best way to go - but I can see his reasons why he said this. Pro: cmd-line whois handles all the hard work (socket calls parsing etc) Con: not portable; module may not work depending on underlying whois command. Slower since running a command and most likely shell in addition to whois command. Affected if not UNIX (Windows) different UNIX older UNIX or older whois command I am looking for a whois module that can handle whois IP lookups and I am not interested in coding my own whois client. Here are the modules that I (lightly) tried out and more information about it: pywhoisapi: Home: http://code.google.com/p/pywhoisapi/ Design: REST client accessing ARIN whois REST service Pros: Able to handle IP address lookups Cons: Able to pull information from whois servers of other RIRs? BulkWhois Home: http://pypi.python.org/pypi/BulkWhois/0.2.1 Design: telnet client accessing whois telnet query interface from RIR(?) Pros: Able to handle IP address lookups Cons: Able to pull information from whois servers of other RIRs? pywhois: Home: http://code.google.com/p/pywhois/ Design: REST client accessing RRID whois services Pros: Accessses many RRIDs; has python 3.x branch Cons: does not seem to handle IP address lookups python-whois: Home: http://code.google.com/p/python-whois/ Design: wraps ""whois"" command Cons: does not seem to handle IP address lookups whoisclient - fork of python-whois Home: http://gitorious.org/python-whois Design: wraps ""whois"" command Depends on: IPy.py Cons: does not seem to handle IP address lookups Update: I ended up using pywhoisapi for the reverse IP lookups that I was doing  here is a ready-to-use solution that works for me; written for Python 3.1 (when backporting to Py2.x take special care of the bytes / Unicode text distinctions). your single point of access is the method DRWHO.whois() which expects a domain name to be passed in; it will then try to resolve the name using the provider configured as DRWHO.whois_providers[ '*' ] (a more complete solution could differentiate providers according to the top level domain). DRWHO.whois() will return a dictionary with a single entry text which contains the response text sent back by the WHOIS server. Again a more complete solution would then try and parse the text (which must be done separately for each provider as there is no standard format) and return a more structured format (e.g. set a flag available which specifies whether or not the domain looks available). have fun! ########################################################################## import asyncore as _sys_asyncore from asyncore import loop as _sys_asyncore_loop import socket as _sys_socket ########################################################################## class _Whois_request( _sys_asyncore.dispatcher_with_send object ): # simple whois requester # original code by Frederik Lundh #----------------------------------------------------------------------- whoisPort = 43 #----------------------------------------------------------------------- def __init__(self consumer host provider ): _sys_asyncore.dispatcher_with_send.__init__(self) self.consumer = consumer self.query = host self.create_socket( _sys_socket.AF_INET _sys_socket.SOCK_STREAM ) self.connect( ( provider self.whoisPort ) ) #----------------------------------------------------------------------- def handle_connect(self): self.send( bytes( '%s\r\n' % ( self.query ) 'utf-8' ) ) #----------------------------------------------------------------------- def handle_expt(self): self.close() # connection failed shutdown self.consumer.abort() #----------------------------------------------------------------------- def handle_read(self): # get data from server self.consumer.feed( self.recv( 2048 ) ) #----------------------------------------------------------------------- def handle_close(self): self.close() self.consumer.close() ########################################################################## class _Whois_consumer( object ): # original code by Frederik Lundh #----------------------------------------------------------------------- def __init__( self host provider result ): self.texts_as_bytes = [] self.host = host self.provider = provider self.result = result #----------------------------------------------------------------------- def feed( self text ): self.texts_as_bytes.append( text.strip() ) #----------------------------------------------------------------------- def abort(self): del self.texts_as_bytes[:] self.finalize() #----------------------------------------------------------------------- def close(self): self.finalize() #----------------------------------------------------------------------- def finalize( self ): # join bytestrings and decode them (witha a guessed encoding): text_as_bytes = b'\n'.join( self.texts_as_bytes ) self.result[ 'text' ] = text_as_bytes.decode( 'utf-8' ) ########################################################################## class DRWHO: #----------------------------------------------------------------------- whois_providers = { '~isa': 'DRWHO/whois-providers' '*': 'whois.opensrs.net' } #----------------------------------------------------------------------- def whois( self domain ): R = {} provider = self._get_whois_provider( '*' ) self._fetch_whois( provider domain R ) return R #----------------------------------------------------------------------- def _get_whois_provider( self top_level_domain ): providers = self.whois_providers R = providers.get( top_level_domain None ) if R is None: R = providers[ '*' ] return R #----------------------------------------------------------------------- def _fetch_whois( self provider domain pod ): #..................................................................... consumer = _Whois_consumer( domain provider pod ) request = _Whois_request( consumer domain provider ) #..................................................................... _sys_asyncore_loop() # loops until requests have been processed #========================================================================= DRWHO = DRWHO() domain = 'example.com' whois = DRWHO.whois( domain ) print( whois[ 'text' ] )  Here is the whois client re-implemented in Python: http://code.activestate.com/recipes/577364-whois-client/  Another way to do it is to use urllib2 module to parse some other page's whois service (many sites like that exist). But that seems like even more of a hack that what you do now and would give you a dependency on whatever whois site you chose which is bad. I hate to say it but unless you want to re-implement whois in your program (which would be re-inventing the wheel) running whois on the OS and parsing the output (ie what you are doing now) seems like the right way to do it.  Look at this: http://code.google.com/p/pywhois/ pywhois - Python module for retrieving WHOIS information of domains Goal: - Create a simple importable Python module which will produce parsed WHOIS data for a given domain. - Able to extract data for all the popular TLDs (com org net ...) - Query a WHOIS server directly instead of going through an intermediate web service like many others do. - Works with Python 2.4+ and no external dependencies Example: >>> import pywhois >>> w = pywhois.whois('google.com') >>> w.expiration_date ['14-sep-2011'] >>> w.emails ['contact-admin@google.com' 'dns-admin@google.com' 'dns-admin@google.com' 'dns-admin@google.com'] >>> print w ... Can this be installed with pip? There is a pywhois 0.1 package but that seems to be not the same.  There's nothing wrong with using a command line utility to do what you want. If you put a nice wrapper around the service you can implement the internals however you want! For example: class Whois(object): _whois_by_query_cache = {} def __init__(self query): """"""Initializes the instance variables to defaults. See :meth:`lookup` for details on how to submit the query."""""" self.query = query self.domain = None # ... other fields. def lookup(self): """"""Submits the `whois` query and stores results internally."""""" # ... implementation Now whether or not you roll your own using urllib wrap around a command line utility (like you're doing) or import a third party library and use that (like you're saying) this interface stays the same. This approach is generally not considered ugly at all -- sometimes command utilities do what you want and you should be able to leverage them. If speed ends up being a bottleneck your abstraction makes the process of switching to a native Python implementation transparent to your client code. Practicality beats purity -- that's what's Pythonic. :) @kender: it makes it easier! You just have to switch the internals from gwhois to Xwhois. If you also want to keep to old implementation you can extend the old class and just override for example the lookup method. Yeah I know. But using too many of system tools and building wrappers around them makes it harder to lets say migrate application to other system... But I guess I'll stick to what I got now if it works ;) With a good abstraction barrier you can implement it whenever it's convenient! ""Now is better than never Although never is often better than *right now*."" :)  import socket socket.gethostbyname_ex('url.com') if it returns a gaierror you know know it's not registered with any DNS -1 = Doing a DNS query is not the same as a whois query  I don't know if gwhois does something special with the server output; however you can plainly connect to the whois server on port whois (43) send your query read all the data in the reply and parse them. To make life a little easier you could use the telnetlib.Telnet class (even if the whois protocol is much simpler than the telnet protocol) instead of plain sockets. The tricky parts: which whois server will you ask? RIPE ARIN APNIC LACNIC AFRINIC JPNIC VERIO etc LACNIC could be a useful fallback since they tend to reply with useful data to requests outside of their domain. what are the exact options and arguments for each whois server? some offer help others don't. In general plain domain names work without any special options. real problem is not in the querying of servers- but parsing their outputs. sadly what they return the format changes a lot between servers. One of lines expiration time can look like: Expiration Date:05-Sep-2009 15:24:49 UTC or Expires on: 26-Dec-14 or some servers dont give that at all. They're both part of the problem. In my case it was hard enough to find the correct (authoritative) whois server in every case. Parsing the data wasn't as hard since we were interested basically in parent subnets so with a little trial&error we were done. Can't provide code though sorry.  Parsing another webpage woulnd't be as bad (assuming their html woulnd't be very bad) but it would actually tie me to them - if they're down I'm down :) Actually I found some old project on sourceforge: rwhois.py. What scares me a bit is that their last update is from 2003. But it might seem as a good place to start reimplementation of what I do right now... Well I felt obligued to post the link to this project anyway just for further reference. Well what has really changed about whois in the last 5 years. I would venture to guess ""not much"". I still think you are re-inventing the wheel. My ideal answer is: use what is working for you now unless you perceive a real problem with it.",0.9907711482153095,0.0031610567695069375,0.006067795015183479
51436,How to host licensed .Net controls in unmanaged C++ app? I need to host and run managed controls inside of a purely unmanaged C++ app. How to do this? To run unlicensed controls is typically simple: if (SUCCEEDED(ClrCreateManagedInstance(type iid &obj))) { // do something with obj } When using a licensed control however we need to somehow embed a .licx file into the project (ref application licensing). In an unmanaged C++ app the requisite glue does not seem to work. The lc.exe tool is supposed to be able to embed the license as an assembly resource but either we were not waving the correct invocation or it failed silently. Any help would be appreciated. The answer depends on the particular component you're using. Contact your component help desk OR read up the documentation on what it takes to deploy their component. Basically component developers are free to implement licensing as they deem fit. With the .licx file the component needs to be able to do whatever the developer wished via GetKey and IsValidKey (explained in the link you posted). So if GetKey checks for a .licx file in the component directory - you just need to make sure its there. AFAIK the client assembly doesn't need to do anything except instantiate the control. Also if you post the name of the component and the lc.exe command you're using people could take a look..,0.8377500126703551,0.1492590799832103,0.012990907346434585
13473,"How does one rank an array (sort) by value? *With a twist* I need to take an array and sort it in c/c++ replacing each value with its' ""rank"" an integer that corresponds to its position after sort. Heres an example: Input: 13496. Output: 1 2 3 5 4. So I need to replace each value with its position relative to all the other values. I hope that makes sense but its late so who knows :p. Thanks in advance. Edit: I am using a shell sort procedure and duplicates' ranks are arbitrarily chosen based on which came first in the original array. Update: Despite my best efforts I havent been able to implement a sort algorithm that sorts an array of pointerse by the values they point to. Could someone please tell me whats going wrong? The current example wont compile and I've changed it around so much that it doesnt really matter. I'd very much appreciate it if someone could help me fix this! void SortArray( int ** pArray int ArrayLength ) { int i j flag = 1; // set flag to 1 to begin initial pass int * temp; // holding variable orig with no * for(i = 1; (i <= ArrayLength) && flag; i++) { flag = 0; for (j=0; j < (ArrayLength -1); j++) { if (*pArray[j+1] > *pArray[j]) // ascending order simply changes to < { &temp = &pArray[j]; // swap elements &pArray[j] = &pArray[j+1]; //the problem lies somewhere in here &pArray[j+1] = &temp; flag = 1; // indicates that a swap occurred. } } } }; Thanks in advance. Ok here is my atempt in C++ #include <iostream> #include <algorithm> struct mycomparison { bool operator() (int* lhs int* rhs) {return (*lhs) < (*rhs);} }; int main(int argc char* argv[]) { int myarray[] = {1 3 6 2 4 9 5 12 10}; const size_t size = sizeof(myarray) / sizeof(myarray[0]); int *arrayofpointers[size]; for(int i = 0; i < size; ++i) { arrayofpointers[i] = myarray + i; } std::sort(arrayofpointers arrayofpointers + size mycomparison()); for(int i = 0; i < size; ++i) { *arrayofpointers[i] = i + 1; } for(int i = 0; i < size; ++i) { std::cout << myarray[i] << "" ""; } std::cout << std::endl; return 0; }  Parallel sorting of vector using boost::lambda...  std::vector<int> intVector; std::vector<int> rank; // set up values according to your example... intVector.push_back( 1 ); intVector.push_back( 3 ); intVector.push_back( 4 ); intVector.push_back( 9 ); intVector.push_back( 6 ); for( int i = 0; i < intVector.size(); ++i ) { rank.push_back( i ); } using namespace boost::lambda; std::sort( rank.begin() rank.end() var( intVector )[ _1 ] < var( intVector )[ _2 ] ); //... and because you wanted to replace the values of the original with // their rank intVector = rank; Note: I used vectorS instead of arrays because it is clearer/easier also I used C-style indexing which starts counting from 0 not 1.  Well there's a trival n^2 solution. In python: newArray = sorted(oldArray) blankArray = [0] * len(oldArray) for i in xrange(len(newArray)): dex = oldArray.index(newArray[i]) blankArray[dex] = i Depending on how large your list is this may work. If your list is very long you'll need to do some strange parallel array sorting which doesn't look like much fun and is a quick way to introduce extra bugs in your code. Also note that the above code assumes unique values in oldArray. If that's not the case you'll need to do some post processing to solve tied values.  Since you're using C++ I would do it something like this. The SortIntPointers function can be any sort algorithm the important part is that it sorts the array of pointers based on the int that they are pointing to. Once that is done you can go through the array of pointers and assign their sorted index which will end up in the original position in the original array. int* intArray; // set somewhere else int arrayLen; // set somewhere else int** pintArray = new int*[arrayLen]; for(int i = 0; i < arrayLen; ++i) { pintArray[i] = &intArray[i]; } // This function sorts the pointers according to the values they // point to. In effect it sorts intArray without losing the positional // information. SortIntPointers(pintArray arrayLen); // Dereference the pointers and assign their sorted position. for(int i = 0; i < arrayLen; ++i) { *pintArray[i] = i; } Hopefully that's clear enough.  create a new array with increasing values from 0 to n-1 (where n is the length of the array you want to sort). Then sort the new array based on the values in the old array indexed by the values in the new array. For example if you use bubble sort (easy to explain) then instead of comparing the values in the new array you compare the values in the old array at the position indexed by a value in the new array: function bubbleRank(A){ var B = new Array(); for(var i=0; i<A.length; i++){ B[i] = i; } do{ swapped = false; for(var i=0; i<A.length; i++){ if(A[B[i]] > A[B[i+1]]){ var temp = B[i]; B[i] = B[i+1]; B[i+1] = temp; swapped = true; } } }while(swapped); return B; }",0.0036471088773372623,0.015278046236148661,0.981074844886514
87932,"Attribute & Reflection libraries for C++? Most mature C++ projects seem to have an own reflection and attribute system i.e for defining attributes which can be accessed by string and are automatically serializable. At least many C++ projects I participated in seemed to reinvent the wheel. Do you know any good open source libraries for C++ which support reflection and attribute containers specifically: Defining RTTI and attributes via macros Accessing RTTI and attributes via code Automatic serialisation of attributes Listening to attribute modifications (e.g. OnValueChanged) There is a new project providing reflection in C++ using a totally different approach: CAMP. http://dev.tegesoft.com/projects/camp CAMP doesn't use a precompiler the classes/properties/functions/... are declared manually using a syntax similar to boost.python or luabind. Of course people can use a precompiler like gccxml or open-c++ to generate this declaration if they prefer. It's based on pure C++ and boost headers only and thanks to the power of template meta-programming it supports any kind of bindable entity (inheritance and strange constructors are not a problem for example). It is distributed under the LGPL licence.  Looked at this for a while too. The current easiest solution seems to be BOOST_FUSION_ADAPT_STRUCT. Practically once you have a library/header you only need to add your struct fields into the BOOST_FUSION_ADAPT_STRUCT() macro as the last segment of the code shows. Yes it has restrictions many other people have mentioned. And it does not support listeners directly. The other promising solutions I looked into are CAMP and XRTTI/gccxml however both seem to be a hurdle to bring external tools dependency into your project. Years ago I used perl c2ph/pstruct to dump the meta info from the output of gcc -gstabs that is less intrusive but needs more work though it worked perfectly for me. Does this enable /reflection/? I can see how this adapts a struct to model the Sequence concept of Boost MPL/Fusion so you can iterate over it's fields. However getting the names of fields or using the names to access fields is out of the question IIRC. That's not even speaking about the struct type itself @sehe: As you see the field types are printed by __cxa_demangle(typeid(t).name()). The same function can be applied to struct decoder and array decoder to print all struct types and array types including the very top level. If you think java vm keeps a list of all classes/objects in an internal binary list the meta data this example dumps is roughly at that level. From that low level information (plus runtime address information) you need to write code to access fields (by names in string or char[] format). That would be the other half of the whole reflection picture. Ah. So the most important portion of the answer isn't actually there. Hmmm that was surprising. Anyways I'll **+1 for `c2ph/pstruct`**. Oldschool but will work in most places really. __cxa* isn't exactly portable. And ADAPT_STRUCT is both not very relevant easy to work with and not easily automated. If you're using macros you might as well use macros the full way (and not depend on Boost or GCC ABI) Actually the most important part for me is least runtime cost and least intrusive process. c2ph/pstruct is not very portable as it may appear to be. I had to spend a large effort to fix pstruct for the specific gcc stabs dump. After dumping the type info and retrieve the address info from the built binary only a memory access interface is needed to be built into the runtime. Everything else can be done out of the box (I do embedded programming and use reflection for mainly testing). Thus this ADAPT_STRUCT is the easiest solution so far I can find.  You could have a look at the two tools below. I've never used either of them so I can't tell you how (im)practical they are. XRTTI: Xrtti is a tool and accompanying C++ library which extends the standard runtime type system of C++ to provide a much richer set of reflection information about classes and methods to manipulate these classes and their members. OpenC++: OpenC++ is C++ frontend library (lexer+parser+DOM/MOP) and source-to-source translator. OpenC++ enables development of C++ language tools extensions domain specific compiler optimizations and runtime metaobject protocols. XRTTI still has an updated version for late Linux distributions. OpenC++ seems to be too old.  Not a general one but QT supports this via a meta compiler and is GPL. My understanding from talking to the QT people was that this isn't possible with pure C++ hence the need for the moc.  This is what you get when C++ meets Reflection: Whatever you choose it'll probably have horrible macros hard to debug code or weird build steps. I've seen one system automatically generate the serialisation code from DevStudio's PDB file. Seriously though for small projects it'll be easier to write save/load functions (or use streaming operators). In fact that might hold for big projects too - it's obvious what's going on and you'd usually need to change code anyway if the structure changes. +1 : for the photo no really it says a lot :D The wagon lettering has a typo should be l337! Unless my app already uses Qt I create streaming operators for each of my classes that need to be saved. +1 : for the photo ;) kidding. I agree with the conclusion. Use handcraft serialisers or use another langage :)  Automatic introspection/reflection toolkit. Use meta compiler like Qt's and adding meta information directly into object files. Intuitive easy to use. No external dependencies. Even allow automatically reflect std::string and then use it in scripts. Please visit IDK  I looked at these things for quite a while but they tend to be very heavy-handed. They might prevent you from using inheritance or having strange constructors etc etc. In the end they ended up being too much of a burden instead of a convenience. This approach for exposing members that I now use is quite lightweight and lets you explore a class for serialization or setting all fields called ""x"" to 0 for example. It's also statically determined so is very very fast. No layers of library code or code-gen to worry about messing with the build process. It generalises to hierarchies of nested types. Set your editor up with some macros to automate writing some of these things. struct point { int x; int y; // add this to your classes template <typename Visitor> void visit(Visitor v) { v->visit(x ""x""); v->visit(y ""y""); } }; /** Outputs any type to standard output in key=value format */ struct stdout_visitor { template <typename T> void visit(const T& rhs) { rhs.visit(this); } template <typename Scalar> void visit (const Scalar& s const char* name) { std::cout << name << "" = "" << s << "" ""; } } That is a good approach. I once made a preprocessor that generates `visit()` function templates for you. And then a few functors to serialize and deserialize JSON binary text etc... No ugly macros. https://groups.google.com/d/msg/comp.lang.c++/Ila1Tn09mm4/nJVxl3SzpFUJ While i like it it should be noted that it isn't a general solution - e.g. it breaks as soon as the actual static type isn't known.  This is a notorious weakness of the C++ language in general because the things that would need to be standardized to make reflection implementations portable and worthwhile aren't standard. Calling conventions object layouts and symbol mangling come to mind but there are others as well. The lack of direction from the standard means that compiler implementers will do some things differently which means that very few people have the motivation to write a portable reflection library which means that people who need reflection re-invent the wheel but only just enough for what they need. This happens to ad infinitum and here we are.",0.11713945588638858,0.06483843776147764,0.8180221063521338
86491,"How do I use RegisterClientScriptBlock to register JavaScript? ASP.NET 2.0 provides the ClientScript.RegisterClientScriptBlock() method for registering JavaScript in an ASP.NET Page. The issue I'm having is passing the script when it's located in another directory. Specifically the following syntax does not work: ClientScript.RegisterClientScriptBlock(this.GetType() ""scriptName"" ""../dir/subdir/scriptName.js"" true); Instead of dropping the code into the page like this page says it should it instead displays ../dir/subdir/script.js  my question is this: Has anyone dealt with this before and found a way to drop in the javascript in a separate file? Am I going about this the wrong way? Your script value has to be a full script so put in the following for your script value.  What you're after is: ClientScript.RegisterClientScriptInclude(this.GetType() ""scriptName"" ""../dir/subdir/scriptName.js"")  use: ClientScript.RegisterClientScriptInclude(key url);",0.08101293529899405,0.8975378210543665,0.021449243646639513
91420,Export variable from C++ static library I have a static library written in C++ and I have a structure describing data format i.e. struct Format{ long fmtId; long dataChunkSize; long headerSize; Format(long long long); bool operator==(Format const & other) const; }; Some of data formats are widely used like {fmtId=0 dataChunkSize=128 headerSize=0} and {fmtId=0 dataChunkSize=256 headerSize=0} Some data structure classes receive format in constructor. I'd like to have some sort of shortcuts for those widely used formats like a couple of global Format members gFmt128 gFmt256 that I can pass by reference. I instantiate them in a .cpp file like Format gFmt128(0 128 0); and in .h there is extern Format gFmt128; also I declare Format const & Format::Fmt128(){return gFmt128;} and try to use it in the main module. But if I try and do it in the main module that uses the lib the linker complains about unresolved external gFmt128. How can I make my library 'export' those global vars so I can use them from other modules? You need to declare your Format objects as extern not static  Morhveus I tried this out too. My linker rather says it has the gFmt128 symbol already defined. This is indeed the behaviour I would expect: the compiler adds the function body to both the library and the client object since it's defined in the include file. The only way I get unresolved externals is by not adding the static library to the objects-to-be-linked not defining the symbol gFmt128 in the static library's source file I'm puzzled... How come we see something different? Can you explain what happens? I must have goofed. Skizz's answer seems to be the explanation to what has happened.  Don't use the static keyword on global declarations. Here is an article explain the visibility of variables with/without static. The static gives globals internal linkage that is only visible in the translation unit they are declared in.  Are they defined in .cpp file as well? Roughly it should look like: struct Format { [...] static Format gFmt128; }; // Format.cpp Format Format::gFmt128 = { 0 128 0 } This seems the correct way for a C++ object. Here the static makes the struct member gFmt128 a class variable rather than a global variable with internal linkage.,0.07868401892592845,0.01850278651727858,0.9028131945567929
38508,"What's the best way to return multiple values from a function in Python? I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded and I also need to return the modified string. In C# I would use an out parameter for the string but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values? I've added a link to related question Return a tuple. def f(x): # do stuff return (True modified_string) success modified_string = f(something)  def f(in_str): out_str = in_str.upper() return True out_str # Creates tuple automatically succeeded b = f(""a"") # Automatic tuple unpacking I'd like to add that the present approach works with arrays and matrices also  Why not throw an exception if the operation wasn't successful? Personally I tend to be of the opinion that if you need to return more than one value from a function you should reconsider if you're doing things the right way or use an object. But more directly to the point if you throw an exception you're forcing them to deal with the problem. If you try to return a value that indicates failure it's very well possible somebody could not check the value and end up with some potentially hard to debug errors. When failure is common returning the failure information in a tuple is a good approach. Example would be a function that you call multiple times with test values to find a ""good"" value you expect it to fail many times and eventually find a good value. In that case just ""return result reason"" rather than raising an exception. Agreed. Pythonic functions shouldn't return codes to indicate ""success/failure"" when one is vastly more likely than the other. Just throw an exception in the exceptional case. That being said just return a tuple when needed: ""return a b c"" I don't like functions that throw exceptions for non-fatal errors.  Throwing an exception for failure is one good way to proceed and if you're returning a lot of different values you can return a tuple. For the specific case you're citing I often take an intermediate approach: return the modified string on success and return None on failure. I'm enough of an unreconstructed C programmer to want to return a NULL pointer to char on failure. If I were writing a routine to be used as part of a larger library and consumed by other developers I'd throw an exception on failure. When I'm eating my own dogfood I'll probably return different types and test on return.  Returning a tuple is the usual way to do this in Python.",0.1130401920873489,0.021740607777383052,0.865219200135268
50579,"__doPostBack not rendering on postback I'm having a strange problem. I have to use GetPostBackEventRefence to force a Postback but it works the first time after the first postback the .NET function is not rendered... any ideas? This is what I'm missing after the postback: <script language=""javascript"" type=""text/javascript""> <!-- function __doPostBack(eventTarget eventArgument) { var theform; if (window.navigator.appName.toLowerCase().indexOf(""microsoft"") > -1) { theform = document.Main; } else { theform = document.forms[""Main""]; } theform.__EVENTTARGET.value = eventTarget.split(""$"").join("":""); theform.__EVENTARGUMENT.value = eventArgument; theform.submit(); } // --> </script> Well following that idea I created a dummy function with the postbackreference and it works... it still is weird though because of it rendering correctly the first time this.Page.RegisterClientScriptBlock(""DUMMY"" ""<script language='javascript'>function dummy() { "" + this.Page.GetPostBackEventReference(this) + ""; } </script>"");  The first thing I would look at is whether you have any asp controls (such as linkbutton comboboxesthat don't normally generate a submit but requre a postback) being displayed on the page. The __doPostback function will only be put into the page if ASP thinks that one of your controls requires it. If you aren't using one of those you can use: Page.ClientScript.GetPostBackClientHyperlink(controlName """") to add the function to your page The problem is that the first time (Not postback) it renders correctly... it's the same page Maybe you hide linkbutton on postback?",0.011135966682186305,0.9655601840321616,0.023303849285652135
64000,Draining Standard Error in Java When launching a process from Java both stderr and stdout can block on output if I don't read from the pipes. Currently I have a thread that pro-actively reads from one and the main thread blocks on the other. Is there an easy way to join the two streams or otherwise cause the subprocess to continue while not losing the data in stderr? Just have two threads one reading from stdout one from stderr? I was gonna mention that too...but it seemed too easy. I mentioned that in the question; I was looking for an answer that wasn't thread-based.  Set the redirectErrorStream property on ProcessBuilder to send stderr output to stdout: ProcessBuilder builder = new ProcessBuilder(command); builder.redirectErrorStream(true); You should then create a thread to deal with the process stream something like the following: Process p = builder.start(); InputHandler outHandler = new InputHandler(p.getInputStream()); Where InputHandler is defined as: private static class InputHandler extends Thread { private final InputStream is; private final ByteArrayOutputStream os; public InputHandler(InputStream input) { this.is = input; this.os = new ByteArrayOutputStream(); } public void run() { try { int c; while ((c = is.read()) != -1) { os.write(c); } } catch (Throwable t) { throw new IllegalStateException(t); } } public String getOutput() { try { os.flush(); } catch (Throwable t) { throw new IllegalStateException(t); } return os.toString(); } } Alternatively just create two InputHandlers for the InputStream and ErrorStream. Knowing that the program will block if you don't read them is 90% of the battle :),0.12004653917130573,0.03742794695595444,0.8425255138727398
45861,How do I get js2-mode to use spaces instead of tabs in Emacs? I am using js2-mode to edit Javascript in Emacs but I can't seem to get it to stop using tabs instead of spaces for indentation. My other modes work fine just having issues w/ js2. Do you have  (setq-default indent-tabs-mode nil) in your .emacs? It works fine for me in emacs 23.0.60.1 when I do that. js2-mode uses the standard emacs function indent-to which respects indent-tabs-mode to do its indenting.  Add this to your .emacs file somewhere after you load js2 mode: (setq js2-mode-hook '(lambda () (progn (set-variable 'indent-tabs-mode nil)))),0.022234639558923727,0.9312357053164052,0.04652965512467117
97987,"Advantage of switch over if-else statement What's the best practice for switch vs if for a 30 unsigned enumerations where about 10 have an expected action (that presently is the same action). Performance and space need to be considered but are not critical. I've abstracted the snippet so don't hate me for the naming conventions :p // numError is an error enumeration type with 0 being the non-error case // fire_special_event() is a stub method for the shared processing switch (numError) { case ERROR_01 : // intentional fall-through case ERROR_07 : // intentional fall-through case ERROR_0A : // intentional fall-through case ERROR_10 : // intentional fall-through case ERROR_15 : // intentional fall-through case ERROR_16 : // intentional fall-through case ERROR_20 : { fire_special_event(); } break; default: { // error codes that require no additional action } break; } versus an if statement if ((ERROR_01 == numError) || (ERROR_07 == numError) || (ERROR_0A == numError) || (ERROR_10 == numError) || (ERROR_15 == numError) || (ERROR_16 == numError) || (ERROR_20 == numError)) { fire_special_event(); } I disagree I don't think this is subjective. A simple ASM difference matters you can't just disregard a few seconds of optimization in many cases. And in this question it isn't a religious war or debate there is rational explanation of why one would be faster just read the accepted answer. This is edited as 'subjective'? Really? Surely 'subjective' is for things which can't be proven one way or another? Sure you can see it from the point of which generates the most efficient code but any modern compiler should be equally efficient. In the end this is more a question of the colour of the bicycle shed. For the special case that you've provided in your example the clearest code is probably: if (RequiresSpecialEvent(numError)) fire_special_event(); Obviously this just moves the problem to a different area of the code but now you have the opportunity to reuse this test. You also have more options for how to solve it. You could use std::set for example: bool RequiresSpecialEvent(int numError) { return specialSet.find(numError) != specialSet.end(); } I'm not suggesting that this is the best implementation of RequiresSpecialEvent just that it's an option. You can still use a switch or if-else chain or a lookup table or some bit-manipulation on the value whatever. The more obscure your decision process becomes the more value you'll derive from having it in an isolated function. This is so true. The readability is so much better than both the switch and the if-statements. I was actually going to answer something like this myself but you beat me to it. :-)  I know its old but public class SwitchTest { static final int max = 100000; public static void main(String[] args) { int counter1 = 0; long start1 = 0l; long total1 = 0l; int counter2 = 0; long start2 = 0l; long total2 = 0l; boolean loop = true; start1 = System.currentTimeMillis(); while (true) { if (counter1 == max) { break; } else { counter1++; } } total1 = System.currentTimeMillis() - start1; start2 = System.currentTimeMillis(); while (loop) { switch (counter2) { case max: loop = false; break; default: counter2++; } } total2 = System.currentTimeMillis() - start2; System.out.println(""While if/else: "" + total1 + ""ms""); System.out.println(""Switch: "" + total2 + ""ms""); System.out.println(""Max Loops: "" + max); System.exit(0); } } Varying the loop count changes a lot: While if/else: 5ms Switch: 1ms Max Loops: 100000 While if/else: 5ms Switch: 3ms Max Loops: 1000000 While if/else: 5ms Switch: 14ms Max Loops: 10000000 While if/else: 5ms Switch: 149ms Max Loops: 100000000 (add more statements if you want) Good point but sry dude you're in the wrong language. Varying the language changes a lot ;)  Use switch. In the worst case the compiler will generate the same code as a if-else chain so you don't lose anything. If in doubt put the most common cases first into the switch statement. In the best case the optimizer may find a better way to generate the code. Common things a compiler does is to build a binary decision tree (saves compares and jumps in the average case) or simply build a jump-table (works without compares at all). @NilsPipenbrinck with the ease of building pseudo-recursive `if`-`else` chains in template meta programming and the difficulty of generating `switch` `case` chains that mapping may become more important. (and yes ancient comment but the web is forever or at least until next tuesday) Can someone edit this to change loose to lose? Note that a series of ifs could theoretically be analyzed out to be the same as a switch by a compiler but why take the chance? By using a switch you are communicating exactly what you want which does make code generation easier. jakoben: That could be done but only for switch-like if/else chains. In practice these don't occur because programmers use switch. I digged into compiler technology and trust me: Finding such ""useless"" constructs takes a lot of time. For compiler guys such an optimization does mot make sense. Technically there will still be one compare to make sure the enum's value lies within the jump table. Jep. That's true. Switching on enums and handling all cases may get rid of the last compare though.  Use switch it is what it's for and what programmers expect. I would put the redundant case labels in though - just to make people feel comfortable I was trying to remember when / what the rules are for leaving them out. You don't want the next programmer working on it to have to do any unnecessary thinking about language details (it might be you in a few months time!)  I would pick the if statement for the sake of clarity and convention although I'm sure that some would disagree. After all you are wanting to do something if some condition is true! Having a switch with one action seems a little... unneccesary.  IMO this is a perfect example of what switch fall-through was made for. in c# this is the only case where fall thought happens. Good argument right there.  They work equally well. Performance is about the same given a modern compiler. I prefer if statements over case statements because they are more readable and more flexible -- you can add other conditions not based on numeric equality like "" || max < min "". But for the simple case you posted here it doesn't really matter just do what's most readable to you.  Code for readability. If you want to know what performs better use a profiler as optimizations and compilers vary and performance issues are rarely where people think they are.  Compiler will optimise it anyway - go for the switch as it's the most readable. Chances are that compiler will not touch if-then-else. In fact `gcc` will not do that for sure (there is a good reason for that). Clang will optimize both cases into a binary search. For example see [this](http://lazarenko.me/2013/01/13/switch-statement-machine-code/).  Aesthetically I tend to favor this approach. unsigned int special_events[] = { ERROR_01 ERROR_07 ERROR_0A ERROR_10 ERROR_15 ERROR_16 ERROR_20 }; int special_events_length = sizeof (special_events) / sizeof (unsigned int); void process_event(unsigned int numError) { for (int i = 0; i < special_events_length; i++) { if (numError == special_events[i]) { fire_special_event(); break; } } } Make the data a little smarter so we can make the logic a little dumber. I realize it looks weird. Here's the inspiration (from how I'd do it in Python): special_events = [ ERROR_01 ERROR_07 ERROR_0A ERROR_10 ERROR_15 ERROR_16 ERROR_20 ] def process_event(numError): if numError in special_events: fire_special_event() Yuck. You've turned an O(1) worst-case operation (if jump tables are generated) into O(N) worst-case (where N is the number of cases handled) **and** you used a `break` outside a `case` (yes a minor sin but a sin nonetheless). :) Yuck? He said performance and space are not critical. I was simply proposing another way of looking at the problem. If we can represent a problem in a way where humans get to think less then I usually don't care if it means computers have to think more. For the Python case use a set instead of a list... A language's syntax *does* have an effect on how we implement a solution... => It looks ugly in C and nice in Python. :) Use bitmaps? If error_0a is 0x0a etc you could put them as bits in a long long. long long special_events=1LL<<1 | 1LL<<7 | 1LL<<0xa ... Then use if (special_events & (1LL<I would say use SWITCH. This way you only have to implement differing outcomes. Your ten identical cases can use the default. Should one change all you need to is explicitly implement the change no need to edit the default. It's also far easier to add or remove cases from a SWITCH than to edit IF and ELSEIF. switch(numerror){ ERROR_20 : { fire_special_event(); } break; default : { null; } break; } Maybe even test your condition (in this case numerror) against a list of possibilities an array perhaps so your SWITCH isn't even used unless there definately will be an outcome. Completely got the wrong end of the stick! There are about 30 errors total. 10 require the special action so I am using the default for the ~20 errors that do not require an action...  If your cases are likely to remain grouped in the future--if more than one case corresponds to one result--the switch may prove to be easier to read and maintain.  while (true) != while (loop) Probably the first one is optimised by the compiler that would explain why the second loop is slower when increasing loop count.  switch is definitely preferred. It's easier to look at a switch's list of cases & know for sure what it is doing than to read the long if condition. The duplication in the if condition is hard on the eyes. Suppose one of the == was written !=; would you notice? Or if one instance of 'numError' was written 'nmuError' which just happened to compile? I'd generally prefer to use polymorphism instead of the switch but without more details of the context it's hard to say. As for performance your best bet is to use a profiler to measure the performance of your application in conditions that are similar to what you expect in the wild. Otherwise you're probably optimizing in the wrong place and in the wrong way.  I agree with the compacity of the switch solution but IMO you're hijacking the switch here. The purpose of the switch is to have different handling depending on the value. If you had to explain your algo in pseudo-code you'd use an if because semantically that's what it is: if whatever_error do this... So unless you intend someday to change your code to have specific code for each error I would use if. I disagree for the same reason that I disagree with the fall-though case. I read the switch as ""In cases 01070A101516 and 20 fire special event."" There's no fall-though to another section. This is just an artifact of the C++ syntax where you repeat the 'case' keyword for each value.  The switch is faster. Just try if/else-ing 30 different values inside a loop and compare it to the same code using switch to see how much faster the switch is. Now the switch has one real problem : The switch must know at compile time the values inside each case. This means that the following code: // WON'T COMPILE extern const int MY_VALUE ; void doSomething(const int p_iValue) { switch(p_iValue) { case MY_VALUE : /* do something */ ; break ; default : /* do something else */ ; break ; } } won't compile. Most people will then use defines (Aargh!) and others will declare and define constant variables in the same compilation unit. For example: // WILL COMPILE const int MY_VALUE = 25 ; void doSomething(const int p_iValue) { switch(p_iValue) { case MY_VALUE : /* do something */ ; break ; default : /* do something else */ ; break ; } } So in the end the developper must choose between ""speed + clarity"" vs. ""code coupling"". (Not that a switch can't be written to be confusing as hell... Most the switch I currently see are of this ""confusing"" category""... But this is another story...) Edit 2008-09-21: bk1e added the following comment: ""Defining constants as enums in a header file is another way to handle this"". Of course it is. The point of an extern type was to decouple the value from the source. Defining this value as a macro as a simple const int declaration or even as an enum has the side-effect of inlining the value. Thus should the define the enum value or the const int value change a recompilation would be needed. The extern declaration means the there is no need to recompile in case of value change but in the other hand makes it impossible to use switch. The conclusion being Using switch will increase coupling between the switch code and the variables used as cases. When it is Ok then use switch. When it isn't then no surprise. . Edit 2013-01-15: Vlad Lazarenko commented on my answer giving a link to his in-depth study of the assembly code generated by a switch. Very enlightning: http://741mhz.com/switch/ Switch is [not __always__ faster](http://lazarenko.me/2013/01/13/switch-statement-machine-code/). @Vlad Lazarenko : Thanks for the link! It was a very interesting read. Defining constants as enums in a header file is another way to handle this.  Im not the person to tell you about speed and memory usage but looking at a switch statment is a hell of a lot easier to understand then a large if statement (especially 2-3 months down the line)  The Switch if only for readability. Giant if statements are harder to maintain and harder to read in my opinion. ERROR_01 : // intentional fall-through or (ERROR_01 == numError) || The later is more error prone and requires more typing and formatting than the first.  Please use the switch. The if statement will take time proportional to the number of conditions.  Seeing as you only have 30 error codes code up your own jump table then you make all optimisation choices yourself (jump will always be quickest) rather than hope the compiler will do the right thing. It also makes the code very small (apart from the static declaration of the jump table). It also has the side benefit that with a debugger you can modify the behaviour at runtime should you so need just by poking the table data directly. Wow that seems like a way to turn a simple problem into a complex one. Why go to all that trouble when the compiler will do a great job for you. Plus it's apparently an error handler so it's not likely to be so speed critical. A switch is by far the easiest thing to read and maintain. A table is hardly complex - in fact it's probably simpler than a switch to code. And the statement did mention performance was a factor.  I'm not sure about best-practise but I'd use switch - and then trap intentional fall-through via 'default' wait ... what?",0.0073243067912514516,0.008986359789608446,0.9836893334191401
26025,"Cleanest & Fastest server setup for Django I'm about to deploy a mediumsized site powered by Django. I have a dedicated Ubuntu Server. I'm really confused over which serversoftware to use. So i thought to myself: why not ask stackoverflow. What i'm looking for is: Easy to set up Fast and easy on resources Can serve mediafiles Able to serve multiple djangosites on same server I would rather not install PHP or anything else that sucks resources and for which I have no use for. I have heard of mod_wsgi and mod_python on Apache nginx and lighty. Which are the pros and cons of these and have i missed someone? @Barry: Somehow i feel like Apache is to bloated for me. What about the alternatives? @BrianLy: Ok I'll check out mod_wsgi some more. But why do i need Apache if i serve static files with lighty? I have also managed to serve the django app itself with lighty. Is that bad in anyway? Sorry for beeing so stupid :-) UPDATE: What about lighty and nginx - which are the uses-cases when these are the perfect choice? I have a warning for using Cherokee. When you make changes to Django Cherokee maintains the OLD process instead of killing it and starting a new one. On Apache i strongly recommend this article. http://www.djangofoo.com/17/django-mod_wsgi-deploy-exampl Its easy to setup easy to kill or reset after making changes. Just type in terminal sudo /etc/init.d/apache2 restart and changes are seen instantly.  There are many ways approach to do this.For that reason I recommend to read carefully the article related to the deployment process on DjangoAdvent.com: Eric Florenzano - Deploying Django with FastCGI: http://djangoadvent.com/1.2/deploying-django-site-using-fastcgi/ Read too: Mike Malone - Scaling Django Stochastictechnologies Blog: The perfect Django Setup Mikkel Hoegh Blog: 35 % Response-time-improvement-switching-uwsgi-nginx Regards  I'm using Cherokee. According to their benchmarks (grain of salt with them) it handles load better than both Lighttpd and nginx... But that's not why I use it. I use it because if you type cherokee-admin it starts a new server that you can log into (with a one-time password) and configure the whole server through a beautifully-done webmin. That's a killer feature. It has already saved me a lot of time. And it's saving my server a lot of resources! As for django I'm running it as a threaded SCGI process. Works well. Cherokee can keep it running too. Again very nice feature. The current Ubuntu repo version is very old so I'd advise you use their PPA. Good luck.  As @Barry said the documentation uses mod_python. I haven't used Ubuntu as a server but had a good experience with mod_wsgi on Solaris. You can find documentation for mod_wsgi and Django on the mod_wsgi site. A quick review of your requirements: Easy to setup I've found apache 2.2 fairly easy to build and install. Fast and easy on resources I would say that this depends on your usage and traffic. * You may not want to server all files using Apache and use LightTPD (lighty) to server static files. Can serve media files I assume you mean images flash files? Apache can do this. Multiple sites on same server Virtual server hosting on Apache. Rather not install other extensions Comment out anything you don't want in the Apache config. I've got a setup like this - I'm use mod_wsgi to serve most of the site but have Alias directives to force Apache to handle the serving of static files from /media and /admin_media. Given that we're talking about a ""mediumsized site"" there's probably not a lot of need to mess with 'simpler' alternatives.  If you're using lighthttpd you can also use FastCGI for serving Django. I'm not sure how the speed compares to mod_wsgi but if memory serves correctly you get a couple of the benefits that you would get with mod_wsgi that you wouldn't get with mod_python. The main one being that you can give each application its own process (which is really helpful for keeping memory of different apps separated as well as for taking advantage of multi-core computers. Edit: Just to add in regards to your update about nginix if memory serves correctly again nginix uses ""greenlets"" to handle concurrency. This means that you may need to be a little bit more careful to make sure that one app doesn't eat up all the server's time. nginx is a single-threaded server; but the backends (either HTTP FastCGI or whatever) are separate processes.  The best configuration is not so known I think. But here is: Use nginx for serving requests (dynamic to app static content directly). Use python web server for serving dynamic content. Two most speedy solutions for python-based web server is: cogen fapws2 You need to look into google to find current best configuration for django (still in development).  We use nginx and FastCGI for all of our Django deployments. This is mostly because we usually deploy over at Slicehost and don't want to donate all of our memory to Apache. I guess this would be our ""use case"". As for the remarks about the documentation being mostly in Russian -- I've found most of the information on the English wiki to be very useful and accurate. This site has sample configurations for Django too from which you can tweak your own nginx configuration. I once had a problem with nginx that wasn't completely explained in the English documentation. I ran one Russian line through the translator (Google) and the problem was solved. So the Russian side of the documentation is more complete. @stesch: interesting. care to elaborate?  Keep it simple: Django recommends Apache and mod_wsgi (or mod_python). If serving media files is a very big part of your service consider Amazon S3 or Rackspace CloudFiles. Configuring apache is not simplier than nginx/lighttpd. +1. Apache + mod_wsgi is recommended. Lacking links about claims though.  I’m using nginx (0.6.32 taken from Sid) with mod_wsgi. It works very well though I can’t say whether it’s better than the alternatives because I never tried any. Nginx has memcached support built in which can perhaps interoperate with the Django caching middleware (I don’t actually use it instead I fill the cache manually using python-memcache and invalidate it when changes are made) so cache hits completely bypass Django (my development machine can serve about 3000 requests per second). A caveat: nginx’ mod_wsgi highly dislikes named locations (it tries to pass them in SCRIPT_NAME) so the obvious ‘error_page 404 = @django’ will cause numerous obscure errors. I had to patch mod_wsgi source to fix that.  In my opinion best/fastest stack is varnish-nginx-uwsgi-django. And I'm successfully using it.  Since I was looking for some more in-depth answers I decided to research the issue myself in depth. Please let me know if I've misunderstood anything. Some general recommendation are to use a separate webserver for handling media. By separate I mean a webserver which is not running Django. This server can be for instance: Lighttpd (Lighty) Nginx (EngineX) Or some other light-weight server Then for Django you can go down different paths. You can either: Serve Django via Apache and: mod_python This is the stable and recommended/well documented way. Cons: uses a lot of memory. mod_wsgi From what I understand mod_wsgi is a newer alternative. It appears to be faster and easier on resources. mod_fastcgi When using FastCGI you are delegating the serving of Django to another process. Since mod_python includes a python interpreter in every request it uses a lot of memory. This is a way to bypass that problem. Also there is some security concerns. What you do is that you start your Django FastCGI server in a separate process and then configures apache via rewrites to call this process when needed. Or you can: Serve Django without using Apache but with another server that supports FastCGI natively: (The documentation mentions that you can do this if you don't have any Apache specific needs. I guess the reason must be to save memory.) Lighttpd This is the server that runs Youtube. It seems fast and easy to use however i've seen reports on memoryleaks. nginx I've seen benchmarks claiming that this server is even faster than lighttpd. It's mostly documented in Russian though. Another thing due to limitations in Python your server should be running in forked mode not threaded. So this is my current research but I want more opinions and experiences. The mod_python module need not consume lots more memory. The view that it does has grown to be a bit of an urban myth when reality is that the memory problems people were having were caused by how mod_python/Python had been installed and how Apache had been configured. The first issue was that in the past Python often wasn't installed with a shared library. This mean mod_python had to link it statically causing local memory to be used due to address relocations. The other problem is people using prefork which is better for PHP but sucks for Python.  I'm struggling to understand all the options as well. In this blog post I found some benefits of mod_wsgi compared to mod_python explained. Multiple low-traffic sites on a small VPS make RAM consumption the primary concern and mod_python seems like a bad option there. Using lighttpd and FastCGI I've managed to get the minimum memory usage of a simple Django site down to 58MiB virtual and 6.5MiB resident (after restarting and serving a single non-RAM-heavy request). I've noticed that upgrading from Python 2.4 to 2.5 on Debian Etch increased the minimum memory footprint of the Python processes by a few percent. On the other hand 2.5's better memory management might have a bigger opposite effect on long-running processes.  The officially recommended way to deploy a django project is to use mod_python with apache. This is described in the documentation. The main pro with this is that it is the best documented most supported and most common way to deploy. The con is that it probably isn't the fastest. I couldn't get it going on apache and I tried many times I didn't find the support great the tutorials only show a piece of the puzzle. You have to become an apache expert it seems.. I suggest nginx/gunicorn with eventlet or nginx/uwsgi using sockets. Both work great and are easy to configure! Though Django supporting community on #django freenode agrees that the docs is just outdated officially recommended way is mod_wsgi.",0.9432704579180641,0.03069849548071142,0.026031046601224458
24849,"Is there some way to introduce a delay in javascript? Is there some function like delay() or wait() for delaying executing of the JavaScript code for a specific number of milliseconds? There is the setTimeout( function_reference timeoutMillis ); function which can be passed the time after which the function will be executed. It's not a expression that is executed it's a function. @Marius' answer illustrates that. this is not a delay it's a fork. Delay should work in same thread. Delay should work synchronously. This is asynchronous.  To add on the earlier comments I would like to say the following : The setTimeout() function in JavaScript does not pause execution of the script per se but merely tells the compiler to execute the code sometime in the future. There isn't a function that can actually pause execution built into JavaScript. However you can write your own function that does something like an unconditional loop till the time is reached by using the Date() function and adding the time interval you need.  You can also use window.setInterval() to run some code repeatedly at a regular interval. setInterval() should n't be use instead should use setTimeout `setTimeout()` does it once `setInterval()` does it repeatedly. If you want your code run every 5 seconds `setInterval()` is made for the job.  You need to use setTimeout and pass it a callback function. The reason you can't use sleep in javascript is because you'd block the entire page from doing anything in the meantime. Not a good plan. Use Javascript's event model and stay happy. Don't fight it! Still it would be useful for testing purposes. Like delaying a form submission for a few seconds to evaluate page changes before a new HTTP request is made. @rushinge then set the callback to submit the form and disable the default form submit  Just to add to what everyone else have said about setTimeout: If you want to call a function with a parameter in the future you need to set up some anonymous function calls. You need to pass the function as an argument for it to be called later. In effect this means without brackets behind the name. The following will call the alert at once and it will display 'Hello world': var a = ""world""; setTimeout(alert(""Hello "" + a) 2000); To fix this you can either put the name of a function (as Flubba has done) or you can use an anonymous function. If you need to pass a parameter then you have to use an anonymous function. var a = ""world""; setTimeout(function(){alert(""Hello "" + a)} 2000); a = ""Stack Overflow""; But if you run that code you will notice that after 2 seconds the popup will say 'Hello Stack Overflow'. This is because the value of the variable a has changed in those two seconds. To get it to say 'Hello world' after two seconds you need to use the following code snippet: function callback(a){ return function(){ alert(""Hello "" + a); } } var a = ""world""; setTimeout(callback(a) 2000); a = ""Stac Overflow""; It will wait 2 seconds and then popup 'Hello world'. +1 this answer includes important details that other missed.  If you really want to have a blocking (synchronous) delay function (for whatsoever) why not do something like this: <script type=""text/javascript""> function delay(ms) { var cur_d = new Date(); var cur_ticks = cur_d.getTime(); var ms_passed = 0; while(ms_passed < ms) { var d = new Date(); // Possible memory leak? var ticks = d.getTime(); ms_passed = ticks - cur_ticks; // d = null; // Prevent memory leak? } } alert(""2 sec delay"") delay(2000); alert(""done ... 500 ms delay"") delay(500); alert(""done""); </script> The difficulty with this solution is that it actively uses a processor which leads to increased power usage and a decrease in resources available for other threads/processes (e.g. other tabs other programs). Sleep by contrast temporarily suspends a thread's use of system resources.  Just to expand a little... You can execute code directly in the setTimeout call but as @patrick says you normally assign a callback function like this. The time is milliseconds setTimeout(func 4000); function func() { alert('Do stuff here'); }",0.030969081669714613,0.8289610996364063,0.14006981869387916
53081,"HTML meta keyword/description element useful or not? Does filling out HTML meta description/keyword tags matter for SEO? Google will use meta tags but the description to better summarize your site. They won't help to increase your page rank. See: http://www.google.com/support/webmasters/bin/answer.py?hl=en&answer=79812 EDIT: @Petr are you sure that meta tags influence page rank? I am pretty sure that they don't but if you have some references I'd love to learn more about this. I have seen this from the Official Google Webmaster Central Blog which is what leads me to believe that they don't: Even though we sometimes use the description meta tag for the snippets we show we still don't use the description meta tag in our ranking. It can increase page rank as a secondary effect. @Petr would you care to elaborate? I have edited my answer with more information as to why I thought that was not true. I think he means that if you put a good description users are more likely to click. People clicking your link **does** increase your page rank because it tells google people are interested. As a **very indirect** effect the person who clicked only because of your great description may link to your website from theirs therefore increasing your page rank even more.  If your pages are part of an intranet then both the keywords and description meta tags can be very useful. If you have access to the search engine crawling your pages (and thus you can specifically look for sepcific tags/markup) they can add tremendous value without costing you too much time and are easy to change. For pages outside of an intranet you may have less success with keywords for reasons mentioned above.  If you want your users to share your content on Facebook the meta tags actually come in handy as Facebook will use this information when styling the post. See Facebook Share Partners for more information. Edit; whoops wrong url. Fixed.  This article has some info on it. A quick summary is: Google and Microsoft: No Yahoo and Ask: Yes The ""description"" meta information is used by Google when describing your site so its not completely pointless. Doesn't the description meta used when no DMOZ description (or explicity specified) is available ?!  The problem with keyword meta tags is they are a completely unreliable source of information for search engines. The temptation for people to alter search results in their favour with misleading keywords is just too great.  Those are two of the things that are used by search engines. The exact weight of each changes frequently they are generally regarded; however as being fairly important. One thing to note care should be taken when entering values. The more relevant the keywords and description are to the textual content of the site the more weight may be given to them. Of course there are no guarantees as nobody outside of the search engine companies really know what algorithms are being used. This post talks a bit more about some aspects.  Keywords: Useless All major search engines don't use them at all. Description: Useful! Replaces the default text in search engines if there isn't anything better. Use this to describe the page properly. Not perhaps useful for SEO but it makes your results look more useful and will hopefully increase click through rates by users.",0.020196068737080325,0.9237334022424489,0.0560705290204707
8154,Pylons error - 'MySQL server has gone away' [I hope this isn't too obscure… I'll ask the newsgroup if nobody knows here] I'm using Pylons (a python framework) to serve a simple web application but it seems to die from time to time with this in the error log: (2006 'MySQL server has gone away') I did a bit of checking and saw that this was because the connections to MySQL were not being renewed. This shouldn't be a problem though because the sqlalchemy.pool_recycle in the config file should automatically keep it alive. The default was 3600 but I dialed it back to 1800 because of this problem. It helped a bit but 3600 should be fine according to the docs. The errors still happen semi-regularly. I don't want to lower it too much though and DOS my own database :). Maybe something in my MySQL config is goofy? Not sure where to look exactly. Other relevant details:  Python 2.5 Pylons: 0.9.6.2 (w/ sql_alchemy) MySQL: 5.0.51 I got this error after a script I wrote went AWOL and inserted 10000 rows into a table simultaneously. Seemed like a failsafe to me - not sure if that relates to your problem... I think I fixed it. It's turns out I had a simple config error. My ini file read: sqlalchemy.default.url = [connection string here] sqlalchemy.pool_recycle = 1800 The problem is that my environment.py file declared that the engine would only map keys with the prefix: sqlalchemy.default so pool_recycle was ignored. The solution is to simply change the second line in the ini to: sqlalchemy.default.pool_recycle = 1800 Just recently saw some traffic on this post. It should be noted that this issue was relating to Pylons 0.9.6. This should be taken care of in Pylons 0.9.7 and the 'sqlalchemy.default' property goes away in favor of just plain 'sqlalchemy'  You might want to check MySQL's timeout variables: show variables like '%timeout%'; You're probably interested in wait_timeout (less likely but possible: interactive_timeout). On Debian and Ubuntu the defaults are 28800 (MySQL kills connections after 8 hours) but maybe the default for your platform is different or whoever administrates the server has configured things differently. AFAICT pool_recycle doesn't actually keep the connections alive it expires them on its own before MySQL kills them. I'm not familiar with pylons but if causing the connections to intermittently do a SELECT 1; is an option that will keep them alive at the cost of basically no server load and minimal network traffic. One final thought: are you somehow managing to use a connection that pylons thinks it has expired? I can't say for certain; I don't know the internals of Pylons well enough yet. I haven't had a chance to poke through the documentation yet either (busy busy). I don't think the SELECT 1; thing is an option though seems kind of kludgey too :).,0.777628455953041,0.13484641863012387,0.08752512541683521
26984,"What is the general rule of thumbs for creating an Exception in Java? I have been in both situations: Creating too many custom Exceptions Using too many general Exception class In both cases the project started OK but soon became an overhead to maintain (and refactor). So what is the best practice regarding the creation of your own Exception classes? I recommend reading ""Effective Java"" chapter 9 as it covers these and other aspects related to exceptions. Basically each job deserves an own exception. When you catch exceptions you don't distinguish different instances like you would normally do with objects therefore you need different subtypes. Using too many custom exceptions is a case which I see hardly occurring. One advice would be to create exceptions as needed and if it becomes apparent that one exception type is a duplicate of another refactor the code by merging the two. Of course it helps if some thought goes into structuring exceptions from the beginning. But generally use custom exceptions for all cases that have no 1:1 correspondence to existing situation-specific exceptions. On the other hand NullPointerExceptions and IndexOutofBoundsExceptions might actually often be appropriate. Don't catch these though (except for logging) as they're a programming error which means that after throwing them the program is in an undefined state.  While creating your own exception: All exceptions must be a child of the Throwable Class If you want to write a checked exception that is automatically enforced by the Handle or Declare Rule you need to extend the Exception Class If you want to write a runtime execption you need to extend the Runtime Exception Class. Welcome! And good job getting started on the site  My rule of thumb is when the client (the caller) might reasonably want to do something different depending on the type of exception thrown the additional exception types are warranted. More often than not however the extra exception types are not needed. For instance if the caller is writing code like try { doIt(); } catch (ExceptionType1 ex1) { // do something useful } catch (ExceptionType2 ex2) { // do the exact same useful thing that was done in the block above } then clearly the additional exception types are not needed. All too often I see (or am forced to write) code like this because the code being called was overzealous in its creation of new exception types.  Don't do what the developers at my company did. Somebody created an [sic] InvalidArguementException that parallels java.lang.IllegalArgumentException and we now use it in (literally) hundreds of classes. Both indicate that a method has been passed an illegal or inappropriate argument. Talk about a waste... Joshua Bloch covers this in Effective Java Programming Language Guide [my bible of first resort on Best Practices] Chapter 8. Exceptions Item 42: Favor the use of standard exceptions. Here's a bit of what he says Reusing preexisting exceptions has several benefits. Chief among these it makes your API easier to learn and use because it matches established conventions with which programmers are already familiar [my emphasis not Bloch's]. A close second is that programs using your API are easier to read because they aren't cluttered with unfamiliar exceptions. Finally fewer exception classes mean a smaller memory footprint and less time spent loading classes. The most commonly reused exception is IllegalArgumentException. This is generally the exception to throw when the caller passes in an argument whose value is inappropriate. For example this would be the exception to throw if the caller passed a negative number in a parameter representing the number of times some action were to be repeated. That said you should never throw Exception itself. Java has a well-chosen diverse and well-targeted bunch of built-in exceptions that cover most situations AND describe the exception that occurred well enough so that you can remedy the cause. Be friendly to the programmers who have to maintain your code in the future.  The Java Specialists wrote a post about Exceptions in Java and in it they list a few ""best practices"" for creating Exceptions summarized below: Don't Write Own Exceptions (there are lots of useful Exceptions that are already part of the Java API) Write Useful Exceptions (if you have to write your own Exceptions make sure they provide useful information about the problem that occurred)  My own rule of thumb: I never throw Exception except in unit tests when what you throw is irrelevant and theres no reason to spend any extra time on it. I create my own custom exception type for errors occuring in my custom business logic. This exception type is used as much as possible for recasting other exceptions except in cases where it makes sense for the client to have visibility into what actually occurred.  If I can't find an exception that has a name describing what type of error was caused then I make my own. That's my rule-o-thumb.",0.035057428664978796,0.13614032699928996,0.8288022443357311
74350,"How to fix an MFC Painting Glitch? I'm trying to implement some drag and drop functionality for a material system being developed at my work. Part of this system includes a 'Material Library' which acts as a repository divided into groups of saved materials on the user's hard drive. As part of some UI polish I was hoping to implement a 'highlight' type feature. When dragging and dropping windows that you can legally drop a material onto will very subtly change color to improve feedback to the user that this is a valid action. In the included screenshot I am changing the bar with 'Basic Materials' (Just a CWnd with a CStatic) from having a medium gray background when unhighlighed to a blue background when hovered over. It all works well the OnDragEnter and OnDragExit messages seem robust and set a flag indicating the highlight status. Then in OnCtrlColor I do this:  if (!m_bHighlighted) { pDC->FillSolidRect(0 0 m_SizeX kGroupHeaderHeight kBackgroundColour); } else { pDC->FillSolidRect(0 0 m_SizeX kGroupHeaderHeight kHighlightedBackgroundColour); } However as you can see in the screenshot the painting 'glitches' below the dragged object leaving the original gray in place. It looks really ugly and basically spoils the whole effect. Is there any way I can get around this? MFC isn't fun at the best of times and this is causing me to tear my hair out. All help gratefully appreciated. It almost looks like the CStatic doesn't know that it needs to repaint itself so the background color of the draggable object is left behind. Maybe try to invalidate the CStatic and see if that helps at all?  Thanks for the answers guys ajryan you seem to always come up with help for my questions so extra thanks. Thankfully this time the answer was fairly straightforward.... ImageList_DragShowNolock(FALSE); m_pDragDropTargetWnd->SendMessage(WM_USER_DRAG_DROP_OBJECT_DRAG_ENTER (WPARAM)pDragDropObject (LPARAM)(&dragDropPoint)); ImageList_DragShowNolock(TRUE); This turns off the drawing of the dragged image then sends a message to the window being entered to repaint in a highlighted state then finally redraws the drag image over the top. Seems to have done the trick.  Remote debugging is a godsend for debugging visual issues. It's a pain to set up but having a VM ready for remote debugging will pay off for sure. What I like to do is set a ton of breakpoints in my paint handling as well as in the framework paint code itself. This allows you to effectively ""freeze frame"" the painting without borking it up by flipping into devenv. This way you can get the true picture of who's painting in what order and where you've got the chance to break in a fill that rect the way you need to.",0.025018318091616757,0.8866727020654096,0.08830897984297358
31394,"Java: Programatic Way to Determine Current Windows User I see many similar questions however I want to find the Username of the currently logged in user using Java. Its probably something like: System.getProperty(current.user); But I'm not quite sure. The commonly available system properties are documented in the System.getProperties() method. As Chris said ""user.name"" is the property to get the user running your app.  You're actually really close. This is what you're looking for: System.getProperty(""user.name"")",0.3969171088205247,0.4021041040118339,0.20097878716764156
35762,"Linux GUI development I have a large GUI project that I'd like to port to Linux. What is the best framework to use for GUI programming in Linux? Should KDE / Gnome frameworks be used? Or can I use something more generic other than X? I feel like if I chose one of Gnome or KDE I'm closing the market out for a chunk of the Linux market who have chosen one over the other. (Yes I know there is overlap) Is there a better way? Or would I have to create 2 complete GUI apps to have near 100% coverage? I do not need a cross platform solution that will work on Win32. Gnome apps work on KDE desktops and vice versa; you won't be locking anyone out. As far as toolkits go it's fairly subjective. All of the toolkits are fairly cross-platform. If you're not open source then GTK+ would be the cheaper option as Qt is only free for open source use whereas GTK+ is LGPL. Update: nowadays also Qt is LGPL: http://www.qtsoftware.com/about/licensing/frequently-asked-questions Indeed. It is a great improvement over the previous situation.  Have you thought of using Mono? Programs like Paint.NET work great under Linux & Windows.  Your best bet may be to port it to a cross-platform widget library such as wxWidgets which would give you portability to any platform wxWidgets supports. It's also important to make the distinction between Gnome libraries and GTK and likewise KDE libraries and Qt. If you write the code to use GTK or Qt it should work fine for users of any desktop environment including less popular ones like XFCE. If you use other Gnome or KDE-specific libraries to do non-widget-related tasks your app would be less portable between desktop environments. I have used wxPython to implement GUIs. Both Python & wxWidgets are portable across all the main platforms and with wxWidgets applications look ""native"". Apparently (I've never tried it) PY2EXE works with wxPython. 2 years on I'm faced with the same problem as the OP; this is the first reasonably clear answer I read. Has anything changed in the meantime?  I recommend wxWidgets or Qt. They are both mature well-structured and cross-platform with decent documentation and sample source code.",0.11540949036482989,0.0917230753562873,0.7928674342788827
24678,"JavaScript editor within Eclipse I'm looking for the best JavaScript editor available as an Eclipse plugin. I've been using Spket which is good. But is there more better one? This question and the answers were very helpful to me despite it being ""not constructive."" good question I would have asked the same and see it as constructive as the IDE that we choose is just an important decision as what we actually code. The IDE is the tool the best tools make your job easier. I had the same question good information here Hmm 113 upvotes so far vs. ""Bill the Lizard"" who thinks this is ""not constructive"". Get a life Bill. Disclaimer I work at Aptana. I would point out there are some nice features for JS that you might not get so easily elsewhere. One is plugin-level integration of JS libraries that provide CodeAssist samples snippets and easy inclusion of the libraries files into your project; we provide the plugins for many of the more commonly used libraries including YUI jQuery Prototype dojo and EXT JS. Second we have a server-side JavaScript engine called Jaxer that not only lets you run any of your JS code on the server but adds file database and networking functionality so that you don't have to use a scripting language but can write the entire app in JS. I've tried Aptana briefly but it seemed a bit heavyweight for my taste. Maybe I should give it another chance. Aptana is great if you want the latest features and don't mind tons of bugs. It sucks otherwise. A general recommendation for anyone considering Aptana is: A) Do you need any features from it (eg. Aptana has the only CoffeeScript Eclipse editor around)? If not stick with Eclipse; B) If you do need features try installing Aptana SEPARATELY (Aptana will happily hose your whole Eclipse install if you install it as a plug-in) and then decide whether those features are worth the horrible stability (which hey by the time you're reading this might not be so horrible). The OP asked about a Javascript editor for Ext-JS. Well the lastest version of Ext-JS is v4 and for Aptana to work with it somebody needs to create an Aptana plugin which doesn't look like its going to happen any time soon. Check it out here: https://aptanastudio.tenderapp.com/discussions/suggestions/342-aptana-support-for-extjs-40 Does Aptana have something like JSEclipse' Content Outline feature? The version I used earlier this year did not. Hi I'm afraid I can't agree with the previous comment. I installed Aptana on this threads recommendation and for various reasons I now want to remove it. I've spent 15 minutes trying to figure out how to remove it from my Eclipse 3.4 config with no success - it seems to disable the uninstall buttons - and the only instructions I found on the Aptana site are for an older version of Eclipse. This is pretty frustrating - I would strongly suggest NOT installing Aptana. Indeed Aptana does not rock (for me anyway). I installed it to edit JS files but found it to be too slow and unresponsive to be of any real use espcially editing large files. It also seemed to cause performance issues in my other Eclipse plugins. I uninstalled it by reverting my configuration to a point prior to installation. I was having an issue with the js editor that comes with PDT (over a mapped drive cut/paste was very laggy/slow). I switched to Aptana and it didn't have that issue so it has my vote :-). Plus I prefer the Outline view it uses... Cheers everyone. Update: I installed the Beta version of the new Aptana Studio 3 and just as it promised the performance issues have been resolved. The new version looks good :) I attempted to install Aptana in the latest Eclipse (Helios) per the instructions on their site. The install finished but Eclipse crashed every time I started it. I had to manually remove all traces of Aptana from my eclipse directory to recover. Not much fun.  There once existed a plugin called JSEclipse that Adobe has subsequently sucked up and killed by making it available only by purchasing and installing FlexBuilder 3 (please someone prove me wrong). I found it to worked excellent but have since lost it since ""upgrading"" from Eclipse 3.4 to 3.4.1. The feature I liked most was Content Outline. In the Outline window of your Eclipse Screen JSEclipse lists all classes in the currently opened file. It provides an overview of the class hierarchy and also method and property names. The outline makes heavy use of the code completion engine to find out more about how the code is structured. By clicking on the function entry in the list the cursor will be taken to the function declaration helping you navigate faster in long files with lots of class and method definitions I am pretty sure anyone running eclipse can use JSEclipse not just Flex Builder owners .. Remote Site URL: http://download.macromedia.com/pub/labs/jseclipse/autoinstall/ .. should get you there pronto That download link is broken.  Try the Vjet Javascript IDE from ebay (installation) This is the one to watch as it is moving to the eclipse foundation: http://www.eclipse.org/proposals/webtools.vjet/  Oracle Workshop for WebLogic (formally BEA Workshop) has excellent support for JavaScript and for visually editing HTMLs. It support many servers not only WebLogic including Tomcat JBoss Resin Jetty and WebSphere. It recently became free check out my post about it. Given that it was an expensive product not long ago I guess it's worth checking out. It's not clear from your post whether ""Oracle Workshop for WebLogic"" is an Eclipse plugin?  Eclipse HTML Editor Plugin I too have struggled with this totally obvious question. It seemed crazy that this wasn't an extremely easy-to-find feature with all the web development happening in Eclipse these days. I was very turned off by Aptana because of how bloated it is and the fact that it starts up a local web server (by default on port 8000) everytime you start eclipse and you can't disable this functionality. Adobe's port of JSEclipse is now a 400Mb plugin which is equally insane. However I just found a super-lightweight javascript editor called Eclipse HTML Editor Plugin made by Amateras which was exactly what I was looking for. +1: Eclipse HTML Editor Plugin installation is very simple and straight-forward. Couldn't tell by looking does this have Javascript library content assist for Ext-JS 4? It looks like this plugin hasn't been updated since February 2011. Right @JacobMarble it is not working in juno! sad :-( And totally unhappy with Aptana's behavior as @Cory said. Anyway http://www.eclipse.org/webtools/jsdt/ looks perfect! There's an update to Eclipse HTML editor for Juno Support as of 12/28/2012 Can someone give a link to the update site that we could use to add the plugin to eclipse from the update manager? Forget it... I just found that I could validate the javascript by creating a new javascript project in eclipse. Btw inserting the downloaded Eclipse HTML Editor plugin jar into ECLIPSE_HOME/plugins didn't work for me (this is why I was looking for the update site). You can also drop it in ECLIPSE_HOME/dropins but that doesnt automagically fixes eclipse editor validations are disabled for default and you have to open the file in Amateras editor for the assist. Good one..thanks.. +1 for describing Aptana as bloated  The new release of Eclipse (Helios) has an especific package for javascript web development. I haven't tried it yet but it certainly worth a look.  Didn't use eclipse for a while but there are ATF and Aptana.  Ganymede's version of WTP includes a revamped Javascript editor that's worth a try. The key version numbers are Eclipse 3.4 and WTP 3.0. See http://live.eclipse.org/node/569 -1 million: eclipse's javascript editor is completely worthless. I cant even get it to save files without some kind of bizarre ""Compilation unit name must end with .java or one of the registered Java-like extensions"" error. Yeah they are .js files and the association is to the JavaScript Editor. Oddly enough I get this error even when opening the files with the normal Text editor. I have since given up on editing JavaScript with Eclipse. Does the file you're editing have one of the filename extensions listed for the JavaScript Source File content type? That's really strange Mike. Have you retried it with Indigo (Eclipse 3.7 and WTP 3.3)? If it's still happening could you file a bug report with more details? I have not yet. I will have to give it a try. Suggestion for Mike Miller from comment on #3: Eclipse bizzare error ""Compilation unit name must end with .java or one of the registered Java-like extensions"". I struggled over same error on a JSP file in Eclipse - the file wouldn't save because of breakpoints. Remove breakpoints and try save.",0.8588153356943692,0.1136893237392197,0.027495340566411102
40039,"How do I read and write raw ip packets from java on a mac? What would be the easiest way to be able to send and receive raw network packets. Do I have to write my own JNI wrapping of some c API and in that case what API am I looking for? EDIT: I want to be able to do what wireshark does i.e. record all incomming packets on an interface and in addition be able to send back my own created packets. And I want to do it on a mac. TINI is a java ethernet controller which may have libraries and classes for directly accessing data from ethernet frames to TCP streams. You may be able to find something in there that implements your needed classes. If not there should be pointers or user groups that will give you a head start.  Raw Socket for Java is a request for JDK for a looong long time. See the request here. There's a long discussion there where you can look for workarounds and solutions. I once needed this for a simple PING operation but I can't remember how I resolved this. Sorry :) Downvoter not me but can you try to recall the link/solution please. Why did I receive a downvote? The enhancement request link shows a lot of solutions to this problem and seems that Raw Socket is going to be part of JDK. ¬¬  If you start with the idea that you need something like a packet sniffer you'll want to look at http://netresearch.ics.uci.edu/kfujii/jpcap/doc/.  My best bet so far seems to be the BPF api and to write a thin JNI wrapper  You can't access raw sockets from pure Java so you will need some sort of layer between your Java code and the network interfaces. Also note that access to raw sockets is normally only available to ""root"" processes since otherwise any user could both a) sniff all traffic and b) generate spoofed packets. Rather than write your whole program so that it needs to run as ""root"" you might consider having the packet capture and generation done in a standalone program with some sort of IPC (RMI named pipe TCP socket etc) to exchange the data with your Java app. Any platform independant solutions? @Pacerier by definition it can't be platform independent although there are libraries which know about the platform and hide those dependencies from you. why is it that by definition it can't be platform independent? @Pacerier because every platform has different APIs to allow access to raw sockets. Every platform has different ways of doing even the most *basic* stuff. That does not mean it can't be platform independent. I would rather say Java didn't provide a platform independent interface to it.",0.7450116055951391,0.05637871227034902,0.19860968213451177
90413,"what is the best/easiest to use encryption library in python I want to encrypt few files using python what is the best way I can use gpg/pgp using any standard/famous python libraries? Basically i just want to encrypt some config files so that it is not readable buy other people but my program only. i don't want any foolproof solution here becuase i will any way have to decrypt files in my program or can there be a fool proof way of doing this? Encryption is a tricky subject. Please add more information about what you're encrypting and why and how your app needs to manage it. Specifically you need to talk about how the secrets should be managed -- that'll determine whether you should use public key encryption or just a shared secret. I like pyDes (http://twhiteman.netfirms.com/des.html). It's not the quickest but it's pure Python and works very well for small amounts of encrypted data.  Try KeyCzar Very easy to implement.  PyCrypto seems to be the best one around. PyCrypto has all major RSA padding schemes starting from v2.5. In addition to that it does not require any external library which is a plus I think. Why do yo say that? It's comprehensive and the original author AMK is a respected Python developer. Yes but its current maintainer does not have any releases out (as checked today) Pycrypto is quite incomplete. It lacks for example the padding schemes for asymmetric encryption schemes. Implementing them yourself is tricky and easily leads to insecure results. Much better is to use one of those libaries that are wrappers around well tested libs like openssl pgp or gpg.  I use pyOpenSSL its a python binding for OpenSSL which has been around for a long time and is very well tested. I did some benchmarks for my application which is very crypto intensive and it won hands down against pyCrypto. YMMV.  See Google's Keyczar project which provides a nice set of interfaces to PyCrypto's functionality.  I use GPGme The main strength of GPGme is that it read and writes files at the OpenPGP standard (RFC 4880) which can be important if you want to interoperate with other PGP programs. It has a Python interface. Warning: it is a low-level interface not very Pythonic. If you read French see examples. Here is one to check a signature: signed = core.Data(sys.stdin.read()) plain = core.Data() context = core.Context() context.op_verify(signed None plain) result = context.op_verify_result() sign = result.signatures while sign: if sign.status != 0: print ""BAD signature from:"" else: print ""Good signature from:"" print "" uid: "" context.get_key(sign.fpr 0).uids.uid print "" timestamp: "" sign.timestamp print "" fingerprint:"" sign.fpr sign = sign.next",0.3308293670348823,0.03816506634372638,0.6310055666213913
95731,"Why does an onclick property set with setAttribute fail to work in IE? Ran into this problem today posting in case someone else has the same issue. var execBtn = document.createElement('input'); execBtn.setAttribute(""type"" ""button""); execBtn.setAttribute(""id"" ""execBtn""); execBtn.setAttribute(""value"" ""Execute""); execBtn.setAttribute(""onclick"" ""runCommand();""); Turns out to get IE to run an onclick on a dynamically generated element we can't use setAttribute. Instead we need to set the onclick property on the object with an anonymous function wrapping the code we want to run. execBtn.onclick = function() { runCommand() }; BAD IDEAS: You can do execBtn.setAttribute(""onclick"" function() { runCommand() }); but it will break in IE in non-standards mode according to @scunliffe. You can't do this at all execBtn.setAttribute(""onclick"" runCommand() ); because it executes immediately and sets the result of runCommand() to be the onClick attribute value nor can you do execBtn.setAttribute(""onclick"" runCommand); Using HTML attributes as event handlers is a no-no. Do it like this: execBtn.onclick = runCommand; Write the function inline and the interpreter is smart enough to know you're writing a function. Do it like this and it assumes it's just a string (which it technically is). Can you add a code example of what you mean? Isn't this one of the 'bad ideas' above?  Or you could use jQuery and avoid all those issues: var execBtn = $(""<input>"" { type: ""button"" id: ""execBtn"" value: ""Execute"" }) .click(runCommand); jQuery will take care of all the cross-browser issues as well.  Actually as far as I know dynamically created inline event-handlers DO work perfectly within Internet Explorer 8 when created with the x.setAttribute() command; you just have to position them properly within your JavaScript code. I stumbled across the solution to your problem (and mine) here. When I moved all of my statements containing x.appendChild() to their correct positions (i.e. immediately following the last setAttribute command within their groups) I found that EVERY single setAttribute worked in IE8 as it was supposed to including all form input attributes (including ""name"" and ""type"" attributes as well as my ""onclick"" event-handlers). I found this quite remarkable since all I got in IE before I did this was garbage rendered across the screen and one error after another. In addition I found that every setAttribute still worked within the other browsers as well so if you just remember this simple coding-practice you'll be good to go in most cases. However this solution won't work if you have to change any attributes on the fly since they cannot be changed in IE once their HTML element has been appended to the DOM; in this case I would imagine that one would have to delete the element from the DOM and then recreate it and its attributes (in the correct order of course!) for them to work properly and not throw any errors.  function CheckBrowser(){ if(navigator.userAgent.match(/Android/i)!=null|| navigator.userAgent.match(/BlackBerry/i)!=null|| navigator.userAgent.match(/iPhone|iPad|iPod/i)!=null|| navigator.userAgent.match(/Nokia/i)!=null|| navigator.userAgent.match(/Opera M/i)!=null|| navigator.userAgent.match(/Chrome/i)!=null) { return 'OTHER'; }else{ return 'IE'; } } function AddButt(i){ var new_butt = document.createElement('input'); new_butt.setAttribute('type''button'); new_butt.setAttribute('value''Delete Item'); new_butt.setAttribute('id' 'answer_del_'+i); if(CheckBrowser()=='IE'){ new_butt.setAttribute(""onclick"" function() { DelElemAnswer(i) }); }else{ new_butt.setAttribute('onclick''javascript:DelElemAnswer('+i+');'); } }  Not relevant to the onclick issue but also related: For html attributes whose name collide with javascript reserved words an alternate name is chosen eg. <div class=''> but div.className or <label for='...'> but label.htmlFor. In reasonable browsers this doesn't affect setAttribute. So in gecko and webkit you'd call div.setAttribute('class' 'foo') but in IE you have to use the javascript property name instead so div.setAttribute('className' 'foo').  Try this execBtn.onclick =function() { eval('runCommand()') }; For me it works.  In some cases the examples listed here didn't work out for me in Internet Explorer. Since you have to set the property with a method like this (without brackets) HtmlElement.onclick = myMethod; it won't work if you have to pass an object-name or even parameters. For the Internet Explorer you should create a new object in runtime: HtmlElement.onclick = new Function('myMethod(' + someParameter + ')'); Works also on other browsers. This is a terrible way to pass parameters. It won't work for anything but the basic datatypes and even then you need JSON-style escaping to turn them into literals. Always use an inline function expression (`onclick= function() { myMethod(someParameter); }`) instead of `new Function()`.  to make this work in both FF and IE you must write both ways:  button_element.setAttribute('onclick''doSomething();'); // for FF button_element.onclick = function() {doSomething();}; // for IE thanks to this post. UPDATE: This is to demonstrate that sometimes it is necessary to use setAttribute! This method works if you need to take the original onclick attribute from the HTML and add it to the onclick event so that it doesn't get overridden: // get old onclick attribute var onclick = button_element.getAttribute(""onclick""); // if onclick is not a function it's not IE7 so use setAttribute if(typeof(onclick) != ""function"") { button_element.setAttribute('onclick''doSomething();' + onclick); // for FFIE8Chrome // if onclick is a function use the IE7 method and call onclick() in the anonymous function } else { button_element.onclick = function() { doSomething(); onclick(); }; // for IE7 } But what's the advantage of `getAttribute`/`setAttribute` there at all? Using the `.onclick` property instead of both get and set works in all browsers and doesn't introduce troublesome scope differences. @bobince - I updated this answer to demonstrate that there *are* cases where you need to use setAttribute. In IE8+ FF Chrome getAttribute(""onclick"") returns a string whereas in IE7 that string is wrapped in a function and must be called using onclick(); Short response and it worked great. Thanks for sharing. button_element.onclick = function().. works in both IE and Firefox. For that matter it also works in Opera Safari and Chrome. Any reason why setAttribute is needed (for Firefox)? The `onclick` way works fine in FF as well as IE. There is no reason ever to use the `setAttribute` version.  works great! using both ways seem to be unnecessary now: execBtn.onclick = function() { runCommand() }; apparently works in every current browser. tested in current Firefox IE Safari Opera Chrome on Windows; Firefox and Epiphany on Ubuntu; not tested on Mac or mobile systems. Craig: I'd try ""document.getElementById(ID).type='password'; Has anyone checked the ""AddEventListener"" approach with different engines?  This is an amazing function for cross-browser compatible event binding. Got it from http://js.isite.net.au/snippets/addevent With it you can just do Events.addEvent(element event function); and be worry free! For example: (http://jsfiddle.net/Zxeka/) function hello() { alert('Hello'); } var button = document.createElement('input'); button.value = ""Hello""; button.type = ""button""; Events.addEvent(input_0 ""click"" hello); document.body.appendChild(button); Here's the function: // We create a function which is called immediately // returning the actual function object. This allows us to // work in a separate scope and only return the functions // we require. var Events = (function() { // For DOM2-compliant browsers. function addEventW3C(el ev f) { // Since IE only supports bubbling for // compatibility we can't use capturing here. return el.addEventListener(ev f false); } function removeEventW3C(el ev f) { el.removeEventListener(ev f false); } // The function as required by IE. function addEventIE(el ev f) { // This is to work around a bug in IE whereby the // current element doesn't get passed as context. // We pass it via closure instead and set it as the // context using call(). // This needs to be stored for removeEvent(). // We also store the original wrapped function as a // property _w. ((el._evts = el._evts || [])[el._evts.length] = function(e) { return f.call(el e); })._w = f; // We prepend ""on"" to the event name. return el.attachEvent(""on"" + ev el._evts[el._evts.length - 1]); } function removeEventIE(el ev f) { for (var evts = el._evts || [] i = evts.length; i--; ) if (evts[i]._w === f) el.detachEvent(""on"" + ev evts.splice(i 1)[0]); } // A handler to call all events we've registered // on an element for legacy browsers. function addEventLegacyHandler(e) { var evts = this._evts[e.type]; for (var i = 0; i < evts.length; ++i) if (!evts[i].call(this e || event)) return false; } // For older browsers. We basically reimplement // attachEvent(). function addEventLegacy(el ev f) { if (!el._evts) el._evts = {}; if (!el._evts[ev]) el._evts[ev] = []; el._evts[ev].push(f); return true; } function removeEventLegacy(el ev f) { // Loop through the handlers for this event type // and remove them if they match f. for (var evts = el._evts[ev] || [] i = evts.length; i--; ) if (evts[i] === f) evts.splice(i 1); } // Select the appropriate functions based on what's // available on the window object and return them. return window.addEventListener ? {addEvent: addEventW3C removeEvent: removeEventW3C} : window.attachEvent ? {addEvent: addEventIE removeEvent: removeEventIE} : {addEvent: addEventLegacy removeEvent: removeEventLegacy}; })(); If you don't want to use such a big function this should work for almost all browsers including IE: if (el.addEventListener) { el.addEventListener('click' function false); } else if (el.attachEvent) { el.attachEvent('onclick' function); } In response to Craig's question. You're going to have to make a new element and copy over the attributes of the old element. This function should do the job: (source) function changeInputType(oldObject oType) { var newObject = document.createElement('input'); newObject.type = oType; if(oldObject.size) newObject.size = oldObject.size; if(oldObject.value) newObject.value = oldObject.value; if(oldObject.name) newObject.name = oldObject.name; if(oldObject.id) newObject.id = oldObject.id; if(oldObject.className) newObject.className = oldObject.className; oldObject.parentNode.replaceChild(newObjectoldObject); return newObject; }  There is a LARGE collection of attributes you can't set in IE using .setAttribute() which includes every inline event handler. See here for details: http://webbugtrack.blogspot.com/2007/08/bug-242-setattribute-doesnt-always-work.html  Did you try:  execBtn.setAttribute(""onclick"" function() { runCommand() }); that ""shouldn't"" work in IE6 / IE7 or IE8 in non-standards mode. For IE you need to use: execBtn.onclick = function(){...}  I did this to get around it and move on in my case I'm not using an 'input' element instead I use an image when I tried setting the ""onclick"" attribute for this image I experienced the same problem so I tried wrapping the image with an ""a"" element and making the reference point to the function like this. var rowIndex = 1; var linkDeleter = document.createElement('a'); linkDeleter.setAttribute('href' ""javascript:function("" + rowIndex + "");""); var imgDeleter = document.createElement('img'); imgDeleter.setAttribute('alt' ""Delete""); imgDeleter.setAttribute('src' ""Imagenes/DeleteHS.png""); imgDeleter.setAttribute('border' ""0""); linkDeleter.appendChild(imgDeleter);  Have you considered an event listener rather than setting the attribute? Among other things it lets you pass parameters which was a problem I ran into when trying to do this. You still have to do it twice for IE and Mozilla: function makeEvent(element callback param event) { function local() { return callback(param); } if (element.addEventListener) { //Mozilla element.addEventListener(eventlocalfalse); } else if (element.attachEvent) { //IE element.attachEvent(""on""+eventlocal); } } makeEvent(execBtn alert ""hey buddy what's up?"" ""click""); Just let event be a name like ""click"" or ""mouseover"".",0.005995067988929459,0.9502583713135528,0.04374656069751762
77293,"What is an easy way to create a MessageBox with custom button text in Managed C++? I would like to keep the overhead at a minimum. Right now I have: // Launch a Message Box with advice to the user DialogResult result = MessageBox::Show(""This may take awhile do you wish to continue?"" ""Warning"" MessageBoxButtons::YesNo MessageBoxIcon::Exclamation); // The test will only be launched if the user has selected Yes on the Message Box if(result == DialogResult::Yes) { // Execute code } Unfortunately my client would prefer ""Continue"" and ""Cancel"" in place of the default ""Yes"" and ""No"" button text. It seems like there should be an easy way to do this. Change the message as below. This may be the simplest way I think. DialogResult result = MessageBox::Show( ""This may take awhile do you wish to continue?**\nClick Yes to continue.\nClick No to cancel.**"" ""Warning"" MessageBoxButtons::YesNo MessageBoxIcon::Exclamation );  You can use ""OK"" and ""Cancel"" By substituting MessageBoxButtons::YesNo with MessageBoxButtons::OKCancel MessageBoxButtons Enum Short of that you would have to create a new form as I don't believe the Enum can be extended.  From everything I can find it looks like Corin is right. Here is the code that I used to accomplish the original goal. I am not usually a Managed C++ programmer so any editing would be appreciated. CustomMessageBox.h: using namespace System::Windows::Forms; /// <summary> /// A message box for the test. Used to ensure user wishes to continue before starting the test. /// </summary> public ref class CustomMessageBox : Form { private: /// Used to determine which button is pressed default action is Cancel static String^ Button_ID_ = ""Cancel""; // GUI Elements Label^ warningLabel_; Button^ continueButton_; Button^ cancelButton_; // Button Events void CustomMessageBox::btnContinue_Click(System::Object^ sender EventArgs^ e); void CustomMessageBox::btnCancel_Click(System::Object^ sender EventArgs^ e); // Constructor is private. CustomMessageBox should be accessed through the public ShowBox() method CustomMessageBox(); public: /// <summary> /// Displays the CustomMessageBox and returns a string value of ""Continue"" or ""Cancel"" /// </summary> static String^ ShowBox(); }; CustomMessageBox.cpp: #include ""StdAfx.h"" #include ""CustomMessageBox.h"" using namespace System::Windows::Forms; using namespace System::Drawing; CustomMessageBox::CustomMessageBox() { this->Size = System::Drawing::Size(420 150); this->Text=""Warning""; this->AcceptButton=continueButton_; this->CancelButton=cancelButton_; this->FormBorderStyle= ::FormBorderStyle::FixedDialog; this->StartPosition= FormStartPosition::CenterScreen; this->MaximizeBox=false; this->MinimizeBox=false; this->ShowInTaskbar=false; // Warning Label warningLabel_ = gcnew Label(); warningLabel_->Text=""This may take awhile do you wish to continue?""; warningLabel_->Location=Point(55); warningLabel_->Size=System::Drawing::Size(400 78); Controls->Add(warningLabel_); // Continue Button continueButton_ = gcnew Button(); continueButton_->Text=""Continue""; continueButton_->Location=Point(10587); continueButton_->Size=System::Drawing::Size(7022); continueButton_->Click += gcnew System::EventHandler(this &CustomMessageBox::btnContinue_Click); Controls->Add(continueButton_); // Cancel Button cancelButton_ = gcnew Button(); cancelButton_->Text=""Cancel""; cancelButton_->Location=Point(23787); cancelButton_->Size=System::Drawing::Size(7022); cancelButton_->Click += gcnew System::EventHandler(this &CustomMessageBox::btnCancel_Click); Controls->Add(cancelButton_); } /// <summary> /// Displays the CustomMessageBox and returns a string value of ""Continue"" or ""Cancel"" depending on the button /// clicked. /// </summary> String^ CustomMessageBox::ShowBox() { CustomMessageBox^ box = gcnew CustomMessageBox(); box->ShowDialog(); return Button_ID_; } /// <summary> /// Event handler: When the Continue button is clicked set the Button_ID_ value and close the CustomMessageBox. /// </summary> /// <param name=""sender"">The source of the event.</param> /// <param name=""e"">The <see cref=""System.EventArgs""/> instance containing the event data.</param> void CustomMessageBox::btnContinue_Click(System::Object^ sender EventArgs^ e) { Button_ID_ = ""Continue""; this->Close(); } /// <summary> /// Event handler: When the Cancel button is clicked set the Button_ID_ value and close the CustomMessageBox. /// </summary> /// <param name=""sender"">The source of the event.</param> /// <param name=""e"">The <see cref=""System.EventArgs""/> instance containing the event data.</param> void CustomMessageBox::btn",0.02546659233459294,0.9633927614818931,0.01114064618351387
67180,"mod_python/MySQL error on INSERT with a lot of data: ""OperationalError: (2006 'MySQL server has gone away')"" When doing an INSERT with a lot of data ie~ `INSERT INTO table (mediumtext_field) VALUES ('...lots of text here: about 2MB worth...')' MySQL returns ""OperationalError: (2006 'MySQL server has gone away')"" This is happening within a minute of starting the script so it is not a timeout issue. Also mediumtext_field should be able to hold ~16MB of data so that shouldn't be a problem. Any ideas what is causing the error or how to work around it? Some relevant libraries being used: mod_python 3.3.1 MySQL 5.0.51 (on Windows XP SP3 via xampp details below) ApacheFriends XAMPP (basic package) version 1.6.5 Apache 2.2.6 MySQL 5.0.51 phpMyAdmin 2.11.3 check the max_packet setting in your my.cnf file. this determines the largest amount of data you can send to your mysql server in a single statement. exceeding this values results in that error.",0.7696109704218143,0.1069515894363269,0.1234374401418589
3404,"Javascript troubleshooting tools in IE I use Firebug and the Mozilla JS console heavily but every now and then I run into an IE-only Javascript bug which are really hard to locate (ex: error on line 724 when the source html only has 200 lines). I would love to have a lightweight JS tool (a la firebug) for IE something I can install in seconds on a client's PC if I run into an error and then uninstall. Some Microsoft tools take some serious download and configuration time. Any ideas? There is [microsoft script debugger](http://www.microsoft.com/downloads/details.aspx?FamilyID=2f465be0-94fd-4569-b3c4-dffdf19ccd99&displaylang=en) Have you considered [Firebug Lite](http://getfirebug.com/lite.html)? Use a tool which can be run as a [bookmarklet](http://en.wikipedia.org/wiki/Bookmarklet): - [Jash](http://www.billyreisinger.com/jash/) - [Firebug Lite](http://getfirebug.com/lite.html) Since Internet Explorer 8 IE has been shipping with a pretty impressive set of tools for JavaScript debugging profiling and more. Like most other browsers the developer tools are accessible by pressing F12 on your keyboard. Script Tab The Script tab is likely what you'll be interested in though the Console Profiler and Network tabs get plenty of use as well while debugging applications. From the Script tab you can: Format JavaScript to make it more readable Move from source to source of various resources on the page Insert breakpoints Move in and over lines of code while stepping through its execution Watch variables Inspect the call stack to see how code was executed Toggle breakpoints and more... Console Tab The console tab is great for when you need to execute some arbitrary code against the application. I use this to check the return of certain methods or even to quickly test solutions for answers on Stack Overflow. Profiler Tab The profile is awesome if you're looking for long-running processes or trying to optimize your code to run smoother or make fewer calls to resource-intensive methods. Open up any page and click ""Start profiling"" from the Profiler tab to start recording. While the profiler is working you can move about the page performing common actions. When you feel you've recorded enough hit ""Stop profiling."" You will then be shown a summary of all functions ran or a call tree. You can quickly sort this data by various columns: Network Tab The network tab will record traffic on your site/application. It's very handy for finding files that aren't being downloaded hanging or for tracking data that is being requested asynchronously. Within this tab you can also move between a Summary view and a Detailed view. Within the Detailed view you can inspect headers sent with requests and responses. You can view cookie information check the timing of events and more. I'm not really doing the IE Developer Tools justice - there is a lot of uncovered ground. I would encourage you to check them out though and make them a part of your development.  I use both Microsoft Script Debugger and FireBug Lite depending on what I am debugging. Both are great tools- try them both out and stich with what you're comfortable with.  Go to Tools->Internet Options…->Advanced->Enable Script Debugging (Internet Explorer) then attach Visual Studio Debugger when an error occurs. If you're using IE 8 install the developer toolbar because it has a built in debugger.  You might find Firebug Lite useful for that. Its bookmarklet should be especially useful when debugging on a user's machine.  In IE8 just press F12!  I would recommend Companion JS. This is the free version of Debug Bar but I find it easier to use and have the features I need. Great to test little JavaScript snippets in IE the same way I do with Firebug in Firefox. EDIT 5 years later: I now uses Internet Explorer integrated developer tools.  IE 8 is supposed to have better tools but the IE Developer Toolbar is pretty good.",0.2092911779549414,0.7588926947504537,0.03181612729460483
30003,"How to compare an html entity with jQuery I have the following html code: <h3 id=""headerid""><span onclick=""expandCollapse('headerid')"">&uArr;</span>Header title</h3> I would like to toggle between up arrow and down arrow each time the user clicks the span tag. function expandCollapse(id) { var arrow = $(""#""+id+"" span"").html(); // I have tried with .text() too if(arrow == ""&dArr;"") { $(""#""+id+"" span"").html(""&uArr;""); } else { $(""#""+id+"" span"").html(""&dArr;""); } } My function is going always the else path. If I make a javacript:alert of arrow variable I am getting the html entity represented as an arrow. How can I tell jQuery to interpret the arrow variable as a string and not as html. Thanks in advance. Use a class to signal the current state of the span. The html could look like this <h3 id=""headerId""><span class=""upArrow"">&uArr;</span>Header title</h3> Then in the javascript you do $( '.upArrow .downArrow' ).click( function( span ) { if ( span.hasClass( 'upArrow' ) ) span.text( ""&dArr;"" ); else span.text( ""&uArr;"" ); span.toggleClass( 'upArrow' ); span.toggleClass( 'downArrow' ); } ); This may not be the best way but it should work. Didnt test it tough  Maybe you're not getting an exact match because the browser is lower-casing the entity or something. Try using a carat (^) and lower-case ""v"" just for testing. Edited - My first theory was plain wrong.  When the HTML is parsed what JQuery sees in the DOM is a UPWARDS DOUBLE ARROW (""⇑"") not the entity reference. Thus in your Javascript code you should test for ""⇑"" or ""\u21d1"". Also you need to change what you're switching to: function expandCollapse(id) { var arrow = $(""#""+id+"" span"").html(); if(arrow == ""\u21d1"") { $(""#""+id+"" span"").html(""\u21d3""); } else { $(""#""+id+"" span"").html(""\u21d1""); } }  If you do an alert of arrow what does it return? Does it return the exact string that you're matching against? If you are getting the actual characters '⇓' and '⇑' you may have to match it against ""\u21D1"" and ""\u21D3"". Also you may want to try &#8657; and &#8659; since not all browsers support those entities. Update: here's a fully working example: http://jsbin.com/edogop/3/edit#htmllive window.expandCollapse = function (id) { var $arrowSpan = $(""#"" + id + "" span"") arrowCharCode = $arrowSpan.text().charCodeAt(0); // 8659 is the unicode value of the html entity if (arrowCharCode === 8659) { $arrowSpan.html(""&#8657;""); } else { $arrowSpan.html(""&#8659;""); } // one liner: //$(""#"" + id + "" span"").html( ($(""#"" + id + "" span"").text().charCodeAt(0) === 8659) ? ""&#8657;"" : ""&#8659;"" ); }; See the update I've made with the working example. You'll want to update the 8657 & 8659 with the unicode values of the exact arrows that you're using. When I look in an alert window I do see the single ""up arrow"". Is there any further discussion on this topic the answers here haven't solved my issue which is identical to the original question. Blam that worked. Thanks. This feels like a hack is there a reason why this is so tricky? BTW I'm still pretty new to the stackoverflow community so I apologize if all this discussion is inappropriate and should be moved to a new question.  Check out the .toggle() effect. Here is something similar i was playing with earlier. HTML: <div id=""inplace""> <div id=""myStatic"">Hello World!</div> <div id=""myEdit"" style=""display: none""> <input id=""myNewTxt"" type=""text"" /> <input id=""myOk"" type=""button"" value=""OK"" /> <input id=""myX"" type=""button"" value=""X"" /> </div></div> SCRIPT:  $(""#myStatic"").bind(""click"" function(){ $(""#myNewTxt"").val($(""#myStatic"").text()); $(""#myStatic#myEdit"").toggle(); }); $(""#myOk"").click(function(){ $(""#myStatic"").text($(""#myNewTxt"").val()); $(""#myStatic#myEdit"").toggle(); }); $(""#myX"").click(function(){ $(""#myStatic#myEdit"").toggle(); });",0.036421126406455145,0.9405159769645888,0.023062896628956067
66840,Integration of JavaScript and JMS Where can I find a guide for integrating JavaScript and JMS (Java Messaging Service)? I would like a best practice or established technology that allows me to directly or indirectly receive messages from a topic and update a site based on the message. I was thinking of creating two components a servlet for the Web module and an MDB (Message-Driven Bean) for the EJB module. The web client will comsume messages from the JMS topic and the MDB will handle the onMessage. Does this sound correct? Have you seen any examples? Edit: I am using ActiveMQ for the JMS. The Seam framework supports subscription to JMS topics from a JavaScript based client: http://docs.jboss.com/seam/2.0.2.GA/reference/en-US/html/remoting.html#d0e14169  I think this is your answer. Looks like it is baked in to ActieMQ. I tried the examples and they seem to work. http://activemq.apache.org/ajax.html I was able to get the examples to work on Version 5.0 of ActiveMQ. However they have trouble running in 5.1. Which version of ActiveMQ are you running? We did have a lot of problems with this servlet and we did abandon it completely...  I would try using DWR to integrate JavaScript with your Java app. It makes Java to JavaScript communication transparent and only requires one servlet + configuration of what to expose. I haven´t done this with JMS but it should work the same. There are three technologies that together solve all my integration problems Spring Mule and DWR. I'll second DWR - excellent (and painless!) to integrate any server-side based Java and JavaScript on the client front-end  You'll find some references to the Dojo/Bayeux approach here http://www.pathf.com/blogs/2006/08/bayeux_a_json_p/ If you're using WebSphere 6.0 or higher then the Web 2.0 Feature Pack includes an implementation.,0.7987592343002216,0.11904048424663827,0.08220028145314016
75191,"What is an unsigned char? In C/C++ what is an unsigned char used for? How is this different from a regular char? In C++ there are three distinct character types: char signed char unsigned char If you are using character types for text use the unqualified char: it is the type of character literals like 'a' or '0'. it is the type that makes up C strings like ""abcde"" It also works out as a number value but it is unspecified whether that value is treated as signed or unsigned. Beware character comparisons through inequalities - although if you limit yourself to ASCII (0-127) you're just about safe. If you are using character types as numbers use: signed char which gives you at least the -128 to 127 range. unsigned char which gives you at least the 0 to 255 range. ""At least"" because the C++ standard only gives the minimum range of values that each numeric type is required to cover. sizeof (char) is required to be 1 (i.e. one byte) but a byte could in theory be for example 32 bits. sizeof would still be report its size as 1 - meaning that you could have sizeof (char) == sizeof (long) == 1. The guaranteed range of `signed char` is -127 to 127 but assuming 2's complement you'll get -128 to 127. And that's a pretty safe assumption. how come 1 byte can be 32 bits? +1. But there are four distinct character types in C++ wchar_t is one of them. @Fruny I noticed that you wrote sizeof () with a space between can you elaborate the use of that? At the moment I am searching for answer on this. Thanks in advance. since c++11 you have 6 distinct types: char signed char unsigned char wchar_t char16_t char32_t. @pseudonym_127 good question. I think it's because technically size of a bit is unspecified (though commonly it's 8 bits). Hopefully someone else can verify this. Very nice summary. Joseph the sizeof gives you the size of the object representation of the type. if you say 32bit int that first doesn't tell much. most probably you mean the object representation (that's the physical size - including all padding bits). if that's the case then sizeof(int) != sizeof(char) can't be true because char/unsigned/signed char use all bits of their object representation to represent their values (called the value representation) To be clear could you have 32-bit chars and 32-bit integers and have sizeof(int) != sizeof(char)? I know the standard says sizeof(char) == 1 but is the relative sizeof(int) based on actual difference in size or the difference in range?  signed char has range -128 to 127 unsigned char has range 0 to 255 char will be equivalent to either signed char or unsigned char depending on the compiler but is a distinct type. If you're using C-style strings just use char. If you need to use chars for arithmetic (pretty rare) specify signed or unsigned explicitly for portability.  Some googling found this where people had a discussion about this. An unsigned char is basically a single byte. So you would use this if you need one byte of data (for example maybe you want to use it to set flags on and off to be passed to a function as is often done in the Windows API).  char and unsigned char aren't guaranteed to be 8-bit types on all platforms—they are guaranteed to be 8-bit or larger. Some platforms have 9-bit 32-bit or 64-bit bytes. However the most common platforms today (Windows Mac Linux x86 etc.) have 8-bit bytes.  As for example usages of unsigned char: unsigend char is often used in computer graphics which very often (though not always) assigns a single byte to each colour component. It is common to see an RGB (or RGBA) colour represented as 24 (or 32) bits each an unsigned char. Since unsigned char values fall in the range [0255] the values are typically interpreted as 0 meaning a total lack of a given colour component 255 meaning 100% of a given colour pigment So you would end up with RGB red as (25500) -> (100% red 0% green 0% blue). Why not use a signed char? Arithmetic and bit shifting becomes problematic. As explained already a signed char's range is essentially shifted by -128. A very simple and naive (mostly unused) method for converting RGB to grayscale is to average all three colour components but this runs into problems when the values of the colour components are negative. Red (255 0 0) averages to (85 85 85) when using unsigned char arithmetic. However if the values were signed chars (127-128-128) we would end up with (-99 -99 -99) which would be (29 29 29) in our unsigned char space which is incorrect.  If you want to use a character as a small integer the safest way to do it is with the int8_tand uint8_t types.  If you like using various types of specific length and signedness you're probably better off with uint8_t int8_t uint16_t etc simply because they do exactly what they say.  An unsigned char is a (unsigned) byte value (0 to 255). You may be thinking of ""char"" in terms of being a ""character"" but it is really a numerical value. The regular ""char"" is signed so you have 128 values and these values map to characters using ASCII encoding. But in either case what you are storing in memory is a byte value.  This is implementation dependent as the C standard does NOT define the signed-ness of ""char"". Depending on the platform char may be signed or unsigned so you need to explicitly ask for ""signed char"" or ""unsigned char"" if your implementation depends on it. Just use ""char"" if you intend to represent characters from strings as this will match what your platform puts in the string. The difference between signed char and unsigned char is as you'd expect. On most platforms signed char will be an 8-bit two's complement number ranging from -128 to 127 and unsigned char will be an 8-bit unsigned integer (0 to 255). Note the standard does NOT require that char types have 8 bits only that sizeof(char) return 1. You can get at the number of bits in a char with CHAR_BIT in limits.h. There are few if any platforms today where this will be something other than 8 though. There is a nice summary of this issue here: http://www.arm.linux.org.uk/docs/faqs/signedchar.php As others have mentioned since I posted this you're better off using int8_t and uint8_t if you really want to represent small integers.  In terms of direct values a regular char is used when the values are known to be between CHAR_MIN and CHAR_MAX while an unsigned char provides double the range on the positive end. For example if CHAR_BIT is 8 the range of regular char is only guaranteed to be [0 127] (because it can be signed or unsigned) while unsigned char will be [0 255] and signed char will be [-127 127]. In terms of what it's used for the standards allow objects of POD (plain old data) to be directly converted to an array of unsigned char. This allows you to examine the representation and bit patterns of the object. The same guarantee of safe type punning doesn't exist for char or signed char.  unsigned char is the heart of all bit trickery. In almost ALL compiler for ALL platform an unsigned char is simply a BYTE. An unsigned integer of (usually) 8 bits. that can be treated as a small integer or a pack of bits. In addiction as someone else has said the standard doesn't define the sign of a char. so you have 3 distinct ""char"" types: char signed char unsigned char.  An unsigned char uses the bit that is reserved for the sign of a regular char as another number. This changes the range to [0 - 255] as opposed to [-128 - 127]. Generally unsigned chars are used when you don't want a sign. This will make a difference when doing things like shifting bits (shift extends the sign) and other things when dealing with a char as a byte rather than using it as a number.  unsigned char takes only positive values....like 0 to 255 where as signed char takes both poitive and negative values....like -128 to +127  Because i feel it's really called for i just want to state some rules of C and C++ (they are the same in this regard). First all bits of unsigned char participate in determining the value if any unsigned char object. Second unsigned char is explicitly stated unsigned. Now i had a discussion with someone about what happens when you convert the value -1 of type int to unsigned char. He refused the idea that the resulting unsigned char has all its bits set to 1 because he was worried about sign representation. But he don't have to. It's immediately following out of this rule that the conversion does what is intended: If the new type is unsigned the value is converted by repeatedly adding or subtracting one more than the maximum value that can be represented in the new type until the value is in the range of the new type. (6.3.1.3p2 in a C99 draft) That's a mathematical description. C++ describes it in terms of modulo calculus which yields to the same rule. Anyway what is not guaranteed is that all bits in the integer -1 are one before the conversion. So what do we have so we can claim that the resulting unsigned char has all its CHAR_BIT bits turned to 1? All bits participate in determining its value - that is no padding bits occur in the object. Adding only one time UCHAR_MAX+1 to -1 will yield a value in range namely UCHAR_MAX That's enough actually! So whenever you want to have an unsigned char having all its bits one you do unsigned char c = (unsigned char)-1; It also follows that a conversion is not just truncating higher order bits. The fortunate event for two's complement is that it is just a truncation there but the same isn't necessarily true for other sign representations. Why not just use `UCHAR_MAX`? Or the shorter `~0`. +1 incredibly clear thank you... so that's how you can be guaranteed in a statement like unsigned char x = 1 - 25 that the result will be 231... you made my day!",0.02451593821355897,0.010099656160204824,0.9653844056262362
54487,"Conditional Number Formatting In Java How can I format Floats in Java so that the float component is displayed only if it's not zero? For example:  123.45 -> 123.45 99.0 -> 99 23.2 -> 23.2 45.0 -> 45 Edit: I forgot to mention - I'm still on Java 1.4 - sorry! DecimalFormat is available in jdk 1.4. If you use DecimalFormat and specify # in the pattern it only displays the value if it is not zero. See my question How do I format a number in java? Sample Code  DecimalFormat format = new DecimalFormat(""###.##""); double[] doubles = {123.45 99.0 23.2 45.0}; for(int i=0;i<doubles.length;i++){ System.out.println(format.format(doubles[i])); }  Check out the DecimalFormat class e.g. new DecimalFormat(""0.##"").format(99.0) will return ""99"".  new Formatter().format( ""%f"" myFloat )",0.1986355271337677,0.6006641628162829,0.2007003100499494
70577,"Best online resource to learn Python? I am new to any scripting language. But Still I worked on scripting a bit like tailoring other scripts to work for my purpose. For me What is the best online resource to learn Python? [Response Summary:] Some Online Resources: http://docs.python.org/tut/tut.html - Beginners http://diveintopython3.ep.io/ - Intermediate http://www.pythonchallenge.com/ - Expert Skills http://docs.python.org/ - collection of all knowledge Some more: A Byte of Python. Python 2.5 Quick Reference Python Side bar A Nice blog for beginners Think Python: An Introduction to Software Design I consider ActiveState's Python community to be a great resource. Also DZone Snippets can be useful.  If you're a beginner try my book A Byte of Python. If you're already experienced in programming try Dive Into Python.  The Hazel Tree  I learned from the Python Tutorial!  The python manual Its a bit long winded sometimes but it tells you all you need to know to get going.  You can look at Building Skills in Python also. It presumes some level of experience in programming. If you're really new try Building Skills in Programming. It includes a lot of background and fundamentals.  Think Python: An Introduction to Software Design  I think Python Challenge is great. It's not about learning Python (syntax) but presents you small and fun riddles. Solving the riddles is based on Python but you can use whatever fits (your calculator bash scripts Perl...). After you solved one you get to see how others have solved it and can discuss the pros & cons of the different ways. Very nice to get a feel for how things could be done (smart) in Python. This site works especially well if you know a bit about other scripting languages or the commandline etc. This is really nice.  PLEAC  has a Python Cookbook  which is very helpful .  If you need to learn python from scratch - you can start here: http://docs.python.org/tut/tut.html - good begginers guide If you need to extend your knowledge - continue here http://diveintopython3.ep.io/ - good intermediate level book If you need perfect skills - complete this http://www.pythonchallenge.com/ - outstanding and interesting challenge And the perfect source of knowledge is http://docs.python.org/ - collection of all knowledge Thank you soo much for the Dive in to python. Its an amazing book. Dive in to Python is not an intermediate level book. It's a book for experienced programmers who are new to Python.  +1 for Dive Into Python  The Python tutorial is actually pretty good. There's also a video series on showmedo about python. Between those two resources you should have more than enough to learn the basics! Show me do is actually a great concept..  I first ran across Software Carpentry looking at lists of python tutorials.. but its a lot more than a tutorial on python. turns out what I really learned was how to use subversion and that none of my projects are better suited to python than to perl... yet.  Also consider Hands-On Python. It is used as a primary text for Computer Science 150 at Loyola University. It is concise intro to Python while emphasizing good programming style and design.  These are unvaluable online reference tools: Python 2.5 Quick Reference Python Side bar Other online resources for beginners: A good python blog for beginners: http://www.learningpython.com/ Python Video at Google Code  Python Cookbook is very useful.  There are some screencasts on http://showmedo.com  The Cookbook is absolutely essestial if you want to know idiomatic python.  Learn Python in 10 minutes  Google's Python Class Welcome to Google's Python Class -- this is a free class for people with a little bit of programming experience who want to learn Python. The class includes written materials lecture videos and lots of code exercises to practice Python coding. These materials are used within Google to introduce Python to people who have just a little programming experience. The first exercises work on basic Python concepts like strings and lists building up to the later exercises which are full programs dealing with text files processes and http connections. The class is geared for people who have a little bit of programming experience in some language enough to know what a ""variable"" or ""if statement"" is. Beyond that you do not need to be an expert programmer to use this material. I learned and gained confidence with Google's Python Class !! I recommend this... !!  The tutorial at Python's homepage is a good place to start. Also there are some screencasts here.",0.07378566249802872,0.852113344322243,0.07410099317972844
47447,"Child spans of the same width I am trying to create a horizontal menu with the elements represented by <span>'s. The menu itself (parent <div>) has a fixed width but the elements number is always different. I would like to have child <span>'s of the same width independently of how many of them are there. What I've done so far: added a float: left; style for every span and specified its percentage width (percents are more or less fine as the server knows at the time of the page generation how many menu items are there and could divide 100% by this number). This works except for the case when we have a division remainder (like for 3 elements) in this case I have a one-pixel hole to the right of the parent <div> and if I rounding the percents up the last menu element is wrapped. I also don't really like style generation on the fly but if there's no other solution it's fine. What else could I try? It seems like this is a very common problem however googling for ""child elements of the same width"" didn't help. You might try a table with a fixed table layout. It should calculate the column widths without concerning itself with the cell contents. table.ClassName { table-layout: fixed } It was bad when people used table for everything (because CSS did not exist yet). Now it the other way round sometimes. Someone would describe a table functionality and ask how to do it without a table as if tables are inherently bad. Sigh.  have you tried the decimal values like setting width to 33.33%? As specified in the CSS syntax the width property (http://www.w3.org/TR/CSS21/visudet.html#the-width-property) can be given as <percentage> (http://www.w3.org/TR/CSS21/syndata.html#value-def-percentage) which is stated to be a <number>. As said at the number definition (http://www.w3.org/TR/CSS21/syndata.html#value-def-number) there some value types that must be integers and are stated as <integer> and the others are real numbers stated as <number>. The percentage is defined as <number> not as <integer> so it might work. It will depend on the browser's ability to solve this situation if it can't divide the parent's box by 3 without remaining will it draw a 1- or 2-pixel space or make 1 or 2 spans out of three wider than the rest.  In reference to Xian's answer there's also the :first-child pseudo-element. Rather than having first-in-row class you'd have this. span:first-child { width: auto; } Obviously this is only applicable to a single line menu.  If you have a fixed width container then you are losing some of the effectiveness of a percentage width child span. For your case of 33% you could add a class to the first and every 4th child span to set the correct width as necessary. <div> <span class=""first-in-row"">/<span><span></span><span></span><span class=""first-in-row""><span></span><span></span>... </div> where .first-in-row { width:auto; // or width:XXX px; }",0.005908060293060578,0.8854285757301631,0.10866336397677644
22409,"How do I convert images between CMYK and RGB in ColdFusion (Java)? I have a need to convert images from CMYK to RGB - not necessarily back again but hey if it can be done... With the release of ColdFusion 8 we got the CFImage tag but it doesn't support this conversion; and nor does Image.cfc or Alagad's Image Component. However it should be possible in Java; which we can leverage through CF. For example here's how you might create a Java thread to sleep a process: <cfset jthread = createObject(""java"" ""java.lang.Thread"")/> <cfset jthread.sleep(5000)/> I would guess a similar method could be used to leverage java to do this image conversion but not being a Java developer I don't have a clue where to start. Can anyone lend a hand here? This example will have values between 0 and 255^2. So it is not a correct example of conversion. I use the Java ImageIO libraries (https://jai-imageio.dev.java.net). They aren't perfect but can be simple and get the job done. As far as converting from CMYK to RGB here is the best I have been able to come up with. Download and install the ImageIO JARs and native libraries for your platform. The native libraries are essential. Without them the ImageIO JAR files will not be able to detect the CMYK images. Originally I was under the impression that the native libraries would improve performance but was not required for any functionality. I was wrong. The only other thing that I noticed is that the converted RGB images are sometimes much lighter than the CMYK images. If anyone knows how to solve that problem I would be appreciative. Below is some code to convert a CMYK image into an RGB image of any supported format. Thank you Randy Stegbauer package cmyk; import java.awt.color.ColorSpace; import java.awt.image.BufferedImage; import java.awt.image.ColorConvertOp; import java.io.File; import java.io.IOException; import javax.imageio.ImageIO; import org.apache.commons.lang.StringUtils; public class Main { /** * Creates new RGB images from all the CMYK images passed * in on the command line. * The new filename generated is for example ""GIF_original_filename.gif"". * */ public static void main(String[] args) { for (int ii = 0; ii < args.length; ii++) { String filename = args[ii]; boolean cmyk = isCMYK(filename); System.out.println(cmyk + "": "" + filename); if (cmyk) { try { String rgbFile = cmyk2rgb(filename); System.out.println(isCMYK(rgbFile) + "": "" + rgbFile); } catch (IOException e) { System.out.println(e.getMessage()); } } } } /** * If 'filename' is a CMYK file then convert the image into RGB * store it into a JPEG file and return the new filename. * * @param filename */ private static String cmyk2rgb(String filename) throws IOException { // Change this format into any ImageIO supported format. String format = ""gif""; File imageFile = new File(filename); String rgbFilename = filename; BufferedImage image = ImageIO.read(imageFile); if (image != null) { int colorSpaceType = image.getColorModel().getColorSpace().getType(); if (colorSpaceType == ColorSpace.TYPE_CMYK) { BufferedImage rgbImage = new BufferedImage( image.getWidth() image.getHeight() BufferedImage.TYPE_3BYTE_BGR); ColorConvertOp op = new ColorConvertOp(null); op.filter(image rgbImage); rgbFilename = changeExtension(imageFile.getName() format); rgbFilename = new File(imageFile.getParent() format + ""_"" + rgbFilename).getPath(); ImageIO.write(rgbImage format new File(rgbFilename)); } } return rgbFilename; } /** * Change the extension of 'filename' to 'newExtension'. * * @param filename * @param newExtension * @return filename with new extension */ private static String changeExtension(String filename String newExtension) { String result = filename; if (filename != null && newExtension != null && newExtension.length() != 0); { int dot = filename.lastIndexOf('.'); if (dot != -1) { result = filename.substring(0 dot) + '.' + newExtension; } } return result; } private static boolean isCMYK(String filename) { boolean result = false; BufferedImage img = null; try { img = ImageIO.read(new File(filename)); } catch (IOException e) { System.out.println(e.getMessage() + "": "" + filename); } if (img != null) { int colorSpaceType = img.getColorModel().getColorSpace().getType(); result = colorSpaceType == ColorSpace.TYPE_CMYK; } return result; } } I haven't been able to test this yet but it looks like you put a lot of work into the answer. Thank you very much! Hey Randy I tried running this code but it only produced a JPG of 0kb. Not sure why. Any ideas?  A very simple formula for converting from CMYK to RGB ignoring all color profiles is:  R = ( (255-C)*(255-K) ) / 255; G = ( (255-M)*(255-K) ) / 255; B = ( (255-Y)*(255-K) ) / 255; This code requires CMYK values to be in rage of 0-255. If you have 0 to 100 or 0.0 to 1.0 you'll have to convert the values. Hope this will get you started. As for the java and ColdFusion interfacing I'm sorry but I have no idea how to do that.  The tag cfx_image may be of use to you. I haven't used it in a while but I remember it had a ton of features. Alternatively you might be able to script a windows app such as Irfanview (via commandline using cfexecute) to process images. Hope that helps  I know that this question is old but I still encounter problems with CMYK images & ColdFusion. However I just read a CMYK JPEG image using ColdFusion 10 and resaved it. The saved image was able to to be read using ColdFusion 9 (which is only capable of reading RGB JPEGs.) I'm not sure if this conversion is intentional or not and I don't currently have any way of identifying whether the source image's color profile is CMYK or not as the saved color profile still appears to be the same. <cfset imgData = ImageRead(expandPath(""./CMYK_image.jpg""))> <cfset ImageWrite(imgData expandPath(""./Saved_image.jpg""))>",0.014106305683986577,0.9829085871137908,0.0029851072022226174
10985,"How to prevent an object being created on the heap? Does anyone know how I can in platform-independant C++ code prevent an object from being created on the heap? That is for a class ""Foo"" I want to prevent users from doing this: Foo *ptr = new Foo; and only allow them to do this: Foo myfooObject; Does anyone have any ideas? Cheers Why would you want to do this? You could overload new for Foo and make it private. This would mean that the compiler would moan... unless you're creating an instance of Foo on the heap from within Foo. To catch this case you could simply not write Foo's new method and then the linker would moan about undefined symbols. class Foo { private: void* operator new(size_t size); }; PS. Yes I know this can be circumvented easily. I'm really not recommending it - I think it's a bad idea - I was just answering the question! ;-)  You could declare it as an interface and control the implementation class more directly from your own code.  Nick's answer is a good starting point but incomplete as you actually need to overload: private: void* operator new(size_t); // standard new void* operator new(size_t void*); // placement new void* operator new[](size_t); // array new void* operator new[](size_t void*); // placement array new (Good coding practice would suggest you should also overload the delete and delete[] operators -- I would but since they're not going to get called it isn't really necessary.) Pauldoo is also correct that this doesn't survive aggregating on Foo although it does survive inheriting from Foo. You could do some template meta-programming magic to HELP prevent this but it would not be immune to ""evil users"" and thus is probably not worth the complication. Documentation of how it should be used and code review to ensure it is used properly are the only ~100% way.  @Nick This could be circumvented by creating a class that derives from or aggregates Foo. I think what I suggest (while not robust) would still work for derived and aggregating classes. E.g: struct MyStruct { Foo m_foo; }; MyStruct* p = new MyStruct(); Here I have created an instance of 'Foo' on the heap bypassing Foo's hidden new operator. +1 Nice trick! Type casting also can help  Not sure if this offers any compile-time opportunities but have you looked at overloading the 'new' operator for your class?  You could declare a function called ""operator new"" inside the Foo class which would block the access to the normal form of new. Is this the kind of behaviour you want ?  I don't know how to do it reliably and in a portable way.. but.. If the object is on the stack then you might be able to assert within the constructor that the value of 'this' is always close to stack pointer. There's a good chance that the object will be on the stack if this is the case. I believe that not all platforms implement their stacks in the same direction so you might want to do a one-off test when the app starts to verify which way the stack grows.. Or do some fudge: FooClass::FooClass() { char dummy; ptrdiff_t displacement = &dummy - reinterpret_cast<char*>(this); if (displacement > 10000 || displacement < -10000) { throw ""Not on the stack - maybe..""; } } @Vargas - I disagree. 'dummy' will always be on the stack because it is an automatic local variable. The `this` pointer can point to either the stack (if FooClass is used as a local variable) or the heap (if FooClass is allocated on the heap or aggregating within a class which is then allocated on the heap). Interesting approach! I think that this and dummy will always be close to each other no matter if they are in the heap or in the stack You are right I was mistaking `dummy` for a member variable... sorry",0.025829822055425555,0.08506153908726435,0.8891086388573102
6,"Why doesn't the percentage width child in absolutely positioned parent work? I have an absolutely positioned div containing several children one of which is a relatively positioned div. When I use a percentage-based width on the child div it collapses to 0 width on IE7 but not on Firefox or Safari. If I use pixel width it works. If the parent is relatively positioned the percentage width on the child works. Is there something I'm missing here? Is there an easy fix for this besides the pixel-based width on the child? Is there an area of the CSS specification that covers this? I think this has something to do with the way the hasLayout property is implemented in the older browser. Have you tried your code in IE8 to see if works in there too? IE8 has a Debugger (F12) and can also run in IE7 mode.  Here is some sample code. I think this is what you are looking for. The following displays exactly the same in Firefox 3 (mac) and IE7. <!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd""> <html xmlns=""http://www.w3.org/1999/xhtml""> <head> <style> #absdiv { position: absolute; left: 100px; top: 100px; width: 80%; height: 60%; background: #999; } #pctchild { width: 60%; height: 40%; background: #CCC; } #reldiv { position: relative; left: 20px; top: 20px; height: 25px; width: 40%; background: red; } </style> </head> <body> <div id=""absdiv""> <div id=""reldiv""></div> <div id=""pctchild""></div> </div> </body> </html>  Does the parent div have a defined width either pixel or percentage? Not 100% sure but I think in IE7 the parent div needs a defined width for child percentage divs to work correctly.  Why doesn’t the percentage width child in absolutely positioned parent work in IE7? Because it's Internet Exploder Is there something I'm missing here? That is to raise your co-worker's / clients' awareness that IE sucks. Is there an easy fix besides the pixel-based width on the child? Use em units as they are more useful when creating liquid layouts as you can use them for padding and margins as well as font sizes. So your white space grows and shrinks proportionally to your text if it is resized (which is really what you need). I don't think percentages give a finer control than ems; there's nothing to stop you specifying in hundredths of ems (0.01 em) and the browser will interpret as it sees fit. Is there an area of the CSS specification that covers this? None as far as I remember em's and %'s were intended for font sizes alone back at CSS 1.0.  IE prior to 8 has a temporal aspect to its box model that most notably creates a problem with percentage based widths. In your case here an absolutely positioned div by default has no width. Its width will be worked out based on the pixel width of its content and will be calculated after the contents are rendered. So at the point IE encounters and renders your relatively positioned div its parent has a width of 0 hence why it itself collapses to 0. If you would like a more in depth discussion of this along with lots of working examples have a gander here.",0.009900738476299919,0.9648470081857504,0.025252253337949584
8263,"I can't get my debugger to stop breaking on first-chance exceptions I'm using Visual C++ 2003 to debug a program remotely via TCP/IP. I had set the Win32 exception c00000005 ""Access violation"" to break into the debugger when thrown. Then I set it back to ""Use parent setting."" The setting for the parent Win32 Exceptions is to continue when the exception is thrown. Now when I debug the program it breaks each time that exception is thrown forcing me to click Continue to let it keep debugging. How do I get it to stop breaking like this? I'd like to support Will Dean's answer An access violation sounds like an actual bug in your code. It's not something I'd expect the underlying C/++ Runtime to be throwing and catching internally. The 'first-chance-exceptions' feature is so you can intercept things which get 'caught' in code using the debugger and have a look. If there's nothing 'catching' that exception (which makes sense why on earth would you catch and ignore access violations?) then it will trigger the debugger regardless of what options you may have set. too bad this seems to be the case. When attaching to 3rd party processes (like skype) sometimes they have threads that apparently die with uncaught exceptions and you can't *not* catch them. Annoying!  Is this an exception that your code would actually handle if you weren't running in the debugger?  Ctrl+Alt+E (or Debug\Exceptions) From there you can select which exceptions break.",0.11218345493218981,0.5637844834010282,0.32403206166678195
40568,"square brackets in URLs Are square brackets in URLs allowed? I noticed that Apache commons HttpClient (3.0.1) throws an IOException wget and Firefox however accept square brackets. URL example: http://example.com/path/to/file[3].html My HTTP client encounters such URLs but I'm not sure whether to patch the code or to throw an exception (as it actually should be). Pretty much the only characters not allowed in pathnames are # and ? as they signify the end of the path. The uri rfc will have the definative answer: http://www.ietf.org/rfc/rfc1738.txt Unsafe: Characters can be unsafe for a number of reasons. The space character is unsafe because significant spaces may disappear and insignificant spaces may be introduced when URLs are transcribed or typeset or subjected to the treatment of word-processing programs. The characters ""<"" and "">"" are unsafe because they are used as the delimiters around URLs in free text; the quote mark ("""""") is used to delimit URLs in some systems. The character ""#"" is unsafe and should always be encoded because it is used in World Wide Web and in other systems to delimit a URL from a fragment/anchor identifier that might follow it. The character ""%"" is unsafe because it is used for encodings of other characters. Other characters are unsafe because gateways and other transport agents are known to sometimes modify such characters. These characters are ""{"" ""}"" ""|"" ""\"" ""^"" ""~"" ""["" ""]"" and ""`"". All unsafe characters must always be encoded within a URL. For example the character ""#"" must be encoded within URLs even in systems that do not normally deal with fragment or anchor identifiers so that if the URL is copied into another system that does use them it will not be necessary to change the URL encoding. The answer is that they should be hex encoded but knowing postel's law most things will accept them verbatim. All unsafe characters MUST always be encoded within a URL. MUST not SHOULD.  According to the URL specification the square brackets are not valid URL characters. Here's the relevant snippets: The ""national"" and ""punctuation"" characters do not appear in any productions and therefore may not appear in URLs. national { | } | vline | [ | ] | \ | ^ | ~ punctuation < | >  I know this question is a bit old but I just wanted to note that PHP uses brackets to pass arrays in a URL. http://www.example.com/foo.php?bar[]=1&bar[]=2&bar[]=3 In this case $_GET['bar'] will contain array(1 2 3). Correct but they should still be encoded when the browser isn't doing so automatically. PHP will still correctly interpret the brackets and its own http_build_query() function encodes them as well.  Any browser or web-enabled software that accepts URLs and is not throwing an exception when special characters are introduced is almost guaranteed to be encoding the special characters behind the scenes. Curly brackets square brackets spaces etc all have special encoded ways of representing them so as not to produce conflicts. As per the previous answers the safest way to deal with these is to URL-encode them before handing them off to something that will try to resolve the URL.  For using the HttpClient commons class you want to look into the org.apache.commons.httpclient.util.URIUtil class specifically the encode() method. Use it to URI-encode the URL before trying to fetch it.  RFC 3986 states A host identified by an Internet Protocol literal address version 6 [RFC3513] or later is distinguished by enclosing the IP literal within square brackets (""["" and ""]""). This is the only place where square bracket characters are allowed in the URI syntax. So you should not be seeing such URI's in the wild in theory as they should arrive encoded.  StackOverflow seems to not encode them: http://stackoverflow.com/search?q=square+brackets+[url] There's a misunderstanding. The encoding is not to be done by websites but by webbrowsers. The webbrowser does it behind the scenes. Websites in turn decodes them. Reread the answers here.  Best to URL encode those as they are clearly not supported in all web servers. Sometimes even when there is a standard not everyone follows it.",0.8179865847939843,0.07298895942742266,0.10902445577859314
41056,Best java tools for emacs I'm a long-time emacs user and I'm now working about 1/2 time in Java. What are the best emacs libraries for Debugging Java Code Completion/Intellisense Javadoc browsing ? I've used JDEE on several projects. It handles Code Completion. I've never used it for debugging or browsing docs but it's a big step up from a basic text editor.  I've had good success with jdibug for debugging Java code with Emacs.  For javadoc I found http://javadochelp.sourceforge.net/index.html to be the best. Exuberant ctags is your best friend when it comes to navigation.,0.20445245361903208,0.7353919509650292,0.06015559541593875
90164,"Is there a way to compile C++ code to Microsoft's CIL ""bytecode""? i.e. a web browser client would be written in C++ !!! Sure Visual Studio can compile ""managed"" C++. I'm not sure I understand your ""web browser client"" reference though; do you mean you want to compile your C++ to something that will run with Silverlight? yeah basically i want to split an existing desktop app written in C++ into a client and server where the client can run on desktop OR browser! thanks! Its not possible to run the same binary on both desktop and silverlight - although the APIs are in large part compatible the dependent libraries themselves are different. So you can have the same source code but not the same binaries.  There are a two choices. Managed C++ (/clr:oldSyntax no longer maintained) or C++/CLI (definitely maintained). You'll want to use /clr:safe for in-browser software because you wnat the browser to be able to verify it.  This was originally known as Managed C++ but as Josh commented it has been superceded by C++/CLI. Managed C++ is no longer maintained try C++/CLI  Use the /clr compile option",0.37203889461273437,0.28462644108468416,0.3433346643025814
57840,"How to attach debugger to step into native (C++) code from a managed (C#) wrapper? I have a wrapper around a C++ function call which I call from C# code. How do I attach a debugger in Visual Studio to step into the native C++ code? This is the wrapper that I have which calls GetData() defined in a C++ file:  [DllImport(""Unmanaged.dll"" CallingConvention=CallingConvention.Cdecl EntryPoint = ""GetData"" BestFitMapping = false)] public static extern String GetData(String url); The code is crashing and I want to investigate the root cause. Thanks Nikhil Check the Debug tab on your project's properties page. There should be an ""Enable unmanaged code debugging"" checkbox. This worked for me when we developed a new .NET UI for our old c++ DLLs. If your unmanaged DLL is being built from another project (for a while ours were being built using VS6) just make sure you have the DLL's pdb file handy for the debugging. The other approach is to use the C# exe as the target exe to run from the DLL project you can then debug your DLL normally.  Mixed debugging is not supported in 64bit mode (as of Visual Studio 2008). Could you post any articles that you may have on this subject?  in addition to Lou's advise for starting the debugger you can select which debug engines are used when attaching to an existing process by clicking on 'Select...' in the 'attach to process' dialog and choosing both 'managed code' and 'native code'. Debugging in this way is called mixed mode debugging. See this blog post for some tips. I believe this isn't supported for 64 bit processes ... though would love to be wrong on that point. Thanks for the follow-up. I don't tend to use ""attach to process"" so I forget that it's another option. cheers.  To anyone using WinDbg: 1>Setup symbols Look at these commands. (Help: in console .hh < command> ) .sympath .sympath+ .symfix 2>Set up source path .srcpath 3>Load SOS extention to debug managed / mixed mode programs. (Make sure you have extention path setup correctly) Add Microsoft.NET\Framework\v2.0.50727 for x86 using- .extpath Set a breakpoint for the clr to load. sxe ld:mscorwks (F5 / g) (Wait for ModLoad BP on mscorwks.dll) Make sure you dont have a duplicate sos extention already loaded. See: .chain Now we're ready to load the sos extention. :) .loadby sos mscorwks 4> Reload all the symbols.. .reload Now you're all set :) (YMMV)",0.2658591201958679,0.6494547536337099,0.08468612617042207
43194,"Mixing C/C++ Libraries Is it possible for gcc to link against a library that was created with Visual C++? If so are there any conflicts/problems that might arise from doing so? Yes if you make it a dynamic link and make the interface c-style. lib.exe will generate import libraries which are compatible with the gcc toolchain. That will resolve your linking problems. However that is just the start of the problem. Your larger problems will be things like exceptions and memory allocation. You must ensure that no exception cross from VC++ to gcc code there are no guarantees of compatibility. Every object from the VC++ library will need to live on the heap because: Do not mix gcc new/delete with anything from VC++ bad things will happen. This goes for object construction on the stack too. However if you make an interface like create_some_obj()/delete_some_obj() you do not end up using gcc new to construct VC++ objects. Maybe make a small handler object that handles construction and destruction. This way you preserve RAII but still use the c-interface for the true interface. Calling convention must be correct. In VC++ there is cdecl and stdcall. If gcc tried to call an imported function with the wrong calling type bad things will happen. The bottom line is keep a simple interface that is ANSI C compliant and you should be fine. The fact that crazy C++ goes on behind is okay as long as it is contained. Oh and make sure all the code is re-entrant or you risk opening a whole nother can-o-worms.  No. Plain and simple :-)  I would guess not. Usually c++ compilers have quite different methods of name-mangling which means that the linkers will fail to find the correct symbols. This is a good thing by the way because C++ compilers are allowed by the standard to have much greater levels of incompatibility than just this that will cause your program to crash die eat puppies and smear paint all over the wall. Usual schemes to work around this usually involve language independent techniques like COM or CORBA. A simpler sanctified method is to use C ""wrappers"" around your C++ code.  It is not possible. It's usually not even possible to link libraries produced by different versions of the same compiler.  Some of the comments in the answers here are slightly too generalistic. Whilst no in the specific case mentioned gcc binaries won't link with a VC++ library (AFAIK). The actual means of interlinking code/libraries is a question of the ABI standard being used. An increasingly common standard in the embedded world is the EABI (or ARM ABI) standard (based on work done during Itanium development http://www.codesourcery.com/cxx-abi/). If compilers are EABI compliant they can produce executables and libraries which will work with each other. An example of multiple toolchains working together is ARM's RVCT compiler which produces binaries which will work with GCC ARM ABI binaries. (The code sourcery link is down at the moment but can be google cached)",0.19078601269024562,0.04525708323279388,0.7639569040769605
87871,How best to make the selected date of an ASP.NET Calendar control available to JavaScript? How best to make the selected date of an ASP.NET Calendar control available to JavaScript? Most controls are pretty simple but the calendar requires more than just a simple document.getElementById().value. You might find useful the MS AJAX Calendar control extender you can get the date just by document.getElementById('<%= DateTextBox.ClientID%>').value; DateTextBox is an asp:TextBox control that will be extended with the AJAX calendar.  When you click on a date with the calendar ASP does a postback you could always put the SelectedDate value of the calendar control into a hidden field on the page during the OnLoad event of the page or the SelectionChanged event of the Calendar control.  This might help you. It uses YUI but you can probably port some of that functionality over to another library or custom code it. It should get you started though. http://www.codeproject.com/KB/aspnet/aspnet-yahoouicalendar.aspx  I'm using Page.ClientScript.RegisterClientScriptBlock() to put a small script on the page that just declare a variable with the desired value. I was hoping for some a little less... clunky.,0.027090495988810227,0.903814045182769,0.06909545882842082
47248,Is there a Firefox 3 addon similar to View Source Chart? Before I upgraded to Firefox 3 I used to constantly use the View Source Chart Firefox Addon which shows the source HTML in a very organized graphical form. Unfortunately this addon is only for Firefox 2 and the beta version for Firefox 3 now costs $10 on the author's site. Anyone know of a similar addon that works for Firefox 3? (of course I might indeed pay $10 for this but first want to ask around if there isn't anything better and free as the version for Firefox 2 had its limitations and I don't really want to pay $10 for something in beta that I can't test out before paying for it.) @Glenn Slaven I have to agree. Something you constantly find useful yet are not willing to spend $10 on?  i had the same problem... you can use the free version (2.5.0503)...it's compatible with firefox3 and it's work. on the web site it's write that it's not with full functionality but i don't know whitch functionality there aren't.  @Christopher: Of course it's everyones own prerogative. I think software's no different to any other product in this regard i.e. you pay for something if you think it's worth paying for. The main difference being that there is a lot of quality software available for free. I couldn't pay for every piece of software I find useful either but there are a couple I have paid for because I thought the price worth it. That software can be far between though.  View formatted source is kinda similar. It uses tree controls rather than pretty colour blocks though.  You can try to use Nightly Tester Tools It overrides addons compatibility check. Using this tool I managed to bring all of my fav extensions from FF2 to FF3  Try Chris Pederick's Web Developer Toolbar.  I don't know your personal circumstances but $10 really isn't all that much if the plugin is useful  You could always try Firefug. It sounds like it does a similar thing plus more :)  Is Firebug not sufficient?  @Bernard: it's a slippery slope. If I had to pay $10 for all the useful extensions and all the programs I use all the time (such as firefox+about 12 extensions filezilla bugzilla python jedit trac mediawiki putty etc) we'd be talking thousands of dollars real fast. And that chokes development time. Why? because every time I need something at the corp I'd have to file a purchase request with the boss and that takes weeks to get approved and sometimes isn't (PHB: Do you HAVE to have it? No? Then no.) If it's all free and I use only free stuff I can have a fully working development computer ready in 5 hours. This is primarily why I avoid pay software. Note that I do not use software unless I am legally allowed to. I use 7-zip instead of winzip for that reason. By the way I used to use view source chart and found it useful but decided against it long term. (For those who think I don't pay for anything you're almost right. I try to keep it to the absolute minimum. I have a $10/month debian stable virtual server. and my $45/month internet cable connection... Oh and a subscription for the paper version of Python Magazine. And Vista Home Premium (came with the Compaq laptop). Yeah I'm gonna lose some rep points on this one. By the way another side effect of specifically not installing commercial software on my computers is improved stability. Go figure.,0.17965634657210247,0.6508773636410367,0.1694662897868607
83444,"Starting javascript development - what to do? What it a good starting point for learning javascript? I'm a well versed C and Java programmer and I have some decent experience in C++ so I'm looking for a few suggestions: What is some good reference material? Is there a particular IDE/editor that is worth looking at? I use vim for C/C++ development and I used IntelliJ Idea for Java. I'm limited to either Linux or Mac based tools. How do you debug javascript code? Is it just a series of alert()'s? Am I required to run a webserver to test javascript or can I load the .js file directly? If so are there limitations to this approach? Any other advice for a javascript beginner? Thanks The W3Schools website is a good place to learn the basics. It also has a great reference section: http://www.w3schools.com/js/default.asp The Firefox plugin ""Firebug"" is great for debugging. No you don't need a webserver to run Javascript.  If you want to start from the beginning then I always suggest starting here: http://www.w3schools.com/js/default.asp Someone else mentioned Eloquent JavaScript which is a wonderfully formatted online tutorial that does a good job of linear teaching through the various concepts. Even though you are an experienced programmer these are simple references that will introduce you to 95% of the core language capabilities. Not that I have a problem with either but please do not begin your journey with Crockford articles or JavaScript: The Definitive Guide. In my experience that is the sort of information you digest after you have already been using JavaScript for a few months. Once you start getting into public and private methods overloading and class creation you are into ""style"" and not necessarily substance. People don't like to reference w3schools because it does not begin with object oriented techniques and tutorials and it has an outdated appeal. It is a big mistake because before you get into the advanced stuff I strongly suggest you begin with the fundamentals. After you get those down I suggest you pick up John Resig's book Pro JavaScript Techniques. John does a better job of covering some of the advanced techniques without getting into a bunch of the academic tripe you get elsewhere. I also wrote this post which did surprisingly better than I thought: http://blog.reindel.com/2007/10/16/mastering-javascript-concept-and-resource-guide/  Try your best to learn it WITHOUT relying on a library first. Since you have background in C its going to be a quick learn for you so do so without being flavored by jQuery or Prototype. Learn to build a good XMLHTTP Request manipulate the DOM build your own objects etc etc. Once done look at all the libraries and see which suits your needs the best. Always test in the latest browsers and then work your way back. If you're a very visual learner the Head First series is good. I agree learning javascript without a framework will mean you actually learn the language and what it can do rather than the framework and what it does. agree... 90% questions in StackOverflow about jQuery are made by people who doesn't know even the basics of javascript.  Keep it simple and test everything across multiple browsers. Compared to the strictly controlled compilation of Java you'll find Javascript is fuzzy and unpredictable. Many things don't behave themselves. I don't use jQuery myself but I'm starting to wish I did. Like many of the better javascript libraries it papers over some of the cracks and makes the language more regular.  You could run through Eloquent JavaScript though some of it might be a bit elementary if you're an experienced programmer. Coming to grips with all the weird quirks of this language is probably the biggest challenge. +1 I found Eloquent JavaScript a great resource for getting back into JavaScript programming after being away from web development for a while. It was a good refresher on the basics.  If you are talking about javascript in the browser you can just load an html page that includes your .js file. Firefox is probably the nicest browser for JS development. The debugging console is handy and you'll want to look into a couple of plugins: firebug (http://getfirebug.com/) and Venkman (http://www.mozilla.org/projects/venkman/). If you're happy with vim you'll probably find it good enough for js development. Textmate on the Mac is nice too.  I think that there are a lot of good answers here with a lot of good suggestions however I also disagree with most of the answers that say ""start learning with jQuery."" I'm passionately against learning a framework for a language before learning the language in which the framework is implemented. You're automatically creating a level of abstraction for yourself. Knowing the language prior to learning jQuery or any other framework will help enhance your ability to understand what the framework is doing how to write better code and how to implement a feature into the framework that you wish was there but isn't. With that said here's a set of resources that I have found to be extremely helpful in learning JavaScript (some of them have already been mentioned): Websites W3Schools JavaScript Reference Douglas Crockford's Website Books Head First JavaScript. This book is really good at getting you up to speed on the synxtax of JavaScript and what it's capable of without getting you bogged down into the technical implementations of the language. It also helps connect the dots between JavaScript and the DOM. JavaScript: The Good Parts At approximately 150 pages this is a relatively easy read that explains the good parts of the language and the bad parts of the language. This book will make you a better JavaScript programmer by staying away from the 'awful parts' of the language while also helping you to stick to the good parts and writing more clear maintainable expressive code. Videos Douglas Crockford's videos on ""Advanced JavaScript"" (1 2 3) Douglas Crockford's video on ""JavaScript: The Good Parts"" Frameworks jQuery. This seems to be the favorite around Stack Overflow. I've done some work with it and it really is a good library. Prototype. This is another library that I enjoy using. It's class creation and inheritance support are nice as well as its API. IDEs Aptana Studio is the best JavaScript IDE that I've ever used. It has all of the features you'd expect from a powerful IDE with respect to JavaScript. Notepad. You don't really need anything other than a web browser and text editor for writing JavaScript so if this floats your boat then go for it. Yes there are more websites books and videos that can help you get started but for someone that has a programming background I can't imagine that picking up JavaScript would be utterly difficult. Additionally there are other frameworks available but jQuery and Prototype are the ones with which I'm most familiar and have found them to be really useful. I like the Head First series I will go through the book If I find it worthwhile I will give you your rep. Excellent answer! /bumped  Since you come from a background in imperative languages I would strongly recommend that you get to understand the power of closures and functions as first order values. In my experience this is something that does not come naturally to java or c++ programmers.  There is a good JavaScript book by Marijn Haverbeke. It is a very good introduction for the beginner.  Debugging JavaScript; If you insert the line  debugger; in your JavaScript then your browser will usually fire up a Debugger. With IE and VS installed (if you are doing ASP.Net for example) then you can debug in VS. With Firefox and Firebug installed this will start the Firebug debugger which is helpful as the ""set breakpoint"" functionality in Firebug seems to be unreliable - at least in my case.  This is a great page to learn Javascript. http://www.hunlock.com/ He covers all sort of areas without depending on Libraries. Which is the best way to learn. Once you understand what Javascript is really about please go ahead and choose a library of your liking.  I'd highly recommend learning Javascript using jQuery. Although most languages are best to learn without a framework I'd say javascript is the exception to that rule. jQuery is well documented and takes out alot of the hacks that you generally need to get your code working in all browsers. For debugging I don't know of any specific tools but Firebug on Firefox is very helpful. There's no need to run a webserver but you don't want to load the JS file directly either most likely. Generally you set up an HTML page and include the javascript file from there.  Since you have proficiency in C C++ and Java I'll advice you to void comparing Javascript to these. Javascript has a similar syntax but is fundamentally very different. It's a prototype-based language. It has lexical scope and it has first-class functions. Those are all aspects that are foreign to said languages. It is not without reason that Javascript has been called scheme with Java-syntax.  Check Crockford's javascript articles first. You may want to fix the name Cockford != Crockford :) damn! I missed the key I guess...  http://www.gotapi.com is a good reference for documentation You can use whatever IDE you would like -- it's mainly text Firebug is great for debugging https://addons.mozilla.org/en-US/firefox/addon/1843 You can test locally -- JavaScript is run on the client anyways so no real limitations Once you get the basics down you might want to look at jQuery -- it really allows you to do some fantastic stuff that has already been tested etc. so you're not reinventing the wheel.  Douglas Crockford has several videos on Javascript on the YUI Developer Theater that are very good. There are two series I would recommend The JavaScript Programming Language Advanced JavaScript which can be found at this link.  If you're looking for a reference book on the language JavaScript: The Definitive Guide is the book to get. Visual Studio is by far the best Javascript debugging environment but that's not useful to you if you're limited to Linux & Mac. On that platform I would agree with the suggestions for Firefox with Firebug and Venkman.  Since you already have a java background the easiest way to jump into Javascript would probably be to check out an O'Reilly book. You'll get the syntax questions answered easily and be able to move on rapidly. Concerning an IDE I use either Dreamweaver or BBEdit on OS X or VIM. I'm probably not well versed in what is available though I tend to be an old hat. Most debugging is alerts sadly. IE has the ""errors found on this page click here for details"" box when you mess something up but this will usually only get you within a few lines of the problem (if you're lucky!) No webserver is needed. You can preview everything in the browser of your choice Tips: Stick to learning what you want to know. There are various frameworks available out there that may ""make things easier"" but don't worry about getting into those until you figure out the basics. It is not a very difficult language but can sometimes be very frustrating. Just apply your prior knowledge and you should be just fine.  Oh lastly Aptana is an excellent IDE for javascript (and css). The free version is good enough for learning.  You can use any texteditor to write javascript. I like Ultra Edit because it has syntax highlighting and code folding and sftp browser (almost any advanced text editors have) so it really doesn't matter. notepad++ is good and free with many features including highlighting and folding. To debug javascript you can use firebug which is firefox addon. You don't need to use alerts. You can write console.log(somevar) and see value in firebug console. Check more information on firebug console api. And you don't need webserver to run javascript. Just write html file with some javascript and open it with your favorite webbrowser. You might also want to check javascript frameworks like jquery mootools or Javascript MVC. They all have good documentation and tutorials. w3schools has basic javascript tutorial for beginners  Start learning JQuery. It's the best thing for JS development ever. No you don't need a webserver. JS is browser based. As for an IDE any text editor would do. Vim would work fine. Use Firebug in Firefox for JS debugging. It makes it so much easier. Again use JQuery. It's great. Alex ""# No you don't need a webserver. JS is browser based."" Not entirely true. If you're doing AJAX requests security restrictions will be different on a local file versus a remote file on a server. Only caveat to using any JS tookit including jQuery - be aware that these by their very nature of course hide a lot of the underlying details about JavaScript proper - if you want to learn the *language* you may want to skip toolkits until you realize why you would want to use one. Oh and try Aptana - it comes with a local web server called Jaxer. Very handy IDE. I'd have to think about whether learning jQuery ahead of plain old javascript would be advisable - jquery might not seem all that fantastic if you don't have vanilla JS to compare it to.  I prefer working with Textmate and the jQuery bundle. It is my editor for everything SVN commit mesages Git commit messages html css javascript python fooling around typing blog posts you name it.  If you already use InelliJ Idea it also has pretty good support for javascript development. It does highlighting autocompletion and some level of code validation. For debugging the best tool I know is Firebug extension. As reference material I suggest the book Javascript: The definitive guide from O'Reilly.",0.06820701360843091,0.8827619255678156,0.049031060823753504
56279,"Export ASPX to HTML We're building a CMS. The site will be built and managed by the users in aspx pages but we would like to create a static site of HTML's. The way we're doing it now is with code I found here that overloads the Render method in the Aspx Page and writes the HTML string to a file. This works fine for a single page but the thing with our CMS is that we want to automatically create a few HTML pages for a site right from the start even before the creator has edited anything in the system. Does anyone know of any way to do this? You could use wget (a command line tool) to recursively query each page and save them to html files. It would update all necessary links in the resulting html to reference .html files instead of .aspx. This way you can code all your site as if you were using server-generated pages (easier to test) and then convert it to static pages. If you need static HTML for performance reasons only my preference would be to use ASP.Net output caching.  I recommend you do this a very simple way and don't do it in code. It will allow your CMS code to do what the CMS code should do and will keep it as simple as possible. Use a product such as HTTrack. It calls itself a ""website copier"". It crawls a site and creates html output. It is fast and free. You can just have it run at whatever frequency you think is best. It decouples your HTML output needs from your CMS design and implementation. It reduces complexity and gives you some flexibility in how you output the HTML without introducing failure points in your CMS code.  I seem to have found the solution for my problemby using the Server.Ecxcute method. I found an article that demonstared the use of it: TextWriter textWriter = new StringWriter(); Server.Execute(""myOtherPage.aspx"" textWriter); Then I do a few maniulatons on the textWriter and insert it into an html file. Et voila! It works! I've found too much in article. I'd rather find this simpler http://msdn.microsoft.com/en-us/library/fb04e8f7.aspx  Calling the Render method is still pretty simple. Just create an instance of your page create a stub WebContext along with the WebRequest object and call the Render method of the page. You are then free to do whatever you want with the results. Alternatively write a little curl or wget script to download and store whichever pages you want to make static.  @ckarras: I would rather not use an external tool because I want the HTML pages to be created programmatically and not manually. @jttraino: I don't have a time interval in which the site needs to be outputted- the uotput has to occur when a user creates a new site. @Frank Krueger: I don't really understand how to create an instance of my page using WebContext and WebRequest. I searched for ""wget"" in searchdotnet and got to a post about a .net class called WebClient. It seems to do what I want if I use the DownloadString() method - gets a string from a specific url. The problem is that because our CMS needs to be logged in to when the method tries to reach the page it's thrown to the login page and therefore returns the login.aspx HTML... Any thoughts as to how I can continue from here?",0.16735680434007694,0.7597749794802757,0.07286821617964724
82151,"Is there a fast accurate Highlighter for Lucene? I've been using the (Java) Highlighter for Lucene (in the Sandbox package) for some time. However this isn't really very accurate when it comes to matching the correct terms in search results - it works well for simple queries for example searching for two separate words will highlight both code fragments in the results. However it doesn't act well with more complicated queries. In the simplest case phrase queries such as ""Stack Overflow"" will match all occurrences of Stack or Overflow in the highlighting which gives the impression to the user that it isn't working very well. I tried applying the fix here but that came with a lot of performance caveats and at the end of the day was just plain unusable. The performance is especially an issue on wildcard queries. This is due to the way that the highlighting works; instead of just working on the querystring and the text it parses it as Lucene would and then looks for all the matches that Lucene has made; unfortunately this means that for certain wildcard queries it can be looking for matches to 2000+ clauses on large documents and it's simply not fast enough. Is there any faster implementation of an accurate highlighter? The 'Highlighter for Lucene' link is currently broken. Thanks for pointing that out I've fixed the link. Now that Lucene 3.0.0 is out you should find that upgrading everything to that will make things just work. HOWEVER - beware that the highlighter now has a dependency on lucene-memory from contrib as well (this will only show up when highlighting for exact matches) I've been reading on the subject and came across spanQuery which would return to you the span of the matched term or terms in the field that matched.  You could look into using Solr. http://lucene.apache.org/solr Solr is a sort of generic search application that uses Lucene and supports highlighting. It's possible that the highlighting in Solr is usable as an API outside of Solr. You could also look at how Solr does it for inspiration. Thanks taking a look at Solr - I think I've always confused it with Nutch in the past and assumed they were the same thing silly me. I notice in the Solr docs it seems to separate out a PhraseHighlighter and a standard Highlighter so I'm not imbued with much confidence I'm afraid :( Unfortunately the solr highlighter just delegates to the highlighter in the Lucene Sandbox - it doesn't do anything clever :(  There is a new faster highlighter (needs to be patched in but will be part of release 2.9) https://issues.apache.org/jira/browse/LUCENE-1522 and a back-reference to this question Thanks for pointing that out Peter I'll give that a go and see if it's usable for us.",0.8370271682964827,0.09224236156461744,0.07073047013889983
6612,"Are there any decent free Java data plotting libraries out there? On a recent Java project we needed a free Java based real-time data plotting utility. After much searching we found this tool called the Scientific Graphics Toolkit or SGT from NOAA. It seemed pretty robust but we found out that it wasn't terribly configurable. Or at least not configurable enough to meet our needs. We ended up digging very deeply into the Java code and reverse engineering the code and changing it all around to make the plot tool look and act the way we wanted it to look and act. Of course this killed any chance for future upgrades from NOAA. So what free or cheap Java based data plotting tools or libraries do you use? Followup: Thanks for the JFreeChart suggestions. I checked out their website and it looks like a very nice data charting and plotting utility. I should have made it clear in my original question that I was looking specifically to plot real-time data. I corrected my question above to make that point clear. It appears that JFreeChart support for live data is marginal at best though. Any other suggestions out there? I'm in the exactly same boat.. Tried SGT since few times found it good but not enough configurable.. also digged . And also needing it for real-time. Since your question is from years ago have you found anything since so far ? I found this question when I was googling for open source plotting libraries for java. I wasn't quite happy with the answers posted here so I did some further research on the issue. Although this question has been posted back in 2008 this might still be interesting to someone. Here is a list of Open Source Charting & Reporting Tools in Java  You might want to check out JMathPlot  JHandles is an alternative graphics package for Octave (a math package). It is probably worth looking into but being Octave specific may not have what you need.  I'm using GRAL for real-time plotting. It's an LGPL Java library. Although it's not as powerful as JFreeChart it has a nicer API. I got a plot up and running in very short time. They also ship a real-time plotting example.  jcckit can handle real-time plotting. It's a bear to use though. I forked it and made a very simple wrapper around it for non-realtime plotting. The underlying complicated interface can be used directly too. https://bitbucket.org/hughperkins/easyjcckit  For real-time plotting you can use QN Plot JOpenChart or its fork Openchart2.  I used JFreeChart (http://www.jfree.org/jfreechart/) on a previous project. It has some very good built-in capabilities and the design was WAY extensible so you could always roll your own extension later if you needed some custom chart annotation or wanted an axis to render differently or whatever. It's definitely worth checking out.  Waterloo Scientific Graphics is a new LGPL project. Data objects are observable and could be updated in a real time plotting scenario. For details see http://waterloo.sourceforge.net/ A few screenshots:  I've had success using JFreeChart on multiple projects. It is very configurable. JFreeChart is open source but they charge for the developer guide. If you're doing something simple the sample code is probably good enough. Otherwise $50 for the developer guide is a pretty good bargain. With respect to ""real-time"" data I've also used JFreeChart for these sorts of applications. Unfortunately I had to create some custom data models with appropriate synchronization mechanisms to avoid race conditions. However it wasn't terribly difficult and JFreeChart would still be my first choice. However as the FAQ suggests JFreeChart might not give you the best performance if that is a big concern. +1 for jfreechart - it's really good. JFreeChart is good enough for real-time data display if your chart update interval is 1 sec or more.  Plot4j supports also real-time plotting!  Live Graph supports real-time rendering.  http://autoplot.org/ allows for real-time updates and can be used to create many types of scientific plots. To update the plot specify the URL to a data file and then append &filePollUpdates=1&tail=100. See the example at http://autoplot.org/cookbook#Loading_Data  I just ran into a similar issue (displaying fast-updating data for engineering purposes) and I'm using JChart2D. It's pretty minimalist and has a few quirks but it seems fairly fast: I'm running a benchmark speed test where it's adding 2331 points per second (333x7 traces) to a strip chart and uses 1% of the CPU on my 3GHz Pentium 4. This one looks very promising to me. Don't have time to actually try it out though.  Check ILOG's JViews - they have a lot of stuff and something might fit your needs. All of them are extremely configurable and quite fast. Not free though.  Look at SCaVis package http://jwork.org/scavis/ The program is used for scientific plots visualization of data You need to provide suitable disclosure when linking to your own projects.  PtPlot may be a good choice. Formerly called Ptolemy.  I've used JFreeChart in a rather complex application that needed to visualize data streams and calculations based on the data. We implemented the ability to visually edit the data plots by mouse and had a very large set of data points. JFreeChart handled it very well. Unfortunately I was stuck with v0.7 but the newest release are sooo much better when it comes to API clarity. The community is very helpful and the developers are responding to mails too. If you're doing a web application and don't want to bother with libraries you can check the Google Chart API. Didn't use it myself but I started some tests which were very promising.",0.27405047968574014,0.6655974761691157,0.060352044145144196
2311,"File size differences after copying a file to a server vía FTP I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part but after a PUT command the size of the file appears to change. Thus the size of the file is different from that of the file on the server. Once I download again the file from the FTP server the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also in case it means anything the script works perfectly in PHP vía ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver ftpuser ftppass) except: exit (""Cannot connect"") f = open (locfile ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile f) ftp.storbinary(""STOR %s"" % ftpfile f) f.close() ftp.dir (ftpfile) ftp.quit() ### Any suggestions? Small files take up a whole node on the filesystem whatever size that is. My host tends to report all small files as 4kb in ftp but in a shell gives an accurate size so it might be a 'feature' common to ftp clients.  Do you need to open the locfile in binary using ""rb""? f = open (locfile ""rb"") Thank you so much this was the shot between the eyes I needed I spent all weekend banging my head against the wall over this. This also applies to the reverse scenario transferring from ftp. It works perfectly with your advice. Thanks! (a positive response in 2 minutes wow) @PabloG Did you really make that comment just now or have I been sucked into a time warp?  Well if you go under the properties of your file in Windows or a *nix environment you will notice two sizes. One is the sector size and one is the actual size. The sector size is the number of sectors in bytes that are used up on your hard disk. That is because two files cannot be in the same sector with most modern file systems so if your file fills up half of the sector the whole sector is marked as filled. So you might be comparing the sector file size to the actual file size on the FTP server or vice versa.",0.6658877379196191,0.09398771528941047,0.24012454679097042
45577,"Syntax highlighting for html markup disappears in Visual Studio 2008 This happened to me in Visual Studio 2008 pre and post 2008 sp1 on more than one computer and to someone else I know so it can't be an isolated incident. Seemingly random every so often I lose all syntax highlighting in my aspx page (the html) so that Visual Studio now looks like a really expensive version of notepad. Does anyone know why does happens? Better yet anyone know how to fix it? I've followed the instructions from Andrea but had to include the following procedure: Andrea Instructions: Enter VS2008 click on Tools/Options Check ""Show all settings"" option Choose Environment/International Settings Change the language combo box. Close VS2008. ...then... After closing Visual Studio run this command below from a command prompt with admin permission: run devenv /resetskippkgs Reference: http://forums.asp.net/t/1413383.aspx  i had the same problem. Installation of DPack solved this issue  Try Ctrl-K Ctrl-D (reformat document). This will usually restore you syntax coloring. If it doesn't it should tell you where it got confused (e.g. Couldn't reformat due to line 123).  when this happens to me i let it sit there for a minute. it will usually bring the syntax highlighting back. I don't why It was voted negatively. It works to me sometimes.  You have basically experienced Visual Studio giving up. It gives up for many reason the page is too complicated to highlight which is usually because there are too many syntax errors. The highlighting is done with some very complicated and intelligent RegEx statements essentially however if Visual Studio is unable to apply them it just displays black text. One thing to try is to fix all the syntax issues if any. By the way this ""giving up"" happens in most IDE's. I have seen it happen once or twice in Elcipse too.  Enter VS2008 click on Tools/Options Check ""Show all settings"" option Choose Environment/International Settings Change the language combo box. Close VS2008.  Hi it happened to me after an uninstall of visual studio using a removal tool at http://msdn.microsoft.com/en-us/vstudio/bb968856.aspx I had to run this before upgrading sql server management studio to 2008 version syntax highlighting has disappeared since because of package loading failures. I didn't find the fix yet so if anybody has an idea...",0.26414553459382767,0.722614293525175,0.01324017188099719
96247,"What is the best place to store a configuration file in a java web application (war)? I create a web application (war) and deploy it on Tomcat. In the webapp there is a page with a form where an administrator can enter some configuration data. I don't want to store this data in an DBMS but just in an xml file on the file system. Where to put it? I would like to put the file somewhere in the directory tree where the application itself is deployed. Should my configuration file be in the WEB-INF directory? Or put it somewhere else? And what is the java code to use in a servlet to find the absolute path of the directory? Or can it be accessed with a relative path? Note that there is no default mechanism for servlet engines - you will need to make vendor specific assumptions. If it is your custom config WEB-INF is a good place for it. But some libraries may require configs to reside in WEB-INF/classes.  WEB-INF is a good place to put your config file. Here's some code to get the absolute path of the directory from a servlet. public void init(ServletConfig servletConfig) throws ServletException{ super.init(servletConfig); String path = servletConfig.getServletContext().getRealPath(""/WEB-INF"") This is not a compatible approach - it's not guaranteed by the servlet spec that getRealPath() will return a valid (non-null) path or even that the war is unpacked at all (IMHO Weblogic will not extract files from the .war to disk).  Putting it in WEB-INF will hide the XML file from users who try to access it directly through a URL so yes I'd say put it in WEB-INF.  I would not store it in the application folder because that would override the configuration with a new deployment of the application. I suggest you have a look at the Preferences API or write something in the users folder (the user that is running Tomcat).  What we do is to put it in a separate directory on the server (you could use something like /config /opt/config /root/config /home/username/config or anything you want). When our servlets start up they read the XML file get a few things out of it (most importantly DB connection information) and that's it. I asked about why we did this once. It would be nice to store everything in the DB but obviously you can't store DB connection information in the DB. You could hardcode things in the code but that's ugly for many reasons. If the info ever has to change you have to rebuild the code and redeploy. If someone gets a copy of your code or your WAR file they would then get that information. Putting things in the WAR file seems nice but if you want to change things much it could be a bad idea. The problem is that if you have to change the information then next time you redeploy it will overwrite the file so anything you didn't remember to change in the version getting built into the WAR gets forgotten. The file in a special place on the file system thing works quite well for us. It doesn't have any big downsides. You know where it is it's stored seperatly makes deploying to multiple machines easy if they all need different config values (since it's not part of the WAR). The only other solution I can think of that would work well would be keeping everything in the DB except the DB login info. That would come from Java system properties that are retrieved through the JVM. This the Preferences API thing mentioned by Hans Doggen above. I don't think it was around when our application was first developed if it was it wasn't used. As for the path for accessing the configuration file it's just a file on the filesystem. You don't need to worry about the web path. So when your servlet starts up it just opens the file at ""/config/myapp/config.xml"" (or whatever) and it will find the right thing. Just hardcodeing the path in for this one seems pretty harmless to me. @Peter: My dev setup was on Windows. I just created the directory on my box off C so that when the application asked for ""/config"" it would get the right directory. It worked quite well. @John: That's actually a pretty good idea this was simply the setup when I got there. In the application I am currently working on we are storing config file outside of the application in a folder located in USER_HOME directory. And on startup application gets the file from the location String absoluteConfigPath = System.getProperty(""user.home"") + File.separator + "".myapp"" + File.separator + ""config.xml""; just a small remark: according to the filesystem hierarchy guide http://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/opt.html all files should go under /opt/'package'/config where 'package' is the name of your program. Thanks for your suggestions. They are very usefull to me. This works for us too but it can be a pain if you occasionally deploy on Windows where it isn't natural to add /opt and the like. Rather than referencing the full path to the file you can put the ""config"" directory on the classpath for the server and just use ClassLoader.getResource(). We specify a system property when tomcat starts up. Our app gets our config directory from this system property so we can use a different configuration directory from server to server.  The answer to this depends on how you intend to read and write that config file. For example the Spring framework gives you the ability to use XML configuration files (or Java property files); these can be stored in your classpath (e.g. in the WEB-INF directory) anywhere else on the filesystem or even in memory. If you were to use Spring for this then the easiest place to store the config file is in your WEB-INF directory and then use Spring's ClassPathXmlApplicationContext class to access your configuration file. But again it all depends on how you plan to access that file.",0.9550866993758055,0.02084972924875753,0.024063571375436865
42034,"What is a tuple useful for? I am learning Python for a class now and we just covered tuples as one of the data types. I read the Wikipedia page on it but I could not figure out where such a data type would be useful in practice. Can I have some examples perhaps in Python where an immutable set of numbers would be needed? How is this different from a list? In addition to the places where they're syntactically required like the string % operation and for multiple return values I use tuples as a form of lightweight classes. For example suppose you have an object that passes out an opaque cookie to a caller from one method which is then passed into another method. A tuple is a good way to pack multiple values into that cookie without having to define a separate class to contain them. I try to be judicious about this particular use though. If the cookies are used liberally throughout the code it's better to create a class because it helps document their use. If they are only used in one place (e.g. one pair of methods) then I might use a tuple. In any case because it's Python you can start with a tuple and then change it to an instance of a custom class without having to change any code in the caller.  Tuples are used whenever you want to return multiple results from a function. Since they're immutable they can be used as keys for a dictionary (lists can't). From the persnickety PL person perspective: Python is conflating multiple things here; in a statically typed language a 'tuple' type matches values containing a fixed number of sub-values with fixed types. E.G. (string * int) the type of tuples containing a string and an integer. In a dynamically typed language though this sense appears to be submerged. The notion of immutability is not one that is generally associated with tuples; python appears to have co-opted and re-purposed the 'tuple' term.  I like this explanation. Basically you should use tuples when there's a constant structure (the 1st position always holds one type of value and the second another and so forth) and lists should be used for lists of homogeneous values. Of course there's always exceptions but this is a good general guideline.  I find them useful when you always deal with two or more objects as a set.  Tuples make good dictionary keys when you need to combine more than one piece of data into your key and don't feel like making a class for it. a = {} a[(12""bob"")] = ""hello!"" a[(""Hello""""en-US"")] = ""Hi There!"" I've used this feature primarily to create a dictionary with keys that are coordinates of the vertices of a mesh. However in my particular case the exact comparison of the floats involved worked fine which might not always be true for your purposes [in which case I'd probably convert your incoming floats to some kind of fixed-point integer] I never thought about using them as dictionary keys. Good idea.  A list can always replace a tuple with respect to functionality (except apparently as keys in a dict). However a tuple can make things go faster. The same is true for for example immutable strings in Java -- when will you ever need to be unable to alter your strings? Never! I just read a decent discussion on limiting what you can do in order to make better programs; Why Why Functional Programming Matters Matters  A tuple is useful for storing multiple values.. As you note a tuple is just like a list that is immutable - e.g. once created you cannot add/remove/swap elements. One benefit of being immutable is that because the tuple is fixed size it allows the run-time to perform certain optimizations. This is particularly beneficial when a tupple is used in the context of a return value or a parameter to a function.  Tuples and lists have the same uses in general. Immutable data types in general have many benefits mostly about concurrency issues. So when you have lists that are not volatile in nature and you need to guarantee that no consumer is altering it you may use a tuple. Typical examples are fixed data in an application like company divisions categories etc. If this data change typically a single producer rebuilts the tuple.",0.1202295062812471,0.08429105201656817,0.7954794417021847
40663,"Validating a HUGE XML file I'm trying to find a way to validate a large XML file against an XSD. I saw the question ...best way to validate an XML... but the answers all pointed to using the Xerces library for validation. The only problem is when I use that library to validate a 180 MB file then I get an OutOfMemoryException. Are there any other toolslibraries strategies for validating a larger than normal XML file? EDIT: The SAX solution worked for java validation but the other two suggestions for the libxml tool were very helpful as well for validation outside of java. For an easy to use Windows tool you can use [XML ValidatorBuddy](http://www.xml-tools.com/ValidatorBuddy.htm) which uses the Xerces SAX parser internally to validate huge files. SAX and libXML will help as already mentioned. You could also try increasing the maximum heap size for the JVM using the -Xmx option. E.g. to set the maximum heap size to 512MB: java -Xmx512m com.foo.MyClass  Use libxml which performs validation and has a streaming mode. looks like this will work under libxml2 as well correct? @oob Yes libxml2 works perfectly. Also if anyone is looking for the Windows binaries they are here: ftp://ftp.zlatkovic.com/libxml/  Personally I like to use XMLStarlet which has a command line interface and works on streams. It is a set of tools built on Libxml2.  Instead of using a DOMParser use a SAXParser. This reads from an input stream or reader so you can keep the XML on disk instead of loading it all into memory. SAXParserFactory factory = SAXParserFactory.newInstance(); factory.setValidating(true); factory.setNamespaceAware(true); SAXParser parser = factory.newSAXParser(); XMLReader reader = parser.getXMLReader(); reader.setErrorHandler(new SimpleErrorHandler()); reader.parse(new InputSource(new FileReader (""document.xml"")));",0.8449289711506478,0.060710062908543846,0.09436096594080838
35186,"How do I fix a NoSuchMethodError? I'm getting a NoSuchMethodError error when running my Java program. What's wrong and how do I fix it? If you are writing a webapp ensure that you don't have conflicting versions of a jar in your container's global library directory and also in your app. You may not necessarily know which jar is being used by the classloader. e.g. tomcat/common/lib mywebapp/WEB-INF/lib  Note that in the case of reflection you get an NoSuchMethodException while with non-reflective code you get NoSuchMethodError. I tend to go looking in very different places when confronted with one versus the other. +1 NoSuchMethodException vs NoSuchMethodError  This can also be the result of using reflection. If you have code that reflects on a class and extracts a method by name (eg: with Class.getDeclaredMethod(""someMethodName"" .....)) then any time that method name changes such as during a refactor you will need to remember to update the parameters to the reflection method to match the new method signature or the getDeclaredMethod call will throw a NoSuchMethodException. If this is the reason then the stack trace should show the point that the reflection method is invoked and you'll just need to update the parameters to match the actual method signature. In my experience this comes up occasionally when unit testing private methods/fields and using a TestUtilities class to extract fields for test verification. (Generally with legacy code that wasn't designed with unit testing in mind.)  If you have access to change the JVM parameters adding verbose output should allow you to see what classes are being loaded from what JARs. java -verbose:class <other args> When your program is run the JVM should dump to standard out information such as: ... [Loaded junit.framework.Assert from file:/C:/Program%20Files/junit3.8.2/junit.jar] ...  Without any more information it is difficult to pinpoint the problem but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method than the one you are using when running it. Look at the stack trace ... If the exception appears when calling a method on an object in a library you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places. If the exception appears when calling a method on objects instantiated by classes you made then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.  To answer the original question. According to java docs here ""NoSuchMethodError"" Thrown if an application tries to call a specified method of a class (either static or instance) and that class no longer has a definition of that method. Normally this error is caught by the compiler; this error can only occur at run time if the definition of a class has incompatibly changed. !) if it happens in the run time check the class containing the method is in class path. 2) Check if you have added new version of jar and the method is compatible.  I feel your pain. You can learn programming out of a book but when it comes to working with Eclipse or Visual Studio its a ^&^&'n nightmare to do something simple like add a library. Everybody expects you to know how to use it and if you don't they downvote your question. The problem is if you don't work in an office or know anyone who you can ask these questions then its almost impossible to figure this stuff out. Anyway... I was having your problem and this is how I fixed it. The following steps are a working way to add a library. I had done the first two steps right but I hadn't done the last one by dragging the "".jar"" file direct from the file system into the ""lib"" folder on my eclipse project. Additionally I had to remove the previous version of the library from both the build path and the ""lib"" folder. If anyone knows of a more proper way to add/update a library please chime in. Step 1 - Add .jar to build path Step 2 - Associate sources and javadocs (optional) Step 3 - Actually drag .jar file into ""lib"" folder (not optional) +1 for ""Everybody expects you to know how to use it and if you don't they downvote your question.""  This is usually caused when using a build system like Apache Ant that only compiles java files when the java file is newer than the class file. If a method signature changes and classes were using the old version things may not be compiled correctly. The usual fix is to do a full rebuild (usually ""ant clean"" then ""ant""). Sometimes this can also be caused when compiling against one version of a library but running against a different version.  I ran into a similar problem when I was changing method signatures in my application. Cleaning and rebuilding my project resolved the ""NoSuchMethodError"".",0.6555868039389244,0.02763785996243789,0.3167753360986378
4942,"How to sell Python to a client/boss/person with lots of cash When asked to create system XYZ and you ask to do it in Python over PHP or Ruby what are the main features you can mention when they require you to explain it? The best sell of Python I've ever seen was by a manager in our group who had a young daughter. He used a quote attributed to Einstein: If you can't explain something to a six-year-old you really don't understand it yourself. The next few slides of his presentation demonstrated how he was able to teach his young daughter some basic Python in less than 30 minutes with examples of the code she wrote and an explanation of what it did. He ended the presentation with a picture of his daughter and her quote ""Programming is fun!"" I would focus on Python's user friendliness and wealth of libraries and frameworks. There are also a lot of little libraries that you might not get in other languages and would have to write yourself (i.e. How a C++ developer writes Python). Good luck! LOVE this. Thanks for sharing!  This is one of those cases that really boil down to personal preference or situational details. If you're more comfortable and experienced with Python then say so. Are they asking you to justify it because they're more comfortable with one of the other environments? After you're done will the system be passed off to someone else for long-term maintenance? If they ask you to use a technology or language that you're not as familiar with then make sure they know up-front that it's going to take you longer.  Focus on the shorter time needed for development/prototype and possibly easier maintenance (none of this may apply against Ruby).  It's one of the preferred languages over at Google - It's several years ahead of Ruby in terms of ""maturity"" (what ever that really means - but managers like that). Since it's prefered by Google you can also run it on the Google App Engine. Mircosoft is also embracing Python and will have a v2.0 of IronPython coming out shortly. They are working on a Ruby implementation as well but the Python version is way ahead and is actually ""ready for primetime"". That give you the possibility for easy integration with .NET code as well as being able to write client side RIAs in Python when Silverlight 2 ships.  I agree with mreggen. Tell them by working in Python you can get things done faster. Getting things done faster possibly means money saved by the client. In the least it means that you are working with a language you a more comfortable in meaning faster development debugging and refactoring time. There will be less time spent looking up documentation on what function to use to find the length of a string etc.  Give them a snippet of code in each (no more than a page) that performs some cool function that they will like. (e.g show outliers in a data set). Show them each page. One in PHP Ruby and Python. Ask them which they find easiest to understand/read. Tell them thats why you want to use Python. It's easier to read if you've not written it more manageable less buggy and quicker to build features because it is the most elegant (pythonic)  Python will run on Google App Engine ;)  I would consider that using python on a new project is completely dependent on what problem you are trying to solve with python. If you want someone to agree with you that you should use python then show them how python's features apply specifically to that problem. In the case of web development with python talk about WSGI and other web libraries and frameworks you could use that would make your life easier. One note for python is that most of the frameworks for python web development can be plugged right into any current project. With ruby on rails you're practically working in a DSL that anyone who uses your project will have to learn. If they know python then they can figure out what you are doing with django etc in a day. I'm only talking about web development because it appears that's what you are going to be working on seeing ruby python and PHP in the same list. The real message that's important is applying to whatever it is you like about python directly to some problem you are trying to solve.",0.28374806618060183,0.37532137726743,0.3409305565519682
75479,Eclipse RCP app fails to start I have an Eclipse RCP app running on Java 6. When I try to run the product configuration from within Eclipse it silently terminates almost immediately. No error is reported in the console. I've tried setting breakpoints in the IApplication and in the Activator and neither are reached. I know I don't have much specific information here but can anyone give me any pointers on where I might start looking to diagnose the problem? I experienced this problem after migrating my RCP app from 3.7 to 4.2. The solution for me was to delete to runtime-product.product directory and re-run.  Have you checked the logs in runtime/.metadata folder? Also make sure to validate all plugins in the runtime. Having them as a dependency doesn't necessarily mean they are added to the runtime. This is probably the biggest gotcha when launching an rcp app. That was it. Thanks.  I wasn't able to locate the runtime/.metadata folder but this very helpful post directed me to add -consoleLog and -noExit to my runtime arguments which dumped the errors to the console. Configuration problems.,0.779162704685879,0.1264586951910154,0.09437860012310552
53623,"How to get whois information of a domain name in my program? I want to get whois information of a domain name from my c#/java programs. Is there a simple way to do this? I think the easiest way is a socket connection to a whois server on port 43. Send the domainname followed by a newline and read the response. You need to determine *which* whois server to use first. There's an example of that here: here's a good example: http://flipbit.co.uk/2009/06/querying-whois-server-data-with-c.html  I found a perfect C# example here. It's 11 lines of code to copy and paste straight into your own application. BUT FIRST you should add some using statements to ensure that the dispose methods are properly called to prevent memory leaks: StringBuilder stringBuilderResult = new StringBuilder(); using(TcpClient tcpClinetWhois = new TcpClient(whoIsServer 43)) { using(NetworkStream networkStreamWhois = tcpClinetWhois.GetStream()) { using(BufferedStream bufferedStreamWhois = new BufferedStream(networkStreamWhois)) { using(StreamWriter streamWriter = new StreamWriter(bufferedStreamWhois)) { streamWriter.WriteLine(url); streamWriter.Flush(); using (StreamReader streamReaderReceive = new StreamReader(bufferedStreamWhois)) { while (!streamReaderReceive.EndOfStream) stringBuilderResult.AppendLine(streamReaderReceive.ReadLine()); } } } } } Thanks for posting this answer. I have edited your post to fixed some code formatting issues.  This might help: Whois search using C# While this link may answer the question it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes. The source code appears to have gone AWOL :-(  Thomas' answer will only work if you know which ""whois"" server to connect to. There are many different ways of finding that out but none (AFAIK) that works uniformly for every domain registry. Some domain names support an SRV record for the _nicname._tcp service in the DNS but there are issues with that because there's no accepted standard yet on how to prevent a subdomain from serving up SRV records which override those of the official registry (see http://tools.ietf.org/html/draft-sanz-whois-srv-00). For many TLDs it's possible to send your query to <tld>.whois-servers.net. This actually works quite well but beware that it won't work in all cases where there are officially delegated second level domains. For example in .uk there are several official sub-domains but only some of them are run by the .uk registry and the others have their own WHOIS services and those aren't in the whois-servers.net database. Confusingly there are also ""unofficial"" registries such as .uk.com which are in the whois-servers.net database. p.s. the official End-Of-Line delimiter in WHOIS as with most IETF protocols is CRLF not just LF.  I found some web services that offer this information. This one is free and worked great for me. http://www.webservicex.net/whois.asmx?op=GetWhoIS Looked promising but I get: System.Net.Sockets.SocketException: The requested name is valid but no data of the requested type was found at whois.whois.GetWhoIS(String HostName) (even when entering an ip address in the field on the info page itself)  I found a perfect C# example here. It's 11 lines of code to copy and paste straight into your own application. /// <summary> /// Gets the whois information. /// </summary> /// <param name=""whoisServer"">The whois server.</param> /// <param name=""url"">The URL.</param> /// <returns></returns> private string GetWhoisInformation(string whoisServer string url) { StringBuilder stringBuilderResult = new StringBuilder(); TcpClient tcpClinetWhois = new TcpClient(whoisServer 43); NetworkStream networkStreamWhois = tcpClinetWhois.GetStream(); BufferedStream bufferedStreamWhois = new BufferedStream(networkStreamWhois); StreamWriter streamWriter = new StreamWriter(bufferedStreamWhois); streamWriter.WriteLine(url); streamWriter.Flush(); StreamReader streamReaderReceive = new StreamReader(bufferedStreamWhois); while (!streamReaderReceive.EndOfStream) stringBuilderResult.AppendLine(streamReaderReceive.ReadLine()); return stringBuilderResult.ToString(); }  Here's the Java solution which just opens up a shell and runs whois: import java.io.*; import java.util.*; public class ExecTest2 { public static void main(String[] args) throws IOException { Process result = Runtime.getRuntime().exec(""whois stackoverflow.com""); BufferedReader output = new BufferedReader(new InputStreamReader(result.getInputStream())); StringBuffer outputSB = new StringBuffer(40000); String s = null; while ((s = output.readLine()) != null) { outputSB.append(s + ""\n""); System.out.println(s); } String whoisStr = output.toString(); } }",0.9809467879315581,0.007789304945641303,0.011263907122800459
33708,"My (Java/Swing) MouseListener isn't listening help me figure out why So I've got a JPanel implementing MouseListener and MouseMotionListener: import javax.swing.*; import java.awt.*; import java.awt.event.*; public class DisplayArea extends JPanel implements MouseListener MouseMotionListener { public DisplayArea(Rectangle bounds Display display) { setLayout(null); setBounds(bounds); setOpaque(false); setPreferredSize(new Dimension(bounds.width bounds.height)); this.display = display; } public void paintComponent(Graphics g) { Graphics2D g2 = (Graphics2D)g; if (display.getControlPanel().Antialiasing()) { g2.addRenderingHints(new RenderingHints(RenderingHints.KEY_ANTIALIASING RenderingHints.VALUE_ANTIALIAS_ON)); } g2.setColor(Color.white); g2.fillRect(0 0 getWidth() getHeight()); } public void mousePressed(MouseEvent event) { System.out.println(""mousePressed()""); mx1 = event.getX(); my1 = event.getY(); } public void mouseReleased(MouseEvent event) { System.out.println(""mouseReleased()""); mx2 = event.getX(); my2 = event.getY(); int mode = display.getControlPanel().Mode(); switch (mode) { case ControlPanel.LINE: System.out.println(""Line from "" + mx1 + "" "" + my1 + "" to "" + mx2 + "" "" + my2 + "".""); } } public void mouseEntered(MouseEvent event) { System.out.println(""mouseEntered()""); } public void mouseExited(MouseEvent event) { System.out.println(""mouseExited()""); } public void mouseClicked(MouseEvent event) { System.out.println(""mouseClicked()""); } public void mouseMoved(MouseEvent event) { System.out.println(""mouseMoved()""); } public void mouseDragged(MouseEvent event) { System.out.println(""mouseDragged()""); } private Display display = null; private int mx1 = -1; private int my1 = -1; private int mx2 = -1; private int my2 = -1; } The trouble is none of these mouse functions are ever called. DisplayArea is created like this: da = new DisplayArea(new Rectangle(CONTROL_WIDTH 0 DISPLAY_WIDTH DISPLAY_HEIGHT) this); I am not really a Java programmer (this is part of an assignment) but I can't see anything glaringly obvious. Can someone smarter than I see anything? I don't see anywhere in the code where you call addMouseListener(this) or addMouseMotionListener(this) for the DisplayArea in order for it to subscribe to those events.  I don't see any code here to register to the mouse listeners. You have to call addMouseListener(this) and addMouseMotionListener(this) on the DisplayArea.  The implements mouselistener mousemotionlistener just allows the displayArea class to listen to some to be defined Swing component's mouse events. You have to explicitly define what it should be listening at. So I suppose you could add something like this to the constructor: this.addMouseListener(this); this.addMouseMotionListener(this);",0.006451694952758706,0.9800470679201044,0.01350123712713674
55365,"How can I get Emacs' key bindings in Python's IDLE? I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs? There's a program for Windows called XKeymacs that allows you to specify emacs keybindings for different programs. It should work with IDLE. http://www.cam.hi-ho.ne.jp/oishi/indexen.html -Mark  IDLE provides Emacs keybindings without having to install other software. Open up the menu item Options -> Configure IDLE... Go to Keys tab In the drop down menu on the right side of the dialog change the select to ""IDLE Classic Unix"" It's not the true emacs key bindings but you get the basics like movement saving/opening ...  'readline' module supposedly provides Emacs like key bindings and even functionality. However it is not available on Windows but on Unix. Therefore this might be a viable solution if you are not using Windows. import readline Since I am running IDLE on Windows it is unfortunately not an option for me.",0.5133193788804599,0.45653756864986844,0.030143052469671635
80802,"Does use of anonymous functions affect performance? I've been wondering is there a performance difference between using named functions and anonymous functions in Javascript? for (var i = 0; i < 1000; ++i) { myObjects[i].onMyEvent = function() { // do something }; } vs function myEventHandler() { // do something } for (var i = 0; i < 1000; ++i) { myObjects[i].onMyEvent = myEventHandler; } The first is tidier since it doesn't clutter up your code with rarely-used functions but does it matter that you're re-declaring that function multiple times? I know it isn't in the question but with regards to code-cleanliness/legibility I think the 'right way' is somewhere in the middle. ""Clutter"" of rarely-used top-level functions is annoying but so is heavily-nested code that depends a lot on anonymous functions that are declared in-line with their invocation (think node.js callback hell). Both the former and the latter can make debugging/execution tracing difficult. The performance tests below run the function for thousands of iterations. Even if you see a substantial difference a majority of the use cases won't be doing this in iterations of that order. Hence it's better to choose whatever suits your needs and ignore performance for this particular case. YES! Anonymous functions are faster than regular functions. Perhaps if speed is of the utmost importance... more important than code re-use then consider using anonymous functions. There is a really good article about optimizing javascript and anonymous functions here: http://dev.opera.com/articles/view/efficient-javascript/?page=2  I wouldn't expect much difference but if there is one it will likely vary by scripting engine or browser. If you find the code easier to grok performance is a non-issue unless you expect to call the function millions of times.  a reference is nearly always going to be slower then the thing it's refering to. Think of it this way - let's say you want to print the result of adding 1 + 1. Which makes more sense: alert(1 + 1); or a = 1; b = 1; alert(a + b); I realize that's a really simplistic way to look at it but it's illustrative right? Use a reference only if it's going to be used multiple times - for instance which of these examples makes more sense: $(a.button1).click(function(){alert('you clicked ' + this);}); $(a.button2).click(function(){alert('you clicked ' + this);}); or function buttonClickHandler(){alert('you clicked ' + this);} $(a.button1).click(buttonClickHandler); $(a.button2).click(buttonClickHandler); The second one is better practice even if it's got more lines. Hopefully all this is helpful. (and the jquery syntax didn't throw anyone off)  As a general design principle you should avoid implimenting the same code multiple times. Instead you should lift common code out into a function and execute that (general well tested easy to modify) function from multiple places. If (unlike what you infer from your question) you are declaring the internal function once and using that code once (and have nothing else identical in your program) then an anonomous function probably (thats a guess folks) gets treated the same way by the compiler as a normal named function. Its a very useful feature in specific instances but shouldn't be used in many situations.  @nickf That's a rather fatuous test though you're comparing the execution and compilation time there which is obviously going to cost method 1 (compiles N times JS engine depending) with method 2 (compiles once). I can't imagine a JS developer who would pass their probation writing code in such a manner. A far more realistic approach is the anonymous assignment as in fact you're using for your document.onclick method is more like the following which in fact mildly favours the anon method. Using a similar test framework to yours: function test(m) { for (var i = 0; i < 1000000; ++i) { m(); } } function named() {var x = 0; x++;} var test1 = named; var test2 = function() {var x = 0; x++;} document.onclick = function() { var start = new Date(); test(test1); var mid = new Date(); test(test2); var end = new Date(); alert (""Test 1: "" + (mid - start) + ""ms\n Test 2: "" + (end - mid) + ""ms""); }  I found this interesting: http://weblog.raganwald.com/2007/08/ruminations-about-performance-of.html I would think it depends on the browser though really.  What will definitely make your loop faster across a variety of browsers especially IE browsers is looping as follows: for (var i = 0 iLength = imgs.length; i < iLength; i++) { // do something } You've put in an arbitrary 1000 into the loop condition but you get my drift if you wanted to go through all the items in the array.  @annakata You've missed what I've been trying to test. Your example just calls two functions identical in every way except for how they were first defined. What I was asking was whether or not it was a performance hit to use anonymous functions (which are defined multiple times if used in a loop) vs a named function (defined only once). It might seem obvious but I thought perhaps the JS engine would compile it only once or something. I'll admit my test was slightly fatuous (I'll also admit that I had to look that up) because it didn't strictly test what I was initially asking (it included running time for the functions). I'll modify my other answer to show the updated code.  The performance problem here is the cost of creating a new function object at each iteration of the loop and not the fact that you use an anonymous function: for (var i = 0; i < 1000; ++i) { myObjects[i].onMyEvent = function() { // do something }; } You are creating a thousand distinct function objects even though they have the same body of code and no binding to the lexical scope (closure). The following seems faster on the other hand because it simply assigns the same function reference to the array elements throughout the loop: function myEventHandler() { // do something } for (var i = 0; i < 1000; ++i) { myObjects[i].onMyEvent = myEventHandler; } If you were to create the anonymous function before entering the loop then only assign references to it to the array elements while inside the loop you will find that there is no performance or semantic difference whatsoever when compared to the named function version: var handler = function() { // do something }; for (var i = 0; i < 1000; ++i) { myObjects[i].onMyEvent = handler; } In short there is no observable performance cost to using anonymous over named functions. As an aside it may appear from above that there is no difference between: function myEventHandler() { /* ... */ } and: var myEventHandler = function() { /* ... */ } The former is a function declaration whereas the latter is a variable assignment to an anonymous function. Although they may appear to have the same effect JavaScript does treat them slightly differently. To understand the difference I recommend reading “JavaScript function declaration ambiguity”. You forgot the parentheses before the function body. I just tested it they are required. @chinoto Thanks for pointing out the omission. Fixed!  @nickf (wish I had the rep to just comment but I've only just found this site) My point is that there is confusion here between named/anonymous functions and the use case of executing + compiling in an iteration. As I illustrated the difference between anon+named is negligible in itself - I'm saying it's the use case which is faulty. It seems obvious to me but if not I think the best advice is ""don't do dumb things"" (of which the constant block shifting + object creation of this use case is one) and if you aren't sure test!  Anonymous objects are faster than named objects. But calling more functions is more expensive and to a degree which eclipses any savings you might get from using anonymous functions. Each function called adds to the call stack which introduces a small but non-trivial amount of overhead. But unless you're writing encryption/decryption routines or something similarly sensitive to performance as many others have noted it's always better to optimize for elegant easy-to-read code over fast code. Assuming you are writing well-architected code then issues of speed should be the responsibility of those writing the interpreters/compilers.  Here's my test code: var dummyVar; function test1() { for (var i = 0; i < 1000000; ++i) { dummyVar = myFunc; } } function test2() { for (var i = 0; i < 1000000; ++i) { dummyVar = function() { var x = 0; x++; }; } } function myFunc() { var x = 0; x++; } document.onclick = function() { var start = new Date(); test1(); var mid = new Date(); test2(); var end = new Date(); alert (""Test 1: "" + (mid - start) + ""\n Test 2: "" + (end - mid)); } The results: Test 1: 142ms Test 2: 1983ms It appears that the JS engine doesn't recognise that it's the same function in Test2 and compiles it each time. Times for me on Chrome 23: (2ms/17ms) IE9: (20ms/83ms) FF 17: (2ms/96ms) In which browser was this test conducted?",0.044603019847225804,0.5087762561579192,0.4466207239948551
19193,"How to make a tree in C++? How do I make a tree data structure in C++ that uses iterators instead of pointers? I couldn't find anything in the STL that can do this. What I would like to do is to be able to create and manipulate trees like this: #include <iostream> #include <tree> using namespace std; int main() { tree<int> myTree; tree<int>::iterator i = myTree.root(); *i = 42; tree<int>::iterator j = i.add_child(); *j = 777; j = j.parent(); if (i == myTree.root() && i == j) cout << ""i and j are both pointing to the root\n""; return 0; } Thank you tree.hh seems to be just what I was looking for. If this is for gaining the benefit of a data-structure holding arbitrary index types optimized for searching and good at insertion then consider using a map. A map is an associative container that has performance guarantees identical to those of a tree: logarithmic searching logarithmic insertion logarithmic deletion linear space. Internally they are often implemented as red-black trees although that is not a guarantee. Still as an STL user all you should care about is the performance guarantees of the STL algorithms and data-structures. Whether they're implemented as trees or little green men shouldn't matter to you. I'm not sure if a map is what I need but thanks for the info. I will remember to use maps whenever possible instead of implementing trees. Why would you want to do that? If this is for learning purposes then you can write your own tree data structure. If this is for gaining the benefit of a data-structure holding arbitrary index types optimized for searching and good at insertion then consider using a map. A map is an associative container that has performance guarantees identical to those of a tree: logarithmic searching logarithmic insertion logarithmic deletion linear space. Internally they are often implemented as red-black trees although that is not a guarantee. Still as an STL user all you should care about is the performance guarantees of the STL algorithms and data-structures. Whether they're implemented as trees or little green men shouldn't matter to you. As a side note there's no such thing as a root() function. All STL containers have the begin() function implementing the conceptual beginning of a container. The kind of iterator returned by that function depends on the characteristics of the container.  Here is tree.hh which is a bit close to what you want to do though a bit different. Here is a piece of code extracted from its website. int main(int char **) { tree<string> tr; tree<string>::iterator top one two loc banana; top=tr.begin(); one=tr.insert(top ""one""); two=tr.append_child(one ""two""); tr.append_child(two ""apple""); banana=tr.append_child(two ""banana""); tr.append_child(banana""cherry""); tr.append_child(two ""peach""); tr.append_child(one""three""); loc=find(tr.begin() tr.end() ""two""); if(loc!=tr.end()) { tree<string>::sibling_iterator sib=tr.begin(loc); while(sib!=tr.end(loc)) { cout << (*sib) << endl; ++sib; } cout << endl; tree<string>::iterator sib2=tr.begin(loc); tree<string>::iterator end2=tr.end(loc); while(sib2!=end2) { for(int i=0; i<tr.depth(sib2)-2; ++i) cout << "" ""; cout << (*sib2) << endl; ++sib2; } } } Now what's different? Your implementation is simpler when it comes to append a node to the tree. Though your version is indiscutably simpler the dev of this lib probably wanted to have some info accessible without browsing the tree such as the size of the tree for instance. I also assume he didn't want to store the root on all nodes for performance reason. So if you want to implement it your way I suggest you keep most of the logic and add the link to the parent tree in the iterator and rewrite append a bit.",0.004265134406786699,0.02655707323874387,0.9691777923544694
38998,"Can I stop .NET eating IDs? I'm an Information Architect and JavaScript developer by trade nowadays but recently I've been getting back into back-end coding again. And whilst trying to get an HTML prototype integrated and working with our C#-based CMS I've come to blows with our programmers over the HTML ID attributes being arbitrarily rewritten by .NET for form elements. I can understand the code-behind reasoning for .NET changing IDs but the fact you can no longer use IDs when trying to develop e.g. jQuery enhanced interfaces is causing some friction. What can I do to work around this? I've tried using the class attribute instead but that's really crappy not what it's meant for and doesn't get around that problem of .NET effectively changing rendered source on the fly. It also means that CSS is less useful now and less efficient to create and maintain. Any tips or advice greatly appreciated--anything for a few less sleepless nights... Look at ASP.Net MVC - it addresses the over-kill object hierarchies that ASP.Net generates by default. This site is written in MVC (I think) - look at it's structure. Were I working on a new project right now I would consider it first If you're stuck with basic ASP.Net then be careful overriding the ClientID and UniqueID - it tends to break many web controls. The best way I've found is to pass the unreadable ClientID out to the Javascript.  You can extend .net controls and make them return actual id's when related properties are called. ClientID is the id attribute and UniqueID is the name attribute of html elements. So when you create a textbox like the following and using this instead of the textbox in framework you make id and name attributes render as the same as the server-side id. public class MyTextBox : TextBox { public override string ClientID { get { return ID; } } public override string UniqueID { get { return ID; } } } To use this new user control basically register this control as you would do for a custom user control (you can do is in web.config so you won't have to do it in all your pages): <%@ Register Assembly=""MyLibrary"" NameSpace=""MyLibrary.WebControls"" TagPrefix=""MyPrefix"" %> And use it like you would use a text box: <MyPrefix:MyTextBox ID=""sampleTextBox"" runat=""server"" /> One thing you'll also need is adapters for listbox controls and a .browser file  Personally I use a set of methods I have developed for bridging the server-side ASP.NET ""magic"" (I have yet to use the MS MVC stuff yet) and my client-side code because of the munging of the IDs that happens. Here is just one that may or may not prove useful: public void RegisterControlClientID(Control control) { string variableDeclaration = string.Format(""var {0} = \""{1}\"";"" control.ID control.ClientID); ClientScript.RegisterClientScriptBlock(GetType() control.ID variableDeclaration true); } So in your server-side code you simply call this and pass in the instance of a control for which you want to use a friendlier name for. In other words during design time you may have a textbox with the ID of ""m_SomeTextBox"" and you want to be able to write your JavaScript using that same name - you would simply call this method in your server-side code: RegisterControlClientID(m_SomeTextBox); And then on the client the following is rendered: var m_SomeTextBox = ""ctl00_m_ContentPlaceHolder_m_SomeTextBox""; That way all of your JavaScript code can be fairly ignorant of what ASP.NET decides to name the variable. Granted there are some caveats to this such as when you have multiple instances of a control on a page (because of using multiple instances of user controls that all have an instance of m_SomeTextBox within them for example) but generally this method may be useful for your most basic needs.  You definitely don't want to hard-code the asp.net-generated ID into your CSS because it can change if you rearrange things on your page in such a way that your control tree changes. You're right that CSS IDs have their place so I would ignore the suggestions to just use classes. The various javascript hacks described here are overkill for a small problem. So is inheriting from a class and overriding the ID property. And it's certainly not helpful to suggest switching to MVC when all you want to do is refactor some CSS. Just have separate divs and spans that you target with CSS. Don't target the ASP.NET controls directly if you want to use IDs.  <div id=""DataGridContainer""> <asp:datagrid runat=server id=""DataGrid"" > ...... <asp:datagrid> </div>  One method is to override the ID's manually: public override string UniqueID { get { return this.ID; } } public override string ClientID { get { return this.ID; } } Rick Strahl wrote a blog post with some more information on that approach.  What I usually do is create a general function that receives the name of the field. It adds the usual ""asp.net"" prefix and returns the object. var elemPrefix = 'ctl00-ContentPlaceHolder-'; //replace the dashes for underscores var o = function(name) { return document.getElementById(elemPrefix + name) } With that you can use this kind of calls in jQuery $(o('buttonId')).bind('click' function() { alert('hi); });  The short answer is no with webforms the id can always be rewritten depending on the nesting of the element. You can get access to the id through the ClientID property so you could set the ids into variables in a script at the end of the page/control then put them into jQuery. something like this: <asp:button id=""ImAButton"" runat=""server"">Click Me</asp:button> <script type=""text/javascript""> var buttonId = ""<%=ImAButton.ClientId%>""; $(""#""+buttonId).bind('click' function() { alert('hi); }); </script> It's a hack I know but it will work. (I should note for the un-initiated I'm using the Prototype $ get by id method there) Glenn I added quotes to the buttonId literal and a '#' to the jquery selector to your answer for it to be 100% correct :). You'll need quotes around that server tag of course. And I don't see why this is a hack. It's a legitimate technique that I use all the time. That's what things like server tags and ClientID are for. I guess it just feels like a hack because it's messy. I'd much rather their be a static predictable id on the control that javascript can talk to I also use this approach all the time. I usually declare all of my ""dynamic"" variables in the head tag (on standalone pages) or in an asp:Content control that writes to an asp:ContentPlaceHolder in the head tag of a master. That at least keeps all the variables containing dynamic IDs in one spot.  If you're using jQuery then you have loads of CSS selectors and jQuery custome selectors at your disposal to target elements on your page. So rather than picking out a submit button by it's id you could do something like: $('fieldset > input[type=""submit""]').click(function() {...});  I can see how the .NET system feels less intuitive but give it a chance. In my experience it actually ends up creating cleaner code. Sure <asp:button id=""ImAButton"" runat=""server"">Click Me</asp:button> <script type=""text/javascript""> var buttonId = <%=ImAButton.ClientId%> $(buttonId).bind('click' function() { alert('hi); }); </script> works fine. But this is suffers from not being modular. What you really want is something like this: <script type=""text/javascript""> function MakeAClick(inid) { $(inid).bind('click' function() { alert('hi); }); } </script> and then later with your code on the java side or the C# side you call MakeAClick. Of course on the C# side it makes more sense you just ClientID in there. Maybe this is the real problem with the code you are reviewing.",0.046809090711223446,0.942637201391619,0.010553707897157472
22459,"memset() causing data abort I'm getting some strange intermittent data aborts (< 5% of the time) in some of my code when calling memset. The problem is that is usually doesn't happen unless the code is running for a couple days so it's hard to catch it in the act. I'm using the following code: char *msg = (char*)malloc(sizeof(char)*2048); char *temp = (char*)malloc(sizeof(char)*1024); memset(msg 0 2048); memset(temp 0 1024); char *tempstr = (char*)malloc(sizeof(char)*128); sprintf(temp ""%s %s/%s %s%s"" EZMPPOST EZMPTAG EZMPVER TYPETXT EOL); strcat(msg temp); //Add Data memset(tempstr '\0' 128); wcstombs(tempstr gdevID wcslen(gdevID)); sprintf(temp ""%s: %s%s"" ""DeviceID"" tempstr EOL); strcat(msg temp); As you can see I'm not trying to use memset with a size larger that what's originally allocated with malloc() Anyone see what might be wrong with this? There's a couple of things. You're using sprintf which is inherently unsafe; unless you're 100% positive that you're not going to exceed the size of the buffer you should almost always prefer snprintf. The same applies to strcat; prefer the safer alternative strncat. Obviously this may not fix anything but it goes a long way in helping spot what might otherwise be very annoying to spot bugs. No don't use strncat. It fills the entire buffer. This kills performance if you're using a large buffer. It hit the top of my profiler graph on one project that used 8K buffer for URLs. @Zan Lynx: `strlcat` might be nicer than `strncat` from a semantic point of view but I still don't understand how its performance could be better. The [paper presenting strlcpy and strlcat](http://www.gratisoft.us/todd/papers/strlcpy.html) mentions only `strncpy`: ""Finally strncpy() zero-fills the remainder of the destination string incurring a performance penalty"". By the way my Linux `strncat` man page says nothing about a performance penalty. @Cristian: D'oh. Just now that you write it I see that I meant strncpy all along. That's the one you should avoid and my previous comment is now silly. @Zan Lynx: what's the alternative for `strncat`? @Cristian: strlcat is one option. You may have to copy the code into your project though it isn't always in the dev environment. Tracking your string length (or using pointers to buffer start current position and buffer end) in source and destination and using memcpy is my favorite method.  Have you tried using Valgrind? That is usually the fastest and easiest way to debug these sorts of errors. If you are reading or writing outside the bounds of allocated memory it will flag it for you.  wcstombs doesn't get the size of the destination so it can in theory buffer overflow. And why are you using sprintf with what I assume are constants? Just use: EZMPPOST"" "" EZMPTAG ""/"" EZMPVER "" "" TYPETXT EOL C and C++ combines string literal declarations into a single string.  malloc can return NULL if no memory is available. You're not checking for that. Note also that because of optimistic allocation it is not because maloc() returns non-null that you do have enough memory. It will fail at the first actual access of the memory which will be here ... memset(). @Ben: You are very correct for OS's like desktop Linux. But I doubt that mobile OS like Windows Mobile does optimistic alloc. It does not make a lot of sense on a system with limited RAM and no virtual RAM.  You know it might not even be your code... Are there any other programs running that could have a memory leak?  malloc can return NULL if no memory is available. You're not checking for that. Right you are... I didn't think about that as I was monitoring the memory and it there was enough free. Is there any way for there to be available memory on the system but for malloc to fail? Yes if memory is fragmented. Also when you say ""monitoring memory"" there may be something on the system which occasionally consumes a lot of memory and then releases it before you notice. If your call to malloc occurs then there won't be any memory available. -- Joel Either way...I will add that check :)  You're using sprintf which is inherently unsafe; unless you're 100% positive that you're not going to exceed the size of the buffer you should almost always prefer snprintf. The same applies to strcat; prefer the safer alternative strncat. Yeah..... I mostly do .NET lately and old habits die hard. I likely pulled that code out of something else that was written before my time... But I'll try not to use those in the future ;)  Instead of doing malloc followed by memset you should be using calloc which will clear the newly allocated memory for you. Other than that do what Joel said.  NB borrowed some comments from other answers and integrated into a whole. The code is all mine... Check your error codes. E.g. malloc can return NULL if no memory is available. This could be causing your data abort. sizeof(char) is 1 by definition Use snprintf not sprintf to avoid buffer overruns If EZMPPOST etc are constants then you don't need a format string you can just combined several string literals as STRING1 "" "" STRING2 "" "" STRING3 and strcat the whole lot. You are using much more memory than you need to. With one minor change you don't need to call memset in the first place. Nothing really requires zero initialisation here. This code does the same thing safely runs faster and uses less memory.  // sizeof(char) is 1 by definition. This memory does not require zero // initialisation. If it did I'd use calloc. const int max_msg = 2048; char *msg = (char*)malloc(max_msg); if(!msg) { // Allocaton failure return; } // Use snprintf instead of sprintf to avoid buffer overruns // we write directly to msg instead of using a temporary buffer and then calling // strcat. This saves CPU time saves the temporary buffer and removes the need // to zero initialise msg. snprintf(msg max_msg ""%s %s/%s %s%s"" EZMPPOST EZMPTAG EZMPVER TYPETXT EOL); //Add Data size_t len = wcslen(gdevID); // No need to zero init this char* temp = (char*)malloc(len); if(!temp) { free(msg); return; } wcstombs(temp gdevID len); // No need to use a temporary buffer - just append directly to the msg protecting // against buffer overruns. snprintf(msg + strlen(msg) max_msg - strlen(msg) ""%s: %s%s"" ""DeviceID"" temp EOL); free(temp);  It could be your processor. Some CPUs can't address single bytes and require you to work in words or chunk sizes or have instructions that can only be used on word or chunk aligned data. Usually the compiler is made aware of these and works around them but sometimes you can malloc a region as bytes and then try to address it as a structure or wider-than-a-byte field and the compiler won't catch it but the processor will throw a data exception later. It wouldn't happen unless you're using an unusual CPU. ARM9 will do that for example but i686 won't. I see it's tagged windows mobile so maybe you do have this CPU issue.",0.02296219072352087,0.020739097255020822,0.9562987120214582
65400,"How to add method using metaclass How do I add an instance method to a class using a metaclass (yes I do need to use a metaclass)? The following kind of works but the func_name will still be ""foo"": def bar(self): print ""bar"" class MetaFoo(type): __new__(cls name bases dict): dict[""foobar""] = bar return type(name bases dict) class Foo(object): __metaclass__ = MetaFoo >>> f = Foo() >>> f.foobar() bar >>> f.foobar.func_name 'bar' My problem is that some library code actually uses the func_name and later fails to find the 'bar' method of the Foo instance. I could do: dict[""foobar""] = types.FunctionType(bar.func_code {} ""foobar"") There is also types.MethodType but I need an instance that does'nt exist yet to use that. Am I missing someting here? Why are you trying to change the name of the method? doesn't dict[bar.func_name] = bar accomplish what you want? Good question... I was originally creating method names based on attributes defined in the dict but I realize this is pointless if the implementations of the methods are identical. I think what you want to do is this: >>> class Foo(): ... def __init__(self x): ... self.x = x ... >>> def bar(self): ... print 'bar:' self.x ... >>> bar.func_name = 'foobar' >>> Foo.foobar = bar >>> f = Foo(12) >>> f.foobar() bar: 12 >>> f.foobar.func_name 'foobar' Now you are free to pass Foos to a library that expects Foo instances to have a method named foobar. Unfortunately (1) I don't know how to use metaclasses and (2) I'm not sure I read your question correctly but I hope this helps. Note that func_name is only assignable in Python 2.4 and higher.  Try dynamically extending the bases that way you can take advantage of the mro and the methods are actual methods: class Parent(object): def bar(self): print ""bar"" class MetaFoo(type): def __new__(cls name bases dict): return type(name (Parent) + bases dict) class Foo(object): __metaclass__ = MetaFoo if __name__ == ""__main__"": f = Foo() f.bar() print f.bar.func_name What if I want to create several methods that reference the 'bar' implementation?",0.7851754198812037,0.060710062908543846,0.1541145172102524
48123,"Glade or no glade: What is the best way to use PyGtk? I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem). There are more UI builders than just glade maybe you should mention ""UI builder"" instead of just glade. Using a graphical tool that builds GtkBuilder UI XML is certainly standard for most gtk programs. It doesn't save you from working with the gtk api yourself but it certainly makes it easier for other people to pick up your code. Glade is very useful for creating interfaces it means you can easily change the GUI without doing much coding. You'll find that if you want to do anything useful (e.g. build a treeview) you will have to get familiar with various parts of the GTK documentation - in practice finding a good tutorial/examples.  I started out using glade but soon moved to just doing everything in code. Glade is nice for simple things and it's good when you're learning how GTK organizes the widgets (how things are packed etc). Constructing everything in code however you have much more flexibility. Plus you don't have the glade dependency.  You may use glade-2 to design and use glade2py.py to generating the pure pygtk code it use pygtkcompat to support gtk3 While this link may answer the question it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes. @JuJoDi this code is to long can not paste in to there.  I usually start with Glade until I come to a point where it doesn't have the features I need e.g. creating a wizard. As long as I'm using the standard widgets that Glade provides there's really no reason to hand-code the GUI. The more comfortable I become with how Glade formats the code the better my hand-coding becomes. Not to mention it's real easy to use Glade to make the underlying framework so you don't have to worry about all the initializations.  I would say that it depends: if you find that using Glade you can build the apps you want or need to make than that's absolutely fine. If however you actually want to learn how GTK works or you have some non-standard UI requirements you will have to dig into GTK internals (which are not that complicated). Personally I'm usually about 5 minutes into a rich client when I need some feature or customization that is simply impossible through a designer such as Glade or Stetic. Perhaps it's just me. Nevertheless it is still useful for me to bootstrap window design using a graphical tool. My recommendation: if making rich clients using GTK is going to be a significant part of your job/hobby then learn GTK as well since you will need to write that code someday. P.S. I personally find Stetic to be superior to Glade for design work if a little bit more unstable. Since Glade makes XML files instead of actual python code is there a good way to start a project with Glade and then hand code more or tweak it? I have just started learning glade personally. Good point Boris. I did just that. I think that comment is worth a separate SO question no? GTK+ internals are not that complicated if you don't go too deep...  If you're writing a traditional GUI application which reuses a lot of standard components from GTK+ (buttons labels containers etc.) I'd personally go with Glade + Kiwi (a convenience framework for building GTK+ GUI applications). The single greatest advantage to using Glade is that it greatly reduces layout/packing code. Here's an extremely simply example which already shows the issues with manually laying out a GUI (without using any helper functions): container = gtk.HBox() label = gtk.Label(str=""test"") container.add(label) For more examples take a look here. Even if you're writing a complicated custom widget you can always create a placeholder in Glade and replace that after instantiation. It shouldn't be all too long now for the Glade team to release a new version of the designer (3.6.0). This new version will add support for GtkBuilder which replaces libglade (the actual library that transforms the Glade XML files into a widget tree). The new Glade designer also once again adds support for defining catalogs (sets of widgets) in Python so you can easily add your own custom widgets.  Personally I would recommend coding it out instead of using Glade. I'm still learning python and pyGtk but I will say that writing out the UI by hand gave me a lot of insight on how things work under the hood. Once you have it learned I'd say to give glade or other UI designers a try but definitely learn how to do it the ""hard"" way first.  For quick and simple screens I use Glade. But for anything that needs finer levels of control I create a custom classes for what I actually need (this is important because it's too easy to get carried away with generalisations). With a skinny applications specific classes I can rapidly change the look and feel application wide from a single place. Rather like using CSS to mantain consistency for web sites.  First start to put this in perspective. You will be using GTK. This is a huge C library built in 1993 using the best traditions of 1970s coding style. It was built to help implement the GIMP a Photoshop competitor wanna-be with user interface blunders of legend. A typical gui field might have forty or more parameters mostly repetitive having getters and setters. There will be pain. The GTK itself manages a complete dynamic type system in C using GObject. This makes debugging a special joy that requires manually walking through arrays of pointers to methods full of generic argument lists with implicit inheritance. You will also be jumping through Pango libraries when you least expect it e.g. using a Pango constant for where in a label the ellipsis go when the page is small. Expect more pain. By now you are probably vowing to wrap all your GTK interactions in a Model-View-Controller architecture specific to your application. This is good. Using Glade or gtkBuilder or Stetic will help coral the huge coupling problem of forty parameters to a function. Glade provides a basic GUI builder to drag and drop components together. The parameters and inherited parameters are somewhat separated out. The output of Glade is .glade XML file which you will then read in attach your callbacks (""signal handlers"") to identically named functions and query or update the in-memory version of that XML to get widgets that you then use pyGTK to manipulate. Glade itself is a creaky and not well maintained. Using pyGTK gives you annoyingly fine grained control in order to build your GUI. This will be verbose copy-and-paste code. Each attribute will be a separate function call. The attribute setter does not return anything so chaining the calls is out of the question. Usually your IDE will give only minimal help on what functions mean and you will be constantly referring to DevHelp or some other tool. One would almost expect GTK GUIs were meant to fail. Cynical but true. (Score:-1 Flamebait) (Score:-1 Flamebait indeed) Off-topic answer but I enjoyed it because it's really thorough. I can't confirm its accuracy unfortunately. Thank you. It's flamebait I suppose as is any criticism of Gnome.  Use GtkBuilder instead of Glade it's integrated into Gtk itself instead of a separate library. The main benefit of Glade is that it's much much easier to create the interface. It's a bit more work to connect signal handlers but I've never felt that matters much. In fact `gtk-builder-convert` will choke on the GtkBuilder format produced by `glade-3` so that you know you are already compatable. You can also create files that can be used via GtkBuilder with Glade. Theoretically that is since Glade still messes them up. The best option might be to create the GUI with glade save it as a glade file and then convert with gtk-builder-convert. What version of Glade are you using? The last few versions have the ability to save to either GtkBuilder format of LibGlade format. So you do not need to use gtk-builder-convert.  I recommend using Glade for rapid development but not for learning. Why? because some times you will need to tune up some widgets in order to work as you want they to work and if you don't really know/understand the properties attributes of every widget then you will be in troubles.",0.04650756156657008,0.26532960439322556,0.6881628340402044
78717,"""foreach values"" macro in gcc & cpp I have a 'foreach' macro I use frequently in C++ that works for most STL containers: #define foreach(var container) \ for(typeof((container).begin()) var = (container).begin(); \ var != (container).end(); \ ++var) (Note that 'typeof' is a gcc extension.) It is used like this: std::vector< Blorgus > blorgi = ...; foreach(blorgus blorgi) { blorgus->draw(); } I would like to make something similar that iterates over a map's values. Call it ""foreach_value"" perhaps. So instead of writing foreach(pair mymap) { pair->second->foo(); } I would write foreach_value(v mymap) { v.foo(); } I can't come up with a macro that will do this because it requires declaring two variables: the iterator and the value variable ('v' above). I don't know how to do that in the initializer of a for loop even using gcc extensions. I could declare it just before the foreach_value call but then it will conflict with other instances of the foreach_value macro in the same scope. If I could suffix the current line number to the iterator variable name it would work but I don't know how to do that. #define foreach(var container) for (typeof((container).begin()) var = (container).begin(); var != (container).end(); ++var) There's no typeof in C++... how is this compiling for you? (it's certainly not portable) That's why I mentioned ""gcc"" in the title -- it's a gcc extension. A very handy one. Standard C++ will eventually acquire the 'auto' keyword (or rather new meaning for that keyword) that will take over most of what I use typeof for. But I'll update the question to better point out the gcc-ism.  You can do this using two loops. The first declares the iterator with a name which is a function of the container variable (and you can make this uglier if you're worried about conflicts with your own code). The second declares the value variable. #define ci(container) container ## iter #define foreach_value(var container) \ for (typeof((container).begin()) ci(container) = container.begin(); \ ci(container) != container.end(); ) \ for (typeof(ci(container)->second)* var = &ci(container)->second; \ ci(container) != container.end(); \ (++ci(container) != container.end()) ? \ (var = &ci(container)->second) : var) By using the same loop termination condition the outer loop only happens once (and if you're lucky gets optimized away). Also you avoid calling ->second on the iterator if the map is empty. That's the same reason for the ternary operator in the increment of the inner loop; at the end we just leave var at the last value since it won't be referenced again. You could inline ci(container) but I think it makes the macro more readable. Perfect! But I don't understand the bit about making an extra object. var is a pointer. Did you have an earlier version that used a value? And var could be made a reference with yet another (innermost) loop: for(typeof(...) var = *ptr; ptr; ptr = NULL). Care to update with that?  The STL transform function also does something similar. The arguments are (in order): An input iterator designating the beginning of a container An input iterator designating the end of the container An output iterator defining where to put the output (for an in-place transform similar to for-each just pass the the input iterator in #1) A unary function (function object) to perform on each element For a very simple example you could capitalize each character in a string by: #include <iostream> #include <string> #include <algorithm> #include <cctype> int main(int argc char* argv[]) { std::string s(""my lowercase string""); std::transform(s.begin() s.end() s.begin() toupper); std::cout << s << std::endl; // ""MY LOWERCASE STRING"" } Alternatively there is also the accumulate function which allows some values to be retained between calls to the function object. accumulate does not modify the data in the input container as is the case with transform.  Have you thought of using the Boost libraries? They have a foreach macro implemented which is probably more robust than anything you'll write... and there is also transform_iterator which would seem to be able to be used to do the second-extraction part of what you want. Unfortunately I can't tell you exactly how to use it because I don't know enough C++ :) This Google search turns up some promising answers: comp.lang.c++.moderated Boost transform_iterator use case. I think you may be right about the transform_iterator but I'll have to play with it to be sure. (And yes I'm using various bits of boost already although I'm familiar with only a fraction of what it offers.)  I implemented my own foreach_value based on the Boost foreach code: #include <boost/preprocessor/cat.hpp> #define MUNZEKONZA_FOREACH_IN_MAP_ID(x) BOOST_PP_CAT(x __LINE__) namespace munzekonza { namespace foreach_in_map_private { inline bool set_false(bool& b) { b = false; return false; } } } #define MUNZEKONZA_FOREACH_VALUE(value map) \ for(auto MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_it) = map.begin(); \ MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_it) != map.end();) \ for(bool MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_continue) = true; \ MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_continue) && \ MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_it) != map.end(); \ (MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_continue)) ? \ ((void)++MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_it)) : \ (void)0) \ if( munzekonza::foreach_in_map_private::set_false( \ MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_continue))) {} else \ for( value = MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_it)->second; \ !MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_continue); \ MUNZEKONZA_FOREACH_IN_MAP_ID(_foreach_in_map_continue) = true) For example you can use it in your code like this: #define MUNZEKONZA_FOREACH_VALUE foreach_value std::map<int std::string> mymap; // populate the map ... foreach_value( const std::string& value mymap ) { // do something with value } // change value foreach_value( std::string& value mymap ) { value = ""hey""; }  I created a little Foreach.h helper with a few variants of foreach() including both ones operating on the local variables and on pointers with also an extra version secured against deleting elements from within loop. So the code that uses my macros looks nice and cozy like this: #include <cstdio> #include <vector> #include ""foreach.h"" int main() { // make int vector and fill it vector<int> k; for (int i=0; i<10; ++i) k.push_back(i); // show what the upper loop filled foreach_ (it k) printf(""%i ""(*it)); printf(""\n""); // show all of the data but get rid of 4 // http://en.wikipedia.org/wiki/Tetraphobia :) foreachdel_ (it k) { if (*it == 4) it=k.erase(it); printf(""%i ""(*it)); } printf(""\n""); return 0; } output: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 5 6 7 8 9 My Foreach.h provides following macros: foreach() - regular foreach for pointers foreach_() - regular foreach for local variables foreachdel() - foreach version with checks for deletion within loop pointer version foreachdel_() - foreach version with checks for deletion within loop local variable version They sure do work for me I hope they will also make your life a bit easier :) Thanks for the foreach but the foreachdel did not compile for me: error: could not convert 'it_bup' to 'bool'  There are two parts to this question. You need to somehow (1) generate an iterator (or rather an iterable sequence) over you map's values (not keys) and (2) use a macro to do the iteration without a lot of boilerplate. The cleanest solution is to use a Boost Range Adaptor for part (1) and Boost Foreach for part (2). You don't need to write the macro or implement the iterator yourself. #include <map> #include <string> #include <boost/range/adaptor/map.hpp> #include <boost/foreach.hpp> int main() { // Sample data std::map<int std::string> myMap ; myMap[0] = ""Zero"" ; myMap[10] = ""Ten"" ; myMap[20] = ""Twenty"" ; // Loop over map values BOOST_FOREACH( std::string text myMap | boost::adaptors::map_values ) { std::cout << text << "" "" ; } } // Output: // Zero Ten Twenty  You would be looking for BOOST_FOREACH - they have done all the work for you already! If you do want to roll your own you can declare a block anywhere in C++ which resolves your scope issue with your intermediate storage of itr->second ... // Valid C++ code (which does nothing useful) { int a = 21; // Which could be storage of your value type } // a out of scope here { int a = 32; // Does not conflict with a above } The pair doesn't work because I still need the plain variable declared as well. The scope doesn't work because any scope created in the macro is local to the macro not the body of the for() or it requires a matching foreach_end macro to close off a scope. (Or a bare '}' but yuck!) Thanks for the link; that's probably a good replacement for the original. The main difference is that it requires declaring the type of the loop variable which is ok sometimes but problematic for hairy types. Your updated answer does not work -- it declares two variables. It will not compile. True! You could always use a std::pair to store the two loop vars or use scope in your macro. I'll remove the offending code from my post ( for(itr_type itr = begin value_type val = itr->second; itr != end; ++itr val = itr->second ) )  Boost::For_each is by far your best bet. The nifty thing is that what they actually give you is the macro BOOST_FOREACH() which you can then wrap and #define to whatever you would really like to call it in your code. Most everyone will opt for the good old ""foreach"" but other shops may have different coding standards so this fits with that mindset. Boost also has lots of other goodies for C++ developers! Well worth using.  You could define a template class that takes the type of mymap as a template parameter and acts like an iterator over the values by overloading * and ->.",0.010853007084064857,0.002017704111710261,0.9871292888042249
16451,"Calling .NET Web Service (WSE 2/3 WS-Security) from Java I need to call a web service written in .NET from Java. The web service implements the WS-Security stack (either WSE 2 or WSE 3 it's not clear from the information I have). The information that I received from the service provider included WSDL a policyCache.config file some sample C# code and a sample application that can successfully call the service. This isn't as useful as it sounds because it's not clear how I'm supposed to use this information to write a Java client. If the web service request isn't signed according to the policy then it is rejected by the service. I'm trying to use Apache Axis2 and I can't find any instructions on how I'm supposed to use the policyCahce.config file and the WSDL to generate a client. There are several examples that I have found on the Web but in all cases the authors of the examples had control of both the service and the client and so were able to make tweaks on both sides in order to get it to work. I'm not in that position. Has anyone done this successfully? WSE is obsolete and should only be used if there are no other choices. @Michael: dude I feel your pain (since my HOWTO search led me here). This seems to be a popular question so I'll provide an overview of what we did in our situation. It seems that services built in .NET are following an older ws-addressing standard (http://schemas.xmlsoap.org/ws/2004/03/addressing/) and axis2 only understands the newer standard (http://schemas.xmlsoap.org/ws/2004/08/addressing/). In addition the policyCache.config file provided is in a form that the axis2 rampart module can't understand. So the steps we had to do in a nutshell: Read the policyCache.config and try to understand it. Then rewrite it into a policy that rampart could understand. (Some updated docs helped.) Configure rampart with this policy. Take the keys that were provided in the .pfx file and convert them to a java key store. There is a utility that comes with Jetty that can do that. Configure rampart with that key store. Write a custom axis2 handler that backward-converts the newer ws-addressing stuff that comes out of axis2 into the older stuff expected by the service. Configure axis2 to use the handler on outgoing messages. In the end it was a lot of configuration and code for something that is supposed to be an open standard supported by the vendors. Although I'm not sure what the alternative is...can you wait for the vendors (or in this case the one vendor) to make sure that everything will inter-op? As a postscript I'll add that I didn't end up doing the work it was someone else on my team but I think I got the salient details correct. The other option that I was considering (before my teammate took over) was to call the WSS4J API directly to construct the SOAP envelope as the .NET service expected it. I think that would have worked too. @MichaelSharek You don't happen to have the project available for viewing? I have struggled a lot with this a couple of days now with no luck. Receiving The signature or decryption was invalid from server. Hi Marcus - this was four years ago. I searched my laptop but I don't have the files anymore. :( This ws-addressing issue is a real pain in the ass. Not only does WSS2 use an old pre-release version of WS-Addressing it adds propritery elements to the soap header (e.g. wsa:via) that arent part of the schema. What a crock. Everyone should keep in mind that WSE is obsolete. It was an interim solution to permit .NET web services to use the emerging WS-* stack. It should not be surprising if it does not support the final standards. WCF _does_ support the final standard versions of the WS-* protocols. It has replaced WSE and should be used for all new development. WSE code should be replaced ASAP. @Roboprog: you often _do_ have a choice. If the server was created using something standard then use WCF on the client. If not then consider saying ""no"" whenever finances permit. Otherwise we'll still be dealing with non-standards like WSE 2.0 in a decade. @John: people implementing a client don't have much choice what the vendor used to implement the server. I see you make your living doing this stuff but to devs who have to integrate with this stuff it really sucks that it is *so* dependent on having just the right tools of just the right version from the One True Vendor. See http://72.249.21.88/nonintersecting/?year=2006&monthnum=11&day=15&name=the-s-stands-for-simple&page In my case there was no choice: we were calling a web service provided by a gov't agency.  WS-Security specifications are not typically contained in a WSDL (never in a WSE WSDL). So wsdl2java does not know that WS-Security is even required for this service. The fact that security constraints are not present in a WSE WSDL is a big disappointment to me (WCF will include WS-Trust information in a WSDL). On the client end you'll need to use Rampart to add the necessary WS-Security headers to your outgoing client message. Since the WSDL does not report what WS-Security settings are necessary you're best off by asking the service provider what is required. WS-Security requirements may be simple plaintext password or might be X509 certificates or might be encrypted message..... Rampart should be able to handle most of these scenarios. Apache Rampart is ""turned on"" by engaging the module in your axis2.xml file. You'll need to download the Rampart module and put it in a specific place in your axis2 directory then modify the xml file. You can also engage Rampart programatically (please edit your original question if this is a requirement and I'll edit this response). Depending on how you configure rampart (through other XML files or programatically) it will intercept any outgoing messages and add the necessary WS-Security information to it. I've personally used axis2 with rampart to call a WSE3 service that is secured with UsernameToken in plaintext and it worked great. Similar but more advanced scenarios should also work. There are more details on how to set up and get started with Rampart on the site linked above. If you have problems about the specifics of Rampart or how to use Rampart with your particular WSE setup then edit your question and I'll try my best to answer.  I guess I should be more clear - I have used the wsdl2java code generators to generate client code for the service. However the generated code does not include the necessary WS-Security SOAP headers so that the service will accept the requests. @aurealus - Yes we did updated this question. Hopefully it will help you. :) Did you figure this out? I'm faced with the a similar task and have yet to make all parts work with one framework (I can use CXF but have problems with SSL having issues with Rampart config). It seems that most examples have control over client and server.  CXF - I'd look into CXF. I've used it to create a web service and client in java using ws-secuirty. I also connected a .net web service to it. They have pretty good documentation too. I had more luck with it than axis.  @Mike I recently did a test and this is the code I used. I'm not using policy stuff but I used WS-Security with plain text authentication. CXF has really good documentation on how to accomplish this stuff. I used wsdl2java and then added this code to use the web service with ws-security. I hope this helps you out. import java.io.IOException; import java.util.HashMap; import java.util.Map; import javax.security.auth.callback.Callback; import javax.security.auth.callback.CallbackHandler; import javax.security.auth.callback.UnsupportedCallbackException; import org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor; import org.apache.ws.security.WSConstants; import org.apache.ws.security.WSPasswordCallback; import org.apache.ws.security.handler.WSHandlerConstants; public class ServiceTest implements CallbackHandler { public void handle(Callback[] callbacks) throws IOException UnsupportedCallbackException { WSPasswordCallback pc = (WSPasswordCallback) callbacks[0]; // set the password for our message. pc.setPassword(""buddah""); } public static void main(String[] args){ PatientServiceImplService locator = new PatientServiceImplService(); PatientService service = locator.getPatientServiceImplPort(); org.apache.cxf.endpoint.Client client = org.apache.cxf.frontend.ClientProxy.getClient(service); org.apache.cxf.endpoint.Endpoint cxfEndpoint = client.getEndpoint(); Map<String Object> outProps = new HashMap<String Object>(); outProps.put(WSHandlerConstants.ACTION WSHandlerConstants.USERNAME_TOKEN + "" "" + WSHandlerConstants.TIMESTAMP); outProps.put(WSHandlerConstants.USER ""joe""); outProps.put(WSHandlerConstants.PASSWORD_TYPE WSConstants.PW_TEXT); // Callback used to retrieve password for given user. outProps.put(WSHandlerConstants.PW_CALLBACK_CLASS ServiceTest.class.getName()); WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(outProps); cxfEndpoint.getOutInterceptors().add(wssOut); try { List list = service.getInpatientCensus(); for(Patient p : list){ System.out.println(p.getFirstName() + "" "" + p.getLastName()); } } catch (Exception e) { // TODO Auto-generated catch block e.printStackTrace(); } } }  Apache Axis can generate proxy code from WSDL http://ws.apache.org/axis/java/user-guide.html#UsingWSDLWithAxis NetBeans with the RESTful Web Services plug-in can generate code for you. Instructions for an example client for the eBay shopping web service are at http://ebay.custhelp.com/cgi-bin/ebay.cfg/php/enduser/std_adp.php?p_faqid=1230.",0.9801010776592719,0.010892055083480475,0.00900686725724759
69115,"char[] to hex string exercise Below is my current char* to hex string function. I wrote it as an exercise in bit manipulation. It takes ~7ms on a AMD Athlon MP 2800+ to hexify a 10 million byte array. Is there any trick or other way that I am missing? How can I make this faster? Compiled with -O3 in g++ static const char _hex2asciiU_value[256][2] = { {'0''0'} {'0''1'} /* snip... */ {'F''E'}{'F''F'} }; std::string char_to_hex( const unsigned char* _pArray unsigned int _len ) { std::string str; str.resize(_len*2); char* pszHex = &str[0]; const unsigned char* pEnd = _pArray + _len; clock_t stick etick; stick = clock(); for( const unsigned char* pChar = _pArray; pChar != pEnd; pChar++ pszHex += 2 ) { pszHex[0] = _hex2asciiU_value[*pChar][0]; pszHex[1] = _hex2asciiU_value[*pChar][1]; } etick = clock(); std::cout << ""ticks to hexify "" << etick - stick << std::endl; return str; } Updates Added timing code Brian R. Bondy: replace the std::string with a heap alloc'd buffer and change ofs*16 to ofs << 4 - however the heap allocated buffer seems to slow it down? - result ~11ms Antti Sykäri:replace inner loop with  int upper = *pChar >> 4; int lower = *pChar & 0x0f; pszHex[0] = pHex[upper]; pszHex[1] = pHex[lower]; result ~8ms Robert: replace _hex2asciiU_value with a full 256-entry table sacrificing memory space but result ~7ms! HoyHoy: Noted it was producing incorrect results the function as written appears to not work anymore you can initialize your _hex2asciiU_value array with the for loop I added. Also I noticed my answer had a flaw I specified the length of the mentioned array as 255 instead of 256. This is my version which unlike the OP's version doesn't assume that std::basic_string has its data in contiguous region: #include <string> using std::string; static char const* digits(""0123456789ABCDEF""); string tohex(string const& data) { string result(data.size() * 2 0); string::iterator ptr(result.begin()); for (string::const_iterator cur(data.begin()) end(data.end()); cur != end; ++cur) { unsigned char c(*cur); *ptr++ = digits[c >> 4]; *ptr++ = digits[c & 15]; } return result; }  It's work for me (unsigned char) unsigned char c1 = byteVal >> 4; unsigned char c2 = byteVal & 0x0f; c1 += c1 <= 9 ? '0' : ('a' - 10); c2 += c2 <= 9 ? '0' : ('a' - 10); std::string sHex("" ""); sHex[0] = c1 ; sHex[1] = c2 ; //sHex - contain what we need. For example ""0f""  If you're rather obsessive about speed here you can do the following: Each character is one byte representing two hex values. Thus each character is really two four-bit values. So you can do the following: Unpack the four-bit values to 8-bit values using a multiplication or similar instruction. Use pshufb the SSSE3 instruction (Core2-only though). It takes an array of 16 8-bit input values and shuffles them based on the 16 8-bit indices in a second vector. Since you have only 16 possible characters this fits perfectly; the input array is a vector of 0 through F characters and the index array is your unpacked array of 4-bit values. Thus in a single instruction you will have performed 16 table lookups in fewer clocks than it normally takes to do just one (pshufb is 1 clock latency on Penryn). So in computational steps: A B C D E F G H I J K L M N O P (64-bit vector of input values ""Vector A"") -> 0A 0B 0C 0D 0E 0F 0G 0H 0I 0J 0K 0L 0M 0N 0O 0P (128-bit vector of indices ""Vector B""). The easiest way is probably two 64-bit multiplies. pshub [0123456789ABCDEF] Vector B  Faster C Implmentation This runs nearly 3x faster than the C++ implementation. Not sure why as it's pretty similar. For the last C++ implementation that I posted it took 6.8 seconds to run through a 200000000 character array. The implementation took only 2.2 seconds. #include <stdio.h> #include <stdlib.h> char* char_to_hex(const unsigned char* p_array unsigned int p_array_len char** hex2ascii) { unsigned char* str = malloc(p_array_len*2+1); const unsigned char* p_end = p_array + p_array_len; size_t pos=0; const unsigned char* p; for( p = p_array; p != p_end; p++ pos+=2 ) { str[pos] = hex2ascii[*p][0]; str[pos+1] = hex2ascii[*p][1]; } return (char*)str; } int main() { size_t hex2ascii_len = 256; char** hex2ascii; int i; hex2ascii = malloc(hex2ascii_len*sizeof(char*)); for(i=0; i<hex2ascii_len; i++) { hex2ascii[i] = malloc(3*sizeof(char)); snprintf(hex2ascii[i] 3""%02X"" i); } size_t len = 8; const unsigned char a[] = ""DO NOT WANT""; printf(""%s\n"" char_to_hex((const unsigned char*)a len (char**)hex2ascii)); } What did you use to plot that graph? You allocated space for the terminating NUL but never assigned it.  This assembly function (based off my previous post here but I had to modify the concept a bit to get it to actually work) processes 3.3 billion input characters per second (6.6 billion output characters) on one core of a Core 2 Conroe 3Ghz. Penryn is probably faster. %include ""x86inc.asm"" SECTION_RODATA pb_f0: times 16 db 0xf0 pb_0f: times 16 db 0x0f pb_hex: db 48495051525354555657656667686970 SECTION .text ; int convert_string_to_hex( char *input char *output int len ) cglobal _convert_string_to_hex33 movdqa xmm6 [pb_f0 GLOBAL] movdqa xmm7 [pb_0f GLOBAL] .loop: movdqa xmm5 [pb_hex GLOBAL] movdqa xmm4 [pb_hex GLOBAL] movq xmm0 [r0+r2-8] movq xmm2 [r0+r2-16] movq xmm1 xmm0 movq xmm3 xmm2 pand xmm0 xmm6 ;high bits pand xmm2 xmm6 psrlq xmm0 4 psrlq xmm2 4 pand xmm1 xmm7 ;low bits pand xmm3 xmm7 punpcklbw xmm0 xmm1 punpcklbw xmm2 xmm3 pshufb xmm4 xmm0 pshufb xmm5 xmm2 movdqa [r1+r2*2-16] xmm4 movdqa [r1+r2*2-32] xmm5 sub r2 16 jg .loop REP_RET Note it uses x264 assembly syntax which makes it more portable (to 32-bit vs 64-bit etc). To convert this into the syntax of your choice is trivial: r0 r1 r2 are the three arguments to the functions in registers. Its a bit like pseudocode. Or you can just get common/x86/x86inc.asm from the x264 tree and include that to run it natively. P.S. Stack Overflow am I wrong for wasting time on such a trivial thing? Or is this awesome? Whoa. Never knew about the x264!  At the cost of more memory you can create a full 256-entry table of the hex codes: static const char _hex2asciiU_value[256][2] = { {'0''0'} {'0''1'} /* ... */ {'F''E'}{'F''F'} }; Then direct index into the table no bit fiddling required. const char *pHexVal = pHex[*pChar]; pszHex[0] = pHexVal[0]; pszHex[1] = pHexVal[1];  I have found that using an index into an array rather than a pointer can speed things up a tick. It all depends on how your compiler chooses to optimize. The key is that the processor has instructions to do complex things like [i*2+1] in a single instruction. seems dubious! An index into an array *is* just pointer arithmetic!  The function as it is shown when I'm writing this produces incorrect output even when _hex2asciiU_value is fully specified. The following code works and on my 2.33GHz Macbook Pro runs in about 1.9 seconds for 200000000 million characters. #include <iostream> using namespace std; static const size_t _h2alen = 256; static char _hex2asciiU_value[_h2alen][3]; string char_to_hex( const unsigned char* _pArray unsigned int _len ) { string str; str.resize(_len*2); char* pszHex = &str[0]; const unsigned char* pEnd = _pArray + _len; const char* pHex = _hex2asciiU_value[0]; for( const unsigned char* pChar = _pArray; pChar != pEnd; pChar++ pszHex += 2 ) { pszHex[0] = _hex2asciiU_value[*pChar][0]; pszHex[1] = _hex2asciiU_value[*pChar][1]; } return str; } int main() { for(int i=0; i<_h2alen; i++) { snprintf(_hex2asciiU_value[i] 3""%02X"" i); } size_t len = 200000000; char* a = new char[len]; string t1; string t2; clock_t start; srand(time(NULL)); for(int i=0; i<len; i++) a[i] = rand()&0xFF; start = clock(); t1=char_to_hex((const unsigned char*)a len); cout << ""char_to_hex conversion took ---> "" << (clock() - start)/(double)CLOCKS_PER_SEC << "" seconds\n""; } >200000000 million characters  Make sure your compiler optimization is turned on to the highest working level. You know flags like '-O1' to '-03' in gcc.  I'm not sure doing it more bytes at a time will be better... you'll probably just get tons of cache misses and slow it down significantly. What you might try is to unroll the loop though take larger steps and do more characters each time through the loop to remove some of the loop overhead. More bytes at a time ought to work great up to the system's word size  Consistently getting ~4ms on my Athlon 64 4200+ (~7ms with original code) for( const unsigned char* pChar = _pArray; pChar != pEnd; pChar++) { const char* pchars = _hex2asciiU_value[*pChar]; *pszHex++ = *pchars++; *pszHex++ = *pchars; }  not going to make a lot of difference... pChar-(ofs16) can be done with [*pCHar & 0x0F]  Changing  ofs = *pChar >> 4; pszHex[0] = pHex[ofs]; pszHex[1] = pHex[*pChar-(ofs*16)]; to  int upper = *pChar >> 4; int lower = *pChar & 0x0f; pszHex[0] = pHex[upper]; pszHex[1] = pHex[lower]; results in roughly 5% speedup. Writing the result two bytes at time as suggested by Robert results in about 18% speedup. The code changes to: _result.resize(_len*2); short* pszHex = (short*) &_result[0]; const unsigned char* pEnd = _pArray + _len; const char* pHex = _hex2asciiU_value; for(const unsigned char* pChar = _pArray; pChar != pEnd; pChar++ ++pszHex ) { *pszHex = bytes_to_chars[*pChar]; } Required initialization: short short_table[256]; for (int i = 0; i < 256; ++i) { char* pc = (char*) &short_table[i]; pc[0] = _hex2asciiU_value[i >> 4]; pc[1] = _hex2asciiU_value[i & 0x0f]; } Doing it 2 bytes at a time or 4 bytes at a time will probably result in even greater speedups as pointed out by Allan Wind but then it gets trickier when you have to deal with the odd characters. If you're feeling adventurous you might try to adapt Duff's device to do this. Results are on an Intel Core Duo 2 processor and gcc -O3. Always measure that you actually get faster results — a pessimization pretending to be an optimization is less than worthless. Always test that you get the correct results — a bug pretending to be an optimization is downright dangerous. And always keep in mind the tradeoff between speed and readability — life is too short for anyone to maintain unreadable code. (Obligatory reference to coding for the violent psychopath who knows where you live.)  Operate on 32 bits at a time (4 chars) then deal with the tail if needed. When I did this exercise with urlencoding a full table lookup for each char was slightly faster than logic constructs so you may want to test this in context as well to take caching issues into account. /Allan  For one instead of *16 do a bitshift << 4 Also don't use the stl string instead just create a buffer on the heap and then delete it. It will be more efficient than the object destruction that is needed from the string. The compiler should do that for you. Bitshifting instead of multiplying makes the code far less human-readable. It's not like his code is void of other bit shifts... And there is no guarantee that his compiler will do this. And his specific question was about making it more efficient. There's no guarantee that the multiply is faster than shift either.  I assume this is Windows+IA32. Try to use short int instead of the two hexadecimal letters. short int hex_table[256] = {'0'*256+'0' '1'*256+'0' '2'*256+'0' ... 'E'*256+'F' 'F'*256+'F'}; unsigned short int* pszHex = &str[0]; stick = clock(); for (const unsigned char* pChar = _pArray; pChar != pEnd; pChar++) *pszHex++ = hex_table[*pChar]; etick = clock();",0.0027670424649765177,0.0015528263928043236,0.9956801311422192
64392,Game programming in Java? I am looking into game programming in Java to see if it is feasible. When googling for it I find several old references to Java2D Project Darkstar (Sun's MMO-server) and some books on Java game programming. But alot of the information seems to be several years old. So the question I am asking is anyone creating any games in Java SE 1.5 or above? If so what frameworks are used and are there any best practices or libraries available? I like to code games a bit in my free time. I use a library called slick2d which makes programming the back-end a lot easier. For example you can copy/paste the example 'main' class file from the Slick2d Wiki and you have your game loop as well as the Update() and Render() methods all ready to go. Slick 2d is based on LWGJL and uses it to load images and do other cool things with OpenGL. There is also a bunch of helpful topics at: http://www.java-gaming.org/ Are the examples listed in the game site or are they listed on a web page. I like to make JAVA graphics and thought that I might move into some simple game graphics. I have done some in 2D but not 3D.  Also check Pulp core - deals with the most common problems facing Java gaming. very interesting stuff.  As an update a couple of the JMonkeyEngine guys have forked that project to create Ardor3d a new version of which was recently released so its still under active development. Project Darkstar is also still actively developed. Indeed DarkMMO an opensource example Darkstar game is being currently refactored to use the latest version of both Darkstar and Ardor3d. I like Ardor3D too its like JMonkeyEngine++ :) Ardor3D works great for us!  As mentioned by all others in this topic there are plenty of excellent libraries/engines available for building games in Java. Game programming in Java is definitely feasible. Keep in mind though that as with any other language getting real-time performance will always take some effort. I wrote a small article about my experiences with using Java for our 3D breakout game 'Caromble!'. It is mainly about the steps we had to take to get our game running smoothly. http://www.caromble.com/2013/05/java-game-programming/  I haven't directly done any game programming but some scene-demo coding and have found that JOGL is really a quite nice framework to work with. It's Java OpenGL so it has a rich 3D functionality and i do believe there are some open source graphic engines done for it aswell.  GTGE (www.goldenstudios.or.id) is an excellent 2D Java Game Library with tutorials and an extensive API. It has gone open-source in its latest version and the source can be downloaded browsed etc. at gtge.googlecode.com.  I've made a list of a bunch of tutorials that should be of help  Despite the odd name ( pretty sure he's talking about the soft drink...) this site has loads of resources and examples games both 2D and 3D. Coke and Code  there is the excellent open source 3d engine called jMonkey (http://www.jmonkeyengine.com) which is being used for a few commercial projects as well as hobby developers... there is also at a lower level the lwjgl library which jmonkeyengine is built on which is a set of apis to wrap opengl as well as provide other game specific libs... My question is: will I want to learn LWJGL before I start jMonkey? Will I have a bigger learning curve if I try to jump straight into jMonkey? lwjgl encourages more efficient OpenGL usage by favouring some more efficient functions. That way if you are not an expert at OpenGL your code is likely to be faster than it would be if you used JOGL which gives you full access to OpenGL. Two of the original developers from JMonkeyEngine forked from the project to create Ardor3D (http://www.ardor3d.com/). Its based on the jMonkeyEngine but cleaned up with better structure.  http://www.javagaming.org/ is a good source for up-to-date information. Another framework not mentioned yet is Xith3D,0.013794314972014398,0.9258109864493572,0.06039469857862836
58058,"Using C++ classes in .so libraries I'm trying to write a small class library for a C++ course. I was wondering if it was possible to define a set of classes in my shared object and then using them directly in my main program that demos the library. Are there any tricks involved? I remember reading this long ago (before I started really programming) that C++ classes only worked with MFC .dlls and not plain ones but that's just the windows side. Thanks. As I understand it this is fine so long as you are linking .so files which were all compiled using the same compiler. Different compilers mangle the symbols in different ways and will fail to link. That is one of the advantages in using COM on Windows it defines a standard for putting OOP objects in DLLs. I can compile a DLL using GNU g++ and link it to an EXE compiled with MSVC - or even VB! There is a caveat to this: you can use shared libraries containing C++ code compiled by different compilers if: (a) the symbol mangling schemes match or (b) you have some `extern C` functions to use as API glue.  My solution/testing Here's my solution and it does what i expected. Code cat.hh : #include <string> class Cat { std::string _name; public: Cat(const std::string & name); void speak(); }; cat.cpp : #include <iostream> #include <string> #include ""cat.hh"" using namespace std; Cat::Cat(const string & name):_name(name){} void Cat::speak() { cout << ""Meow! I'm "" << _name << endl; } main.cpp : #include <iostream> #include <string> #include ""cat.hh"" using std::cout;using std::endl;using std::string; int main() { string name = ""Felix""; cout<< ""Meet my cat "" << name << ""!"" <<endl; Cat kitty(name); kitty.speak(); return 0; } Compilation You compile the shared lib first: $ g++ -Wall -g -fPIC -c cat.cpp $ g++ -shared -Wl-sonamelibcat.so.1 -o libcat.so.1 cat.o Then compile the main executable or C++ program using the classes in the libraries: $ g++ -Wall -g -c main.cpp $ g++ -Wall -Wl-rpath. -o main main.o libcat.so.1 # -rpath linker option prevents the need to use LD_LIBRARY_PATH when testing $ ./main Meet my cat Felix! Meow! I'm Felix $ This code shows falls into one of the 'gotchas' of C++ classes across shared libraries. By using a STL class in the 'shared' interface means that the library and the application are each compiling their own implementation of the STL class 'string'. If both these projects are compiled at the same time on the same machine using the same compiler then it all looks good. Compile the library wait 18 months and then compile the application and it 'may' work. but there is no guarantee. Distribute your shared libraries in binary to other developers and you will have 'issues'  C++ classes work fine in .so shared libraries (they also work in non-MFC DLLs on Windows but that's not really your question). It's actually easier than Windows because you don't have to explicitly export any symbols from the libraries. This document will answer most of your questions: http://people.redhat.com/drepper/dsohowto.pdf The main things to remember are to use the -fPIC option when compiling and the -shared option when linking. You can find plenty of examples on the net.",0.03791307662879553,0.006038915399858084,0.9560480079713465
63011,"Endless loop in JavaScript that does not trigger warning by browser I'm displaying a set of images as an overlay using Google Maps. Displaying these images should be in an endless loop but most most browsers detect this and display a warning. Is there a way to make a endless loop in JavaScript so that it isn't stopped or warned against by the browser? If it fits your case you can keep loading new images to respond to user interaction like this website does (just scroll down).  Perhaps try using a timer which retrieves the next image each time it ticks unfortunately i don't know any JavaScript so I can't provide a code sample  Instead of using an infinite loop make a timer that keeps firing every n seconds - you'll get the 'run forever' aspect without the browser hang.  Try setInterval or setTimeout EDIT: Like in this simple example: http://n0p.com/so/63011.php  The following code will set an interval and set the image to the next image from an array of image sources every second. function setImage(){ var Static = arguments.callee; Static.currentImage = (Static.currentImage || 0); var elm = document.getElementById(""imageContainer""); elm.src = imageArray[Static.currentImage++]; } imageInterval = setInterval(setImage 1000);  function foo() { alert('hi'); setTimeout(foo 5000); } Then just use an action like ""onload"" to kick off 'foo'  You should use a timer to continuously bring new images instead of an infinite loop. Check the setTimeout() function. The caveat is that you should call it in a function that calls itself for it to wait again. Example taken from w3schools <html> <head> <script type=""text/javascript""> var c=0 var t function timedCount() { document.getElementById('txt').value=c; c=c+1; t=setTimeout(""timedCount()""1000); } </script> </head> <body> <form> <input type=""button"" value=""Start count!"" onClick=""timedCount()""> <input type=""text"" id=""txt""> </form> </body> </html> You should use `timedCount` instead of `""timedCount()""`. There's not reason why you need to evaluate the function call instead of just passing the function in directly. This is more convoluted than simply using setInterval...  Just a formal answer: var i = 0; while (i < 1) { do something... if (i < 1) i = 0; else i = fooling_function(i); // must return 0 } I think no browser would detect such things. Thevs browsers will prompt you if _any_ operation is taking too long. Your loop is not an exclusion. The only way is to use setInterval/setTimeout (as it has been already noted).",0.022393238285211142,0.8570326457175419,0.12057411599724693
26536,"Active X Control JavaScript My coworker and I have encountered a nasty situation where we have to use an active X control to manipulate a web camera on a page. Is it possible to assign a javascript event handler to a button in the active x control so that it would fire an action on the page when clicked or do we have to create a button on the html page itself that manipulates the Active X Control and then can fire any necessary actions on the page? Please just use an existing ActiveX control. Like Flash or Silverlight. Flash has built-in webcam support and is controllable via JavaScript. Silverlight doesn't have built-in camera support but it's JavaScript integration is fantastic. If you must write your own then fret not it is trivial to get it to interact with JavaScript. You just have to expose the IDispatch interface. For events you need to learn about Connection Points.  Yes! You can throw events in C++/ActiveX land which makes the JavaScript code run an event handler function. I was even able to make an entire invisible ActiveX control (same color as page background) with no buttons or visual feedback that did all of its GUI work through JavaScript and CSS. edit: Frank's advice is right on. Here's the link on scripting events. My strategy was to call a C++ function called MyUpdate (which implements IConnectionPoint) when I wanted to force updates in the browser. (Also I made sure to pump Windows messages in the Fire_MyUpdate method because sometimes JavaScript code would call back into C++ land by calling methods on the ActiveX control; this avoids freezing up the browser and ensures that the JavaScript GUI stays responsive e.g. for a Cancel button.) On the browser side the JavaScript code has the class (or was it the object) followed by ""::"" followed by the method name: function Uploader::MyUpdate() { // ... code to fetch the current state of various // properties from the Uploader object and do something with it // for example check Uploader.IsActive and show or hide an HTML div }",0.04252413981811342,0.948477110340284,0.008998749841602594
83990,"Is it the filename or the whole URL used as a key in browser caches? It's common to want browsers to cache resources - JavaScript CSS images etc. until there is a new version available and then ensure that the browser fetches and caches the new version instead. One solution is to embed a version number in the resource's filename but will placing the resources to be managed in this way in a directory with a revision number in it do the same thing? Is the whole URL to the file used as a key in the browser's cache or is it just the filename itself and some meta-data? If my code changes from fetching '/r20/example.js' to '/r21/example.js' can I be sure that revision 20 of example.js was cached but now revision 21 has been fetched instead and it is now cached? Entire url. I've seen a strange behavior in a few older browsers where case sensitivity came into play.  Yes any change in any part of the URL (excluding HTTP and HTTPS protocols changes) is interpreted as a different resource by the browser (and any intermediary proxies) and will thus result in a separate entity in the browser-cache. Update: The claim in this ThinkVitamin article that Opera and Safari/Webkit browsers don't cache URLs with ?query=strings is false. Adding a version number parameter to a URL is a perfectly acceptable way to do cache-busting. What may have confused the author of the ThinkVitamin article is the fact that hitting Enter in the address/location bar in Safari and Opera results in different behavior for URLs with query string in them. However (and this is the important part!) Opera and Safari behave just like IE and Firefox when it comes to caching embedded/linked images and stylesheets and scripts in web pages - regardless of whether they have ""?"" characters in their URLs. (This can be verified with a simple test on a normal Apache server.) (I would have commented on the currently accepted answer if I had the reputation to do it. :-) I'll need to re-check current browsers but I can confirm that in the past changing only parameters in the URL did NOT guarantee that the cache would be broken. Keep in mind that my answer was also added almost 3 years ago... a lot has changed since then. My answer above is also from 3 years ago. I did a thorough test back then and was relieved to find that Safari and Opera both behaved sensibly. Testing this was difficult/confusing however because Safari and Opera tended to ignore cache directives on linked resources when reloading pages (or hitting Enter in the location bar) as opposed to accessing them by clicking links. BTW ""changing only parameters in the URL did NOT guarantee that the cache would be broken"" is a weird claim. I've never seen anyone suggest this before. Only the opposite (as in the now lost ThinkVitamin article) that browsers *don't cache* pages with parameters (which they still do). I added a comment to my original answer above. The trick is that there are dozens of browsers (desktop & mobile) proxies and software apps that consume web content. Since at least historically it wasn't possible to depend on cache-busting via a url parameter I've long since used file re-naming techniques.  In most browsers the full url is used. In some browsers if you have a query in the url the document will never be cached.  They MINIMUM you need to identify an HTTP object is by the full path including any query-string parameters. Some browsers may not cache objects with a query string but that has nothing to do with the key to the cache. It is also important to remember that the the path is no longer sufficient. The Vary: header in the HTTP response alerts the browser (or proxy server etc.) of anything OTHER than the URL which should be used to determine the cache key such as cookies encoding values etc. To your basic question yes changing the URL of the .js file is sufficent. TO the larger question of what determines the cache key it's the URL plus the Vary: header restrictions.  Of course it has to use the whole path '/r20/example.js' vs '/r21/example.js' could be completely different images to begin with. What you suggest is a viable way to handle version control.  Yes. A different path is the same from the caches perspective.  I am 99.99999% sure that it is the entire url that is used to cache resources in a browser so your url scheme should work out fine.  depends. it is supposed to be the full URL but some browsers (Opera Safari[2]) apply a different cache strategy for urls with different params. best bet is to change the name of the file. There is a very clever solution here (uses PHP Apache) http://verens.com/archives/2008/04/09/javascript-cache-problem-solved/ Strategy notes: “According the letter of the HTTP caching specification user agents should never cache URLs with query strings. While Internet Explorer and Firefox ignore this Opera and Safari don’t - to make sure all user agents can cache your resources we need to keep query strings out of their URLs.” http://www.thinkvitamin.com/features/webapps/serving-javascript-fast The ThinkVitamin.com article is wrong. Safari and Opera **do** cache URLs with query strings just like any URLs. ([See my answer](http://stackoverflow.com/questions/83990/is-it-the-filename-or-the-whole-url-used-as-a-key-in-browser-caches/85386#85386) for more info) In addition to browsers some popular proxies require filename changes in order to break the cache. http://www.stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring/ In this article the Squid proxy server is mentioned (which did change it's default in version 2.7) I'd much rather play it safe and change the filename. I'm afraid you're either reading Steve Sounders' post wrong or typing it wrong. Steve's findings are that his Squid proxy didn't cache the querystring URL - which is the exact opposite of ""require filename changes in order to break the cache"". Relating to the question asked ""Is it the filename or the whole URL used as a key in browser caches?"" then the answer is a simple ""Yes"". That some (usually outdated intermediary proxies) play it safe and will *not cache* some types of URLs is a minor annoyance and does not change the basic fact that the whole URL is used as a key in all web chaches. Just for posterity: I feel that *""user agents should never cache URLs with query strings""* is [missing a critical part from RFC2616](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.9): *""since some applications have traditionally used GETs and HEADs with query URLs [...] to perform operations with significant side effects caches MUST NOT treat responses to such URIs as fresh **unless the server provides an explicit expiration time**""* (emphasis mine). @scunliffe In your answer you quoted ""According the letter of the HTTP caching specification user agents should never cache URLs with query strings"" I believe this is incorrect. Can you point to the part of the HTTP caching spec that says this? @DarrelMiller are you asking me (@scunliffe) or @Arjan?",0.7461035905648946,0.24898383080423417,0.004912578630871104
77436,"Ant is not able to delete some files on windows I have an ant build that makes directories calls javac and all the regular stuff. The issue I am having is that when I try to do a clean (delete all the stuff that was generated) the delete task reports that is was unable to delete some files. When I try to delete them manually it works just fine. The files are apparently not open by any other process but ant still does not manage to delete them. What can I do? What Ant version you are using? They can still be open when ant tries to remove them from a previous task Using Ant Retry task has helped me. I've just wrapped it around the Delete Task.  In my case my ant clean was failing from Eclipse unable to remove build files. I see this from time to time. Usually succeeds on a repeat attempt. This time no. Tried running ant clean from command line failed Unable to delete""unable to delete"". It must have been Eclipse holding on to the problem file when I exited Eclipse cmd line was able to delete OK.  I encountered this problem once. It was because the file i tried to delete was a part of a classpath for another task. how did you solve it then? @StefanSprenger you have to execute your tasks in the right order  I've been having this problem a lot lately and it's random. One time it works the next time it doesn't work. I'm using NetBeans (in case that matters) and I've added a lot of extra tasks to build.xml. I was having this problem in the -post-jar task. It would happen when I call unjar on the file then delete. I suspect that NB is trying to scan the jar and this causes the lock on it. What worked for me is to immediately rename the jar at the start of -post-jar and add a .tmp extension to it. Then I call unjar on the temp file. When I'm done I rename back to the desired jar name.  You don't say if your build is run as the currently logged on user. If not the fact that explorer.exe or other process has the directory shown can cause it to be locked as well. But deleting it in that same explorer.exe process would succeed. Try Unlocker from http://ccollomb.free.fr/unlocker/ to see what processes have the files/directories locked.  I too had the same problem and was tried of manually deleting the build directories. Finally I solved it by renaming the .jar artifact of my project to a different name from project name itself. For ex: my project was portal and my ant built script use to generate portal.jar where eclipse ant was not able to delete this portal.jar. When i changed my build.xml to generate my .jar as portalnew.jar eclipse was able to delete this portalnew.jar next time. Hope this helps.  It depends ... The Ant process doesn't have enough permissions to delete the files (typically because they were created by a different user perhaps a system user). Try running your Ant script as an administrative user using Run As. Windows is really bad at cleaning up file locks when processes die or are killed; consequently Windows thinks the file is locked by a process that died (or was killed). There's nothing you can do in this situation other than reboot. Get better tools to inspect your system state. I recommend downloading the SysInternals tools and using them instead of the default Windows equivalents. Okay so sysinternals shows me that javaw.exe has a handle on a file or directory now what? I agree with point 3. sysinternals handle.exe is invaluable as a command line tool to analyse this sort of problem.  Ant versions before 1.8.0 have a bug which leads to random errors during delete operation. Try using Ant 1.8.0 or newer. You can see the bug details here https://issues.apache.org/bugzilla/show_bug.cgi?id=45960  I faced the same problem. I didn't have any classpath set to or antivirus running on my machine. However the ANT version I was using was 32 bit and the JDK I installed was 64 bit. I installed a 32 bit JDK and the issue was resolved.  Is there something from the Ant process that is holding the files (or directory) open? This would cause the situation where you could delete them after running ant but not during.",0.9708864509755591,0.004517826524427891,0.024595722500013004
19838,"Ruby blocks/Java closures in C I've been trying to understand how Ruby blocks work and to do that I've been trying to implement them in C (^_^). One easy way to implement closures is to pass a void* to the enclosing stack to the closure/function but Ruby blocks also seem to handle returns and break statements from the scope that uses the block. loop do break i if (i >= 4000) i *= 2 end I think one of the closures proposals for Java works like this also. So how would you implement Ruby-blocks/Java-closures in C? ""So how would you implement Ruby-blocks/Java-closures in C?"" At least until Java 7 is released there is no such thing as Java-closures. Yea that's why I said ""closures proposals for Java"" right before. The concept of closures requires the concept of contexts. C's context is based on the stack and the registers of the CPU so to create a block/closure you need to be able to manipulate the stack pointer in a correct (and reentrant) way and store/restore registers as needed. The way this is done by interpreters or virtual machines is to have a context structure or something similar and not use the stack and registers directly. This structure keeps track of a stack and optionally some registers if you're designing a register based VM. At least that's the simplest way to do it (though slightly less performant than actually mapping things correctly).  I haven't actually implemented any of this so take it with a sack of salt. There are two parts to a closure: the data environment and the code environment. Like you said you can probably pass a void* to handle references to data. You could probably use setjmp and longjmp to implement the non-linear control flow jumps that the Ruby break requires. If you want closures you should probably be programming in a language that actually supports them. :-) UPDATE: Interesting things are happening in Clang. They've prototyped a closure for C. http://lists.cs.uiuc.edu/pipermail/cfe-dev/2008-August/002670.html might prove to be interesting reading.  There's a good set of slides on Ruby Blocks as part of the ""Rails with Passion"" course: Ruby_Blocks.pdf This covers representing a block how they get passed arguments and executed and even further into things like Proc objects. It's very clearly explained. It might then be of interest to look at how the JRuby guys handled these in their parsing to Java. Take a look at the source at codehaus.",0.06481324339462949,0.017150549510804126,0.9180362070945663
69108,Using Java JAR file in .NET What options/methods/software are available to convert a JAR file to a managed .NET assembly? Please provide all commercial and non-commercial methods in the answer. These don't include solutions which require Java to be installed on the host machine. Confronted with this situation last year I wrote a small wrapper (in java) that read the inputs from a temp file invoked the jar and placed the output in anther temp file. The .NET project would create the input file call the JVM and start the wrapper wait for it to finish and read the output file. Quick and Dirty. at least in my case Although this approach clearly works I would VERY heavily discourage such approaches and would promote some RPC mechanism instead.  I could be wrong but I'm pretty sure that's impossible. The java byte code is different to the code produced to run on the CLR. Snarky answer: Get the source code and port it. EDIT: A little poking comes up with http://sourceforge.net/projects/ikvm/ a Java Virtual Machine implementation for .NET. Not quite what you asked for but it's probably going to be the best you can do. snarky is ok. the question begs it. bytecode is rewriteable the hard part is the runtime classes,0.6538514792865294,0.018186302537747903,0.3279622181757227
91890,Reading quicken data files Looking for an open source library for C++ Java C# or Python for reading the data from Quicken .qdf files. @Swati: Quicken .qif format is for transfer only and is not kept up to date by the application like the .qdf file is. It really is too bad Intuit doesn't have a Google-style Data Liberation policy (http://www.dataliberation.org/). My biggest fear with Quicken is that it disappears and I'm locked into it forever. But they keep .qdf very proprietary (and encrypted)... QDF is proprietary and not really meant for reading other than my Quicken probably for a reason as it is messy. I would recommend finding a way to export the qdf into an OFX (Open Financial Exchange) or qif file. I have done some financial and quickbooks automation and I did something similar. The problem is if you don't export to an exchange format each version differs and strange things happen for many conditions that since they aren't documented (QDF) it becomes a bad situation for the programmer. OFX is what allows online banking brokerages and apps like mint.com securely get financial data. It is a standard and consistent. Finding a way to this is much better if at all possible.  Check out http://qif.codeplex.com/ You may want to check the license before use. Thanks  http://www.west-wind.com/Weblog/posts/10491.aspx And i know one other blog where the author was developing a parser for qfx/qif... lemme look it up... googling hasnt helped yet :( Update: Found one more: http://blogs.msdn.com/lucabol/archive/2007/08/31/parsing-qif-quicken-files-in-c.aspx,0.8846683431715242,0.08068323122478031,0.034648425603695486
59832,"getting java exception: java.net.MalformedURLException: no protocol I am currently calling the following line of code: java.net.URL connection_url = new java.net.URL(""http://<ip address>:<port>/path""); and I get the exception above when it executes. Any ideas as to why this is happening? I'm not getting that same exception with the exact same code. What version of Java is causing the exception? As a side note you should be using URI because Java URL class is screwed up. (The equals method I believe) You probably *don't* want to use java.net.URI if you're working with URLs as found in the wild (often invalid URIs). Not sure why the parent got modded down but it might be a good idea to use URI in place of URL depending on what you're doing. See: http://www.symphonious.net/2007/03/29/javaneturl-or-javaneturi/  I have also had the same exception but in my case the URL which I was trying to execute had a space appended. After removing the space it worked fine for me. Check that the URL does not have any trailing spaces in your case.  I had the same error and it got resolved by the below : The jar files (JFree) which I added few days back got corrupted automatically and was causing this error. I downloaded the same files again from net and it worked fine for me.  That url string looks like it's invalid. Sure it's not supposed to be 'http://path'? Or are the server & port blank? Thanks! that worked for me. Had missed adding the protocol before the IP address. I guess Chrome has spoiled me :)  Your code works perfectly fine for me: public static void main(String[] args) { try { java.net.URL connection_url = new java.net.URL(""http://:/path""); System.out.println(""Instantiated new URL: "" + connection_url); } catch (MalformedURLException e) { e.printStackTrace(); } } Instantiated new URL: http://:/path Sure you have the right line of code?",0.9426915059310164,0.04561454685463943,0.01169394721434419
13396,"Replacement for for... if array iteration I love list comprehensions in Python because they concisely represent a transformation of a list. However in other languages I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x > 3) //generic condition on x x++ //do other processing This example is in C# where I'm under the impression LINQ can help with this but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering? The increment in the original foreach loop will not affect the contents of the array the only way to do this remains a for loop: for(int i = 0; i < intArray.Length; ++i) { if(intArray[i] > 3) ++intArray[i]; } Linq is not intended to modify existing collections or sequences. It creates new sequences based on existing ones. It is possible to achieve the above code using Linq though it is slightly against its purposes: var newArray1 = from i in intArray select ((i > 3) ? (i + 1) : (i)); var newArray2 = intArray.Select(i => (i > 3) ? (i + 1) : (i)); Using where (or equivalent) as shown in some of the other answers will exclude any values less than or equal to 3 from the resulting sequence. var intArray = new int[] { 10 1 20 2 }; var newArray = from i in intArray where i > 3 select i + 1; // newArray == { 11 21 } There is a ForEach method on arrays that will allow you to use a lambda function instead of a foreach block though for anything more than a method call I would stick with foreach. intArray.ForEach(i => DoSomething(i));  In C# you can apply selective processing on anything that lives inside an IEnumerable like this: intArray.Where(i => i > 3).ConvertAll(); DoStuff(intArray.Where(i => i 3)); Etc..  map(lambda x: test(x + 1) filter(lambda x: x > 3 arr))  in Ruby: intArray.select { |x| x > 3 }.each do |x| # do other processing end or if ""other processing"" is a short one-liner: intArray.select { |x| x > 3 }.each { |x| something_that_uses x } lastly if you want to return a new array containing the results of the processing of those elements greater than 3: intArray.select { |x| x > 3 }.map { |x| do_something_to x }  In Python you have filter and map which can so what you want: map(lambda x: foo(x + 1) filter(lambda x: x > 3 intArray)) There's also list comprehensions which can do both in one easy statement: [f(x + 1) for x in intArray if x > 3]  Depends on the language and what you need to do a ""map"" as it's called in many languages could be what you're looking for. I don't know C# but according to this page .NET 2.0 calls map ""ConvertAll"". The meaning of ""map"" is pretty simple - take a list and apply a function to each element of it returning a new list. You may also be looking for ""filter"" which would give you a list of items that satisfy a predicate in another list.",0.013940495924300992,0.12038207685939291,0.8656774272163061
69112,"What is a symbol table? Can someone describe what a symbol table is within the context of C and C++? In Linux you can use command: nm [object file] to list the symbol table of that object file.  Check out the Symbol Table wikipedia entry.  The symbol table is the list of ""symbols"" in a program/unit. Symbols are most often the names of variables or functions. The symbol table can be used to determine where in memory variables or functions will be located.  There are two common and related meaning of symbol tables here. First there's the symbol table in your object files. Usually a C or C++ compiler compiles a single source file into an object file with a .obj or .o extension. This contains a collection of executable code and data that the linker can process into a working application or shared library. The object file has a data structure called a symbol table in it that maps the different items in the object file to names that the linker can understand. If you call a function from your code the compiler doesn't put the final address of the routine in the object file. Instead it puts a placeholder value into the code and adds a note that tells the linker to look up the reference in the various symbol tables from all the object files it's processing and stick the final location there. Second there's also the symbol table in a shared library or DLL. This is produced by the linker and serves to name all the functions and data items that are visible to users of the library. This allows the system to do run-time linking resolving open references to those names to the location where the library is loaded in memory. If you want to learn more I suggest John Levine's excellent book ""Linkers and Loaders"".link text  Briefly it is the mapping of the name you assign a variable to its address in memory including metadata like type scope and size. It is used by the compiler. That's in general not just C[++]*. Technically it doesn't always include direct memory address. It depends on what language platform etc. the compiler is targeting.",0.10405414964923285,0.05308004739386145,0.8428658029569056
49156,Importing JavaScript in JSP tags I have a .tag file that requires a javascript library (as in a .js file). Currently I am just remembering to import the .js file in every JSP that uses the tag but this is a bit cumbersome and prone to error. Is there a way to do the importing of the .js inside the JSP tag? (for caching reasons I would want the .js to be a script import) Short of just including the js in every page automatically I do not think so. It really would not be something that tags are designed to to. Without knowing what your tag is actually doing (presumably its its outputting something in the body section) then there is no way that it will be able to get at the head to put the declaration there. One solution that might (in my head) work would be to have an include that copies verbatim what you have in the head after the place in the head to import tags right up to where you want to use the tag. This is really not something that you would want to do. You would have to have multiple 'header' files to import depending on the content and where you want to use the tag. Maintenance nightmare. Just a bad idea all round. Any solution I can think of would require more work than manually just adding in the declaration. I think you are out of luck and stuck with manually putting it in. edit: Just import it in every page. It will be cached and then this problem goes away. Basically it's an ajax component so it displays some data and then needs to special JS logic to call an action etc. Which is why I would like it to be self contained; so you can just drop one of them in and be done with it.  There is no reason you cannot have a script tag in the body even though it is preferable for it to be in the head. Just emit the script tag before you emit your tag's markup. The only thing to consider is that you do not want to include the script more than once if you use the jsp tag on the page more than once. The way to solve that is to remember that you have already included the script by addng an attribute to the request object.,0.13050376976624173,0.8332007785432599,0.03629545169049834
53562,"Enabling Hibernate second-level cache with JPA on JBoss 4.2 What are the steps required to enable Hibernate's second-level cache when using the Java Persistence API (annotated entities)? How do I check that it's working? I'm using JBoss 4.2.2.GA. From the Hibernate documentation it seems that I need to enable the cache and specify a cache provider in persistence.xml like: <property name=""hibernate.cache.use_second_level_cache"" value=""true"" /> <property name=""hibernate.cache.provider_class"" value=""org.hibernate.cache.HashtableCacheProvider"" /> What else is required? Do I need to add @Cache annotations to my JPA entities? How can I tell if the cache is working? I have tried accessing cache statistics after running a Query but Statistics.getSecondLevelCacheStatistics returns null perhaps because I don't know what 'region' name to use. I believe you need to add the cache annotations to tell hibernate how to use the second-level cache (read-only read-write etc). This was the case in my app (using spring / traditional hibernate and ehcache so your mileage may vary). Once the caches were indicated I started seeing messages that they were in use from hibernate.  Follow-up: in the end after adding annotations I have it working with EhCache i.e. <property name=""hibernate.cache.provider_class"" value=""net.sf.ehcache.hibernate.EhCacheProvider"" /> Note that in Hibernate 3.3+ this parameter is now hibernate.cache.region.factory_class and not what's above. Adding this for posterity ;)",0.9619203923204167,0.01337440829455127,0.024705199385032003
88036,"Does the unmodifiable wrapper for java collections make them thread safe? I need to make an ArrayList of ArrayLists thread safe. I also cannot have the client making changes to the collection. Will the unmodifiable wrapper make it thread safe or do I need two wrappers on the collection? It will be thread-safe if the unmodifiable view is safely published and the modifiable original is never ever modified (including all objects recursively contained in the collection!) after publication of the unmodifiable view. If you want to keep modifying the original then you can either create a defensive copy of the object graph of your collection and return an unmodifiable view of that or use an inherently thread-safe list to begin with and return an unmodifiable view of that. You cannot return an unmodifiableList(synchonizedList(theList)) if you still intend to access theList unsynchronized afterwards; if mutable state is shared between multiple threads then all threads must synchronize on the same locks when they access that state.  From looking at the Collections source it looks like Unmodifiable does not make it synchronized. static class UnmodifiableSet<E> extends UnmodifiableCollection<E> implements Set<E> Serializable; static class UnmodifiableCollection<E> implements Collection<E> Serializable; the synchronized class wrappers have a mutex object in them to do the synchronized parts so looks like you need to use both to get both. Or roll your own!  It depends. The wrapper will only prevent changes to the collection it wraps not to the objects in the collection. If you have an ArrayList of ArrayLists the global List as well as each of its element Lists need to be wrapped separately and you may also have to do something for the contents of those lists. Finally you have to make sure that the original list objects are not changed since the wrapper only prevents changes through the wrapper reference not to the original object. You do NOT need the synchronized wrapper in this case. I have learned so much since I posted this question. Just goes to prove that just because the answer is accepted and/or popular that it is correct. To many wrong answers an this site are accepted just because that they are popular. I changed the accepted answer to this one after I learned more.  The unmodifiable wrapper only prevents changes to the structure of the list that it applies to. If this list contains other lists and you have threads trying to modify these nested lists then you are not protected against concurrent modification risks.  On a related topic - I've seen several replies suggesting using synchronized collection in order to achieve thread safety. Using synchronized version of a collection doesn't make it ""thread safe"" - although each operation (insert count etc.) is protected by mutex when combining two operations there is no guarantee that they would execute atomically. For example the following code is not thread safe (even with a synchronized queue): if(queue.Count > 0) { queue.Add(...); }  This is neccessary if: There is still a reference to the original modifiable list. The list will possibly be accessed though an iterator. If you intend to read from the ArrayList by index only you could assume this is thread-safe. When in doubt chose the synchronized wrapper.  I believe that because the UnmodifiableList wrapper stores the ArrayList to a final field any read methods on the wrapper will see the list as it was when the wrapper was constructed as long as the list isn't modified after the wrapper is created and as long as the mutable ArrayLists inside the wrapper aren't modified (which the wrapper can't protect against).  Not sure if I understood what you are trying to do but I'd say the answer in most cases is ""No"". If you setup an ArrayList of ArrayList and both the outer and inner lists can never be changed after creation (and during creation only one thread will have access to either inner and outer lists) they are probably thread safe by a wrapper (if both outer and inner lists are wrapped in such a way that modifying them is impossible). All read-only operations on ArrayLists are most likely thread-safe. However Sun does not guarantee them to be thread-safe (also not for read-only operations) so even though it might work right now it could break in the future (if Sun creates some internal caching of data for quicker access for example).  An immutable object is by definition thread safe (assuming no-one retains references to the original collections) so synchronization is not necessary. Wrapping the outer ArrayList using Collections.unmodifiableList() prevents the client from changing its contents (and thus makes it thread safe) but the inner ArrayLists are still mutable. Wrapping the inner ArrayLists using Collections.unmodifiableList() too prevents the client from changing their contents (and thus makes them thread safe) which is what you need. Let us know if this solution causes problems (overhead memory usage etc); other solutions may be applicable to your problem. :) EDIT: Of course if the lists are modified they are NOT thread safe. I assumed no further edits were to be made. Eddie: You are of course right (except you meant ""withOUT synchronization""?); I was writing code exposing read-only lists at the time and so implicitly (but probably incorrectly) assumed no further edits were to be made. Thanks! Whoops you're right. I mean ""and withOUT synchronization"". The wrapped collection is *not* immutable however as long as another Thread maintains a reference to the mutable version. That other thread can modify the collection and with synchronization there is no guarantee that other threads will see the changes.",0.024921167643434,0.018247697777068736,0.9568311345794972
94037,"Convert character to ASCII code in Javascript How can I convert a character to its ASCII code using JavaScript? For example: get 10 from ""\n"". technically it would be '\n' If you have only one char and not a string you can use: var a = 'A'; var codeA = a.charCodeAt(); omitting the 0...  While the other answers are right I prefer a more functional approach. function ascii (a) { return a.charCodeAt(0); } Then to use it simply: var lineBreak = ascii(""\n""); I am using this for a small shortcut system: $(window).keypress(function(event) { if (event.ctrlKey && event.which == ascii(""s"")) { savecontent(); } // ... });  ""\n"".charCodeAt(0); The opposite of this is `String.fromCharCode(10)`. Fun fact: you don’t really need the `0` (first argument value) — just `""\n"".charCodeAt()` will do. @MathiasBynens: and fortunately this is documented: https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/charCodeAt. ""if it is not a number it defaults to 0"" You should point out that unlike `String.fromCharCode( asciiNumVal )` `stringInstance.charCodeAt( index )` is __not__ a static method of class String @Mathias Bynens It certainly does default to zero but I just ran a just out of interest test on performance and it performs **relatively badly compared using 0. http://jsperf.com/default-to-0-vs-0/4 ** Its a relative difference only either way its very very quick. @wademontague I would have never thought to perf-test that. That's so ridiculous! Thanks for the results. I think it's a bit clearer (readability wise) to specify the index instead of leaving it to defaults...but it's minor anyway  String.charCodeAt() can convert string characters to ASCII numbers. For example: ""ABC"".charCodeAt(0) // returns 65 For opposite use String.fromCharCode(10) that convert numbers to equal ASCII character. This function can accpet multiple numbers and join all the characters then return the string. Example: String.fromCharCode(656667); // returns 'ABC' Here is a quick ASCII characters reference: { ""31"": """" ""32"": "" "" ""33"": ""!"" ""34"": ""\"""" ""35"": ""#"" ""36"": ""$"" ""37"": ""%"" ""38"": ""&"" ""39"": ""'"" ""40"": ""("" ""41"": "")"" ""42"": ""*"" ""43"": ""+"" ""44"": """" ""45"": ""-"" ""46"": ""."" ""47"": ""/"" ""48"": ""0"" ""49"": ""1"" ""50"": ""2"" ""51"": ""3"" ""52"": ""4"" ""53"": ""5"" ""54"": ""6"" ""55"": ""7"" ""56"": ""8"" ""57"": ""9"" ""58"": "":"" ""59"": "";"" ""60"": ""<"" ""61"": ""="" ""62"": "">"" ""63"": ""?"" ""64"": ""@"" ""65"": ""A"" ""66"": ""B"" ""67"": ""C"" ""68"": ""D"" ""69"": ""E"" ""70"": ""F"" ""71"": ""G"" ""72"": ""H"" ""73"": ""I"" ""74"": ""J"" ""75"": ""K"" ""76"": ""L"" ""77"": ""M"" ""78"": ""N"" ""79"": ""O"" ""80"": ""P"" ""81"": ""Q"" ""82"": ""R"" ""83"": ""S"" ""84"": ""T"" ""85"": ""U"" ""86"": ""V"" ""87"": ""W"" ""88"": ""X"" ""89"": ""Y"" ""90"": ""Z"" ""91"": ""["" ""92"": ""\\"" ""93"": ""]"" ""94"": ""^"" ""95"": ""_"" ""96"": ""`"" ""97"": ""a"" ""98"": ""b"" ""99"": ""c"" ""100"": ""d"" ""101"": ""e"" ""102"": ""f"" ""103"": ""g"" ""104"": ""h"" ""105"": ""i"" ""106"": ""j"" ""107"": ""k"" ""108"": ""l"" ""109"": ""m"" ""110"": ""n"" ""111"": ""o"" ""112"": ""p"" ""113"": ""q"" ""114"": ""r"" ""115"": ""s"" ""116"": ""t"" ""117"": ""u"" ""118"": ""v"" ""119"": ""w"" ""120"": ""x"" ""121"": ""y"" ""122"": ""z"" ""123"": ""{"" ""124"": ""|"" ""125"": ""}"" ""126"": ""~"" ""127"": """" } Better ascii reference: http://en.wikipedia.org/wiki/ASCII - I'm pretty proud the coloring I did for the tables on that page remains there after almost 10 years : ) Better yet ```man ascii```",0.009247587386612662,0.10468467696756509,0.8860677356458222
29461,What is a MUST COVER in my Groovy presentation? I'm working on getting an Introduction to Groovy presentation ready for my local Java User's Group and I've pretty much got it together. What I'd like to see is what you all think I just have to cover. Remember this is an introductory presentation. Most of the people are experienced Java developers but I'm pretty sure they have little to no Groovy knowledge. I won't poison the well by mentioning what I've already got down to cover as I want to see what the community has to offer. What are the best things I can cover (in a 1 hour time frame) that will help me effectively communicate to these Java developers how useful Groovy could be to them? thanks p.s. I'll share my presentation here later for anyone interested. as promised now that my presentation has been presented here it is Off topic almost 4 years after being asked... I should get a medal for that. :-) Include an example of how making Java code more groovy takes away soooo much code. Wait for them to pick their jaws up off of the floor before continuing. Scott Davis has a simple example at the beginning of Groovy Recipes that takes 35 lines of Java or 3 lines of Groovy.  here is a recent presentation of groovy and grails that seems representative: http://jshingler.blogspot.com/2009/01/codemash-2009-groovy-and-grails.html  I'd go for: Closures Duck typing Builders (XML builder and slurper) GStrings Grails  [More of a comment than an answer] Les Nicely done on the Groovy presentation. Going through it reminded me of a dozen features of Groovy that I forgot about. (I'm pretty good at Groovy but it's so rich with features...) I'm going to use your presentation slides like flashcards until I learn it all. Thanks.  I don't know anything about groovy so in a sense I've qualified to answer this... I would want you to: Tell me why I would want to use Scripting (in general) as opposed to Java-- what does it let me do quicker (as in development time) what does it make more readable. Give tantalising examples of ways I can use chunks of scripting in my mostly Java app. You want to make this relevant to Java devs moreso than tech-junkies. With that out of the way why Groovy? Why not Ruby Python or whatever (which are all runnable on the JVM). Don't show me syntax that Java can already do (if statements loops etc) or if you do make it quick. It's as boring as hell to watch someone walk through language syntax 101 for 20min. For syntax that has a comparible feature in Java maybe show them side by side quickly. For syntax that is not in Java (closures etc) you can talk to them in a bit more detail. Remember those examples from the first point. Show me one fully working (or at least looking like it is). At the end have question time. That is crazy important and with that comes a burden on you to be a psuedo-guru :P. I'm not sure about how the Java6 scripting support works but I'm fairly sure it can be made secure. I remember something about defining the API the script can use before it's run. If this is the case then an example you could show would be some thick-client application (e.g. a music player) where users can write their own scripts with an API you provide them in Groovy which allows them to script their app in interesting and secure ways (e.g. creating custom columns in the playlist)  You should definitely show them how to create a quick Grails application. Two domain classes that are related. Build a basic CRUD app. Explain that tables are being created behind the scenes using GORM(Hibernate). Then explain that you can create a war file and deploy it as you would any other Java war file. You can also add Grails/Groovy to an existing Java/JSP project so it doesn't require a huge commitment or paradigm change. Groovy/Grails is simply Ruby/Rails for Java people. I'd cover the plugins for Netbeans/Eclipse too. Groovy/Grails are just now getting full support in the major IDE's. Finally if you can find a good diagram that shows how Grails is built on top of Spring Hibernate Quartz Sitemesh and Groovy I think people will understand that there is a treasure chest waiting to be unlocked. I purposely wanted to avoid Grails they'd already been presented a Grails talk I wanted to do a strictly Groovy talk. Thanks for the input though.  I'd mention the following things in addition to what has already been stated: GDK - extensions/additions to existing JDK classes Interaction between Groovy and Java code (basically a non-issue) Compiling Groovy code to Java .class files XML parsing and mechanisms for accessing document content One thing I like doing with Groovy is implementing an interface defined in Java as a map from method names to closures. It's a cool thing you can do with Groovy but probably well beyond an introductory presentation though.,0.15583428627756393,0.1923344673066239,0.6518312464158122
98628,"2d game physics? Can anyone point me to a library for 2D game physics etc for programming gravity jumping actions etc for a 2d platform/sidescrolling game ? Or could you suggest some algorithms for side scroller like mario sonic etc? What platform are you looking for? What library you use will depend on this. For the XNA framework Farseer is pretty nice. me looking for allegro+GCC combo  You can do 2d physics with opende as well  It sounds like Chipmunk might meet your needs. Oh that is cool.  You could look at the Havok engine. I believe they released a free version for non-commerical use. There is a constraint kit for it that will allow you to constrain the physics to 2 planes in your case x and y.  I've used Box2D in personal projects. It is a 2D physic simulation API. But it might be overkill if what you want is more a game/graphic API.  If you got the time you could use PhysX but its likely an over kill for 2D. Besides that if you plan on having your game work on a PC and want some cool physics try googling for ""verlet integration"" I know there are quite a few verlet implementations around (nice for particles and 2D rag-dolls).  The physics in most 2D side-scrolling platform games are so simple that you could easily implement them yourself. What kind of effects are you looking for? basically lots of dynamic jumps and bounces  Your best bet is most likely Box2D. It does 2D physics has tons of options and is very easy to integrate into an existing project. It does CCD by default for fixed bodies but any rigid body can be selectively included in the CCD calculation. i just love chipmunk and box2D thanks!  If all you need is gravity you can program that yourself in 5 minutes. Free-falling objects accelerate down at 9.8 meters per second per second - that is an object's downward velocity increases by 9.8 meters per second of free-fall. For a game you'll want to divide that 9.8 by whatever your frame rate is. For jumping just pick a significant negative vertical velocity apply that to the character at the instant they jump and decrement it by your per-frame gravity increment. That's really all you need for something like Mario unless you're looking for a 3d background for your 2d side scroller. If you want to get fancier you can try to take an object's impact force into account making falling objects hurt people or crack pavement or something. For this use the formula for Kinetic Energy: KE = 1/2 * M * V^2 where M is mass and V is velocity.  To answer the second part of your question if you want to get a handle on how a simple 2D platformer works take a read through the tutorials for N. Yes N is a flash-based game but that doesn't mean it isn't constructed like a ""real"" game so the collision detection (and response) tutorials are very much applicable. They're a straightforward read with some intuitive demos embedded in the page to show off the geometric concepts. you are right libs like box2d chipmunk are great but taking lots of time to implemnt and get used to. Since I am constrained to finish development by 28th i need to reduce some game complexity like possibility of uneven terrain and get to some simpler universally applicable methods rather than ...libraries and codes... finally i made a game called nincompoop it was to be finished by 30th september so didn't give finishing touches - try here http://www.bidworkz.com/hfn/nincompoop_shaastra.zip  This guy has done a lot of work with Javascript games: http://blog.nihilogic.dk/",0.0698564165477194,0.83993934553696,0.09020423791532069
27240,"Why aren't Enumerations Iterable? In Java 5 and above you have the foreach loop which works magically on anything that implements Iterable: for (Object o : list) { doStuff(o); } However Enumerable still does not implement Iterable meaning that do iterate over an Enumeration you must do the following: for(; e.hasMoreElements() ;) { doStuff(e.nextElement()); } Does anyone know if there is a reason why Enumeration still does not implement Iterable? Edit: As a clarification I'm not talking about the language concept of an enum I'm talking a Java-specific class in the Java API called 'Enumeration'. Shouldn't that be doStuff(e.nextElement()) inside the block? Assuming it was you who downvoted Camilo Díaz's answer and are not interested in workarounds then the question is really ""why was it designed this way"" in which case it is subjective and should be CW. Sorry no: http://cl.ly/ao5 On Java Specialists Issue 107 Dr. Heinz M. Kabutz shows a nice way to make an Iterable instance from an Enumeration via adapter. I think there's still a problem with that implementation. If I create an adapter `ie = new IterableEnumeration(foo)` then get two iterators `i1 = ie.iterator(); i2 = ie.iterator()` they are both backed by the same enumeration and so will not operate mutually exclusively as is required (as per @erickson answer above).  It doesn't make sense for Enumeration to implement Iterable. Iterable is a factory method for Iterator. Enumeration is analogous to Iterator and only maintains state for a single enumeration. So be careful trying to wrap an Enumeration as an Iterable. If someone passes me an Iterable I will assume that I can call iterator() on it repeatedly creating as many Iterator instances as I want and iterating independently on each. A wrapped Enumeration will not fulfill this contract; don't let your wrapped Enumeration escape from your own code. (As an aside I noticed that Java 7's DirectoryStream violates expectations in just this way and shouldn't be allowed to ""escape"" either.) Enumeration is like an Iterator not an Iterable. A Collection is Iterable. An Iterator is not. You can't do this: Vector<X> list = … Iterator<X> i = list.iterator(); for (X x : i) { x.doStuff(); } So it wouldn't make sense to do this: Vector<X> list = … Enumeration<X> i = list.enumeration(); for (X x : i) { x.doStuff(); } There is no Enumerable equivalent to Iterable. It could be added without breaking anything to work in for loops but what would be the point? If you are able to implement this new Enumerable interface why not just implement Iterable instead? +1. You hit the point imho.  AFAIK Enumeration is kinda ""deprecated"": Iterator takes the place of Enumeration in the Java collections framework I hope they'll change the Servlet API with JSR 315 to use Iterator instead of Enumeration.  As an easy and clean way of using an Enumeration with the enhanced for loop convert to an ArrayList with java.util.Collections.list. for (TableColumn col : Collections.list(columnModel.getColumns()) { (javax.swing.table.TableColumnModel.getColumns returns Enumeration.) Note this may be very slightly less efficient. Funny: this (columns in the column model) is the exact reason I found this question. Nice workaround.  Enumeration hasn't been modified to support Iterable because it's an interface not a concrete class (like Vector which was modifed to support the Collections interface). If Enumeration was changed to support Iterable it would break a bunch of people's code. Enumeration is not IteraBLE. Enumeratrion is actually IteraTOR (but without 'delete') http://stackoverflow.com/a/8197868/117220. With this clarification the answer is that this would break existing APIs. It would be possible to do this backwards-compatibly if partial implementation is allowed in Interfaces (like in Scala traits). Still given that there is for-each support for **both** Iterable **and** arrays why didn't sun include Enumerable as well? @Adrian Kuhn: they didn't include for-each support for Iterator and Enumerable behaves like an Iterator not an Iterable.",0.06815382944052337,0.010295273830881533,0.9215508967285951
69430,"Is there a way to make text unselectable on an html page? I'm building an html UI with some text elements such as tab names which look bad when selected. Unfortunately it's very easy for a user to double-click a tab name which selects it by default in many browsers. I might be able to solve this with a javascript trick (I'd like to see those answers too) -- but I'm really hoping there's something in css/html directly that works across all browsers. Depending on your needs http://stackoverflow.com/q/4117466/298479 might also be a valid solution for you. While many of the examples listed here work keep in mind nothing prevents someone from just looking at the source code and copying the text. I'm finding some level of success with the CSS described here http://www.quirksmode.org/css/selection.html: ::selection { background-color: transparent; } It took care of most of the issues I was having with some ThemeRoller ul elements in an AIR application (WebKit engine). Still getting a small (approx. 15 x 15) patch of nothingness that gets selected but half the page was being selected before. So far this is the best solution for me. I've got a draggable image with an 'I'm busy' gif that I show/hide. If the user didn't wait the I'm busy gif would get selected and look really bad - and worse confusing to the user. Very Good! Simple solution - great answer +1  There are many occasions when turning off selectability enhances the user experience. For instance allowing the user to copy a block of text on the page without copying the text of any interface elements associated with it (that would become interspersed within the text being copied).  Any JavaScript or CSS method is easily circumvented with Firebug (like Flickr's case). You can use the ::selection pseudo-element in CSS to alter the highlight color. If the tabs are links and the dotted rectangle in active state is of concern you can remove that too (consider usability of course).  ""If your content is really interesting then there is little you can ultimately do to protect it"" That's true but most copying in my experience has nothing to do with ""ultimately"" or geeks or determined plagiarists or anything like that. It's usually casual copying by clueless people and even a simple easily defeated protection (easily defeated by folks like us that is) works quite well to stop them. They don't know anything about ""view source"" or caches or anything else... heck they don't even know what a web browser is or that they're using one.  For an example of why it might be desirable to suppress selection see SIMILE TImeline which uses drag-and-drop to explore the timeline during which accidental vertical mouse movement causes the labels to be highlighted unexpectedly which looks weird.  images can be selected too. there are limits to using javascript to deselect text as it might happen even in places where you want to select. To ensure a rich and successful career steer clear of all requirements that need ability to influence or manage the browser beyond the ordinary... unless of course they are paying you extremely well.  Here's a sass mixin (scss) for those interested compass/css3 doesn't seem to have a user-select mixin. // @usage use within a rule // ex. img {@include user-select(none);} // @param assumed valid user-select value @mixin user-select($value) { & { -webkit-touch-callout: $value; -webkit-user-select: $value; -khtml-user-select: $value; -moz-user-select: $value; -ms-user-select: $value; user-select: $value; } } Tho compass would do it in a more robust way i.e. only add support for venders you've chosen.  <script type=""text/javascript""> /*********************************************** * Disable Text Selection script- © Dynamic Drive DHTML code library (www.dynamicdrive.com) * This notice MUST stay intact for legal use * Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code ***********************************************/ function disableSelection(target){ if (typeof target.onselectstart!=""undefined"") //IE route target.onselectstart=function(){return false} else if (typeof target.style.MozUserSelect!=""undefined"") //Firefox route target.style.MozUserSelect=""none"" else //All other route (ie: Opera) target.onmousedown=function(){return false} target.style.cursor = ""default"" } //Sample usages //disableSelection(document.body) //Disable text selection on entire body //disableSelection(document.getElementById(""mydiv"")) //Disable text selection on element with id=""mydiv"" </script> EDIT Code apparently comes from http://www.dynamicdrive.com Is there any update for the Opera or making elements unselectable still not supported? Why are you changing the cusor style to 'default' in the last case? Otherwise +1 Infact you are changing it in all cases (indent is misleading)  If it looks bad you can use CSS to change the appearance of selected sections.  The following works in Firefox interestingly enough if I remove the write line it doesn't work. Anyone have any insight why the write line is needed. <script type=""text/javascript""> document.write("".""); document.body.style.MozUserSelect='none'; </script> I guess body might not be accessible in DOM before it has content thus you can't set it's style before you write something in the document.  For Safari -khtml-user-select: none just like Mozilla's -moz-user-select (or in JavaScript target.style.KhtmlUserSelect=""none"";).  Absolutely position divs over the text area with a z-index higher and give these divs a transparent gif background graphic. Note after a bit more thought - You'd need to have these 'covers' be linked so clicking on them would take you to where the tab was supposed to which means you could/should do this with the anchor element set to display:box width and height set as well as the transparent background image. That's a very simple and elegant hack. Great! This is what flickr does This kind of hack is terrible. I'd avoid it personally.  A good rule of thumb: Don't put text on the internet that you don't want copied. Edit: Didn't read the problem correctly. LOL you might be right - certainly future readers might be more interested in text protection If your content is really interesting then there is little you can ultimately do to protect it  In most browsers this can be achieved using CSS: *.unselectable { -moz-user-select: -moz-none; -khtml-user-select: none; -webkit-user-select: none; /* Introduced in IE 10. See http://ie.microsoft.com/testdrive/HTML5/msUserSelect/ */ -ms-user-select: none; user-select: none; } For IE < 10 and Opera you will need to use the unselectable attribute of the element you wish to be unselectable. You can set this using an attribute in HTML: <div id=""foo"" unselectable=""on"" class=""unselectable"">...</div> Sadly this property isn't inherited meaning you have to put an attribute in the start tag of every element inside the <div>. If this is a problem you could instead use JavaScript to do this recursively for an element's descendants: function makeUnselectable(node) { if (node.nodeType == 1) { node.setAttribute(""unselectable"" ""on""); } var child = node.firstChild; while (child) { makeUnselectable(child); child = child.nextSibling; } } makeUnselectable(document.getElementById(""foo"")); you can use this selector [unselectable=on]{...} then you avoid putting extra class According to http://dev.l-c-n.com/CSS3-selectors/browser-support.php  this selector should be supported in IE8 and above and possibly IE7. @JoeCoder: Yes I believe attribute selectors do work in IE 7 although not IE 6. confirmed for ie7! this is phenomenal Just curious is there an advantage to using *.unselectable over .unselectable in the stylesheet? @BrianMortenson: None at all: they are equivalent. I have a very old habit of including the `*` in that kind of selector to remind myself explicitly that I'm matching all tag names. However I no longer find it helpful and it's now just pure habit so I've pretty much stopped doing it now. @ericsoco: Yeah. It's an interesting issue: if others have posted answers that people are upvoting and I think I have a better answer should I post it? The system still allows people to find view and vote on answers to closed questions after all. I can't deny that desire for rep has occasionally motivated me to add an answer to a duplicate question on a pet subject rather than vote to close it. funny that @TimDown harvested another 113 rep by copying his answer from this question's duplicate. oh wait! 114 ;) of course you should and of course you should post your answers everywhere they can be found. the point of answering ultimately is not about rep -- it's about providing answers in places they can be found. i'm all for it. @venimus I would favor classes over xpath selectors like [unselectable=on] in CSS. In jquery they're good if you narrow down to an immediate container first but in CSS selectors are parsed right to left so it's still a blanket check of every element and every element's unselectable attribute using the performance-meh xpath engine. Likewise I believe with the querySelector API which I'm guessing typically hooks into the CSS/xpath selector engines directly. This may change over time as browsers find perf tweaks but I would definitely keep this in mind when supporting IE<=8 maybe <=9. Probably you are right but I think early optimizations are evil. Also you won't need the JS if you use [unselectable=on] * {...} @venimus: You can't avoid the JS if you want IE <= 9 support and don't want to put `unselectable=""on""` on every element. All you can avoid with your selector is adding `class=""unselectable""`.  No one here and posted an answer with all of the correct css variations so here it is: -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;  For firefox you can apply the CSS declaration ""-moz-user-select"" to ""none"" Check out their docs: http://developer.mozilla.org/En/CSS/-moz-user-select It's a ""preview"" of the future ""user-select"" as they say so maybe opera or webkit-based browsers will support that. I also recall finding something for IE but don't remember what :). Anyway unless it's a specific situation where text-selecting makes some dynamic functionality fail you shouldn't really override what users are expecting from a webpage and that is being able to select any text they want. Likewise in Safari/Chrome/etc. -khtml-user-select:none; Is this likely to appear in the CSS standards though?  Try this: <div onselectstart=""return false"">some stuff</div> Simple but effective... works in current versions of all major browsers. This doesn't work for me in firefox. This is IE only attribute. which makes it redundant. Worked perfectly for our app (we only target IE users).",0.021206660337042153,0.9656360865567314,0.013157253106226561
53256,"Getting closest element by id I have two elements: <input a> <input b onclick=""...""> When b is clicked I want to access a and manipulate some of its data. A does not have a globally unique name so document.getElementsByName is out. Looking into the event object I thought event.target.parentNode would have some function like getElementsByName but this does not seem to be the case with <td>s. Is there any simple way to do this? You should be able to find the element that was clicked from the event object. Depending on your browser you might want e.target or e.srcElement. The code below is from this w3schools example: function whichElement(e) { var targ; if (!e) var e = window.event; if (e.target) { targ=e.target; } else if (e.srcElement) { targ = e.srcElement; } if (targ.nodeType==3) { // defeat Safari bug targ = targ.parentNode; } var tname; tname = targ.tagName; alert(""You clicked on a "" + tname + "" element.""); } You may then use the nextSibling and prevSibling DOM traversal functions. Some more information here. And yet again a w3schools reference for XML DOM Nodes.  Prototype also has nice functions to move around in the DOM. In your example something like the following would do the trick: b.up().down('a') And if there are is more than one a element at that level you have the power of CSS selectors at your hand to specify exactly which element you want  Leave your plain vanilla JavaScript behind. Get JQuery--it will save you a ton of time. http://docs.jquery.com/Selectors  If 'a' and 'b' are next to each other and have the same parent you can use the prevSibling property of 'b' to find 'a'.",0.03344569211160314,0.9435118653506681,0.023042442537728743
79850,"How do you design data models for Bigtable/Datastore (GAE)? Since the Google App Engine Datastore is based on Bigtable and we know that's not a relational database how do you design a database schema/*data model* for applications that use this type of database system? See [this question](http://stackoverflow.com/questions/103727/how-to-think-in-data-stores-instead-of-databases) which asks more or less the same thing. As GAE builds on how data is managed in Django there is a lot of info on how to address similar questions in the Django documentation (for example see here scroll down to 'Your first model'). In short you design you db model as a regular object model and let GAE sort out all of the object-relational mappings. very bad piece of advice... Django works only on relational databases. If you want to see some practices theres a djano-nonrel which may provide inspiration...  You can use www.web2py.com. You build the model and the application once and it works on GAE but also witl SQLite MySQL Posgres Oracle MSSQL FireBird That is only technically correct. A regular schema-based relational database may work on GAE once you eliminate ORs and JOINs. But it is very far from being designed to fit GAE and so is other wise...  Designing a bigtable schema is an open process and basically requires you to think about: The access patterns you will be using and how often each will be used The relationships between your types What indices you are going to need The write patterns you will be using (in order to effectively spread load) GAE's datastore automatically denormalizes your data. That is each index contains a (mostly) complete copy of the data and thus every index adds significantly to time taken to perform a write and the storage space used. If this were not the case designing a Datastore schema would be a lot more work: You would have to think carefully about the primary key for each type and consider the effect of your decision on the locality of data. For example when rendering a blog post you would probably need to display the comments to go along with it so each comment's key would probably begin with the associated post's key. With Datastore this is not such a big deal: The query you use will look something like ""Select * FROM Comment WHERE post_id = N."" (If you want to page the comments you would also have a limit clause and a possible suffix of "" AND comment_id > last_comment_id"".) Once you add such a query Datastore will build the index for you and your reads will be magically fast. Something to keep in mind is that each additional index creates some additional cost: it is best if you can use as few access patterns as possible since it will reduce the number of indices GAE will construct and thus the total storage required by your data. Reading over this answer I find it a little vague. Maybe a hands-on design question would help to scope this down? :-) I've read somewhere that each index contains a copy of _all_ fields to be returned; however the docs now state that only those columns that affect the index are stored within it. AFAICT there is nowhere that states if an index read is a simple scan or scan + lookup. Have you seen anything on that? The GAE datastore doesn't ""automatically denormalise your data"". It automatically _indexes_ most columns but that's totally different. The datastore also doesn't automatically create indexes for you - the dev appserver does. If you fail to exercise a particular query in the dev appserver then it won't add the appropriate entry to indexes.yaml and the query will fail when deployed.",0.6556493459569213,0.07864804816414489,0.265702605878934
83279,"Best way to implement a 3-column website using tags? I'm developing a 3-column website using a layout like this:  <div id='left' style='left: 0; width: 150px; '> ... </div> <div id='middle' style='left: 150px; right: 200px' > ... </div> <div id='right' style='right: 0; width: 200px; '> ... </div> But considering the default CSS 'position' property of <DIV>'s is 'static' my <DIV>'s were shown one below the other as expected. So I set the CSS property 'position' to 'relative' and changed the 'top' property of the 'middle' and 'right' <DIV>'s to -(minus) the height of the preceding <DIV>. It worked fine but this approach brought me two problems: 1) Even though Internet Explorer 7 shows three columns properly it still keeps the vertical scrollbar as if the <DIV>'s were positioned one below the other and there is a lot of white space after the content is over. I would'n like to have that. 2) The height of these elements is variable so I don't really know which value to set for each <DIV>'s 'top' property; and I wouldn't like to hardcode it. So my question is what would be the best (simple + elegant) way to implement this layout? I would like to avoid absolute positioning  and I also to keep my design tableless. If you haven't already checked out A List Apart you should as it contains some excellent tutorials and guidelines for website design. This article in particular should help you out.  This code work on my computer with IE 8 Chrome Firefox. <!DOCTYPE HTML PUBLIC""-//W3C//DTD HTML 4.01//EN""> <html> <head> <title> Test </title> </head> <body> <div id=""grad2"" style=""width:15%; height:100%; position:fixed; top:0px; left:0px; background-color:rgb(1478173);""> <a href=""http://abv.bg""> Column1 </a> </div> <div id=""grad4"" style=""width:70%; height:100%; position:fixed; top:0px; left:15%; background-color:rgb(000);""> <font color=""#FFFFFF"">Column 2 </font> </div> <div id=""grad3"" style=""width:100%; height:100%; position:fixed; top:0px; left:85%; background-color:rgb(602554);""> <a href=""http://abv.bg""> Column 3 </a> </div> </body> </html>  Try floating the div's to the left that will keep them all on the same line - assuming there is enough spacing.  Firstly relative positioning does what you've described: it reserves space in the original location but displays the DIV offset by some amount. If you float the DIVs then they will stack left-to-right but this can cause problems. A three-column layout using CSS is quite hard. Have a look at [http://www.glish.com/css/7.asp]  Give BluePrint CSS a try. It is really simple to get started with yet powerful enough for most applications. Easy to understand tutorials and examples. Has a typography library that produces decent results straight out of the box.  By far the easiest way that I have found to do 3 columns (or any other number of columns split over the available space in weird ways) is YUI Grids. There is a YUI Grids Builder to give you the basic layout. The following will give you a 750px wide basic 3 column layout (split 1/3 1/3 1/3) with a 160px left sidebar. Changing it to to other widths sidebar configs and column splits is really easy. 1 <!DOCTYPE HTML PUBLIC ""-//W3C//DTD HTML 4.01//EN"" 2 ""http://www.w3.org/TR/html4/strict.dtd""> 3 <html> 4 <head> 5 <title>YUI Base Page</title> 6 <link rel=""stylesheet"" href=""http://yui.yahooapis.com/2.5.1/build/reset-fonts-grids/reset-fonts-grids.css"" type=""text/css""> 7 </head> 8 <body> 9 <div id=""doc"" class=""yui-t1""> 10 <div id=""hd""><h1>YUI: CSS Grid Builder</h1></div> 11 <div id=""bd""> 12 <div id=""yui-main""> 13 <div class=""yui-b""> <div class=""yui-gb""> 14 <div class=""yui-u first""> 15 <!-- YOUR DATA GOES HERE --> 16 </div> 17 <div class=""yui-u""> 18 <!-- YOUR DATA GOES HERE --> 19 </div> 20 <div class=""yui-u""> 21 <!-- YOUR DATA GOES HERE --> 22 </div> 23 </div> 24 </div> 25 </div> 26 <div class=""yui-b""><!-- YOUR NAVIGATION GOES HERE --></div> 27 28 </div> 29 <div id=""ft"">Footer is here.</div> 30 </div> 31 </body> 32 </html> Good answer. I've been toying with the YUI builder the past couple of days and have to say that it is capable of creating a 2 or 3 column layout but be prepared from what I can tell to get the correct layout it's all or nothing with regards to their CSS which under some circumstances wipe out your CSS  For fixed coloumn just set height:xxxpx will make them equal. Use this 3 column layout generator to try.  I like 960 Grid System. It's a lightweight easy to use css which devides the screen into 12 (or 16) columns. You can use it for a 3 column design and align the rest of your content accordingly.  There are a number of examples and libraries out there you can search on - a couple already listed (A List Apart is a must read). I've used the Yahoo User Interface Library (YUI) on my last couple of sites and really like it. Yahoo completely supports it and it's quick to understand and use. Here is there CSS for Grids which allows you to format your page into as many columns and sections as you want. YUI is nice because you don't have to reinvent the wheel for the foundation of your site and they do all the work of making sure their foundations work across all browsers. And best of all it's free.",0.022794975130146323,0.9713384054020205,0.0058666194678331385
62832,Reading data from a log file as a separate application is writing to it I would like to monitor a log file that is being written to by an application. I want to process the file line by line as or shortly after it is written. I have not found a way of detecting that a file has been extended after reaching eof. The code needs to work on Mac and PC and can be in any language though I am most familiar with C++ and Perl. Does anybody have a suggestion for the best way to do it? I'd have thought outputting the actions via tee and thence tail'ing (or using the loop above) the file created by tee some use.  In Perl the File::Tail module does exactly what you need.  For Java see this excellent article http://www.informit.com/guides/content.aspx?g=java&seqNum=226  You should be able to use read the standard io from tail -f  A generic enough answer: Most languages on EOF return that no data were read. You can re-try reading after an interval and if the file has grown since this time the operating system will return data.  The essense of tail -f is the following loop: open IN $file; while(1) { my $line = <IN>; if($line) { #process line... } else { sleep(1); seek(IN01); } } close IN; The seek call is to clear the EOF flag.,0.06511449831651098,0.16537054778025248,0.7695149539032364
64213,What is the most useful multi-purpose open-source library for java? Are there any open-source libraries that all programmers should know about? I'm thinking something general a sort of extension to the standard java.util that contains basic functions that are useful for all kinds of application. This question probably should be edited to request 1 library per answer so that voting works. Functional Java offers first-class function values immutable lists/arrays lazy/infinite streams tuple types either types optional values (type-safe alternative to null). Works well in conjunction with Google Collections or the java.util collections. It also provides handy concurrency abstractions like parallel strategies parallel list/array functors actor concurrency and composable light-weight processes.  JXL for Excel workbook creation/edition. I work in a bank and the multipurpose report tool for diary work is Excel. Whatever appliction we do must import/export from/to Excel. The only fail it's that it has memory problems with large workbooks and formating it's a little obscure  Google Collections migrated to great Guava Libraries . It contains some common utilities string matcher splitter joiner IO utils etc.  It might be worth saying that the first thing to do is get to know the libraries in the newer versions of Java. A lot of ideas have worked their way back into java - java.util.concurrent java.nio and javax.xml  Apache's Jakarta Commons.  Apache Commons Log4j Google collections I (heart) apache commons!  The Google Collections API is pretty handy if you use lots of well Collections... Guava library now  Lately I was trying to find answer to this question. I made some data analysis for this you can find results here and here.  Take a look at jmate project. It contains really helpful methods for strings collections and IO operations (for now). Look some examples here.  The Spring framework is surprisingly general purpose. I started by just using it as a configuration management tool but then realized how helpful dependency injection is when doing test-driven development. Then I slowly discovered many useful modules hidden in the corners of Spring.  lambdaj is a thread safe library of static methods that provides an internal DSL to manipulate collections in a pseudo-functional and statically typed way without explicitly iterating on them. It eliminates the burden to write (often poorly readable) loops while iterating over collections.  Here is a good start. http://java-sources.org/,0.4425075140866903,0.02600132286098957,0.53149116305232
53786,"How do i generate a histogram for a given probability distribution (for functional testing a server)? I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5 2))] += 1 timeline = [] day = start_date for ifreq in sorted(freqs.iteritems()): timeline.append((day freq)) day += timedelta(days=1) return timeline What better ways are there to do this? This algorithm always returns the expected number of responses but it usually won't fit them exactly between the start and end dates I'm not sure this is possible unless I manually mess with the frequencies? They're not guaranteed to be fitted between the start and end dates because you're using a probability distribution with infinite support. As long as you use the random number returned from the distribution unchanged as a key you're going to have this problem. Slightly longer but probably more readable rework of your last four lines: samples = [0 for i in xrange(how_many_days + 1)] for s in xrange(how_many_responses): samples[min(int(how_many_days * weibullvariate(0.5 2)) how_many_days)] += 1 histogram = zip(timeline samples) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for dc in histogram) This always drops the samples within the date range but you get a corresponding bump at the end of the timeline from all of the samples that are above the [0 1] range. Nice i like it. I always try to stuff things in iterators but this is definitely easier to read :-)  Why don't you try The Grinder 3 to load test your server it comes with all this and more prebuilt and it supports python as a scripting language Well unfortunately this is function is going to be used in some functional tests as well so I'd love to keep it all in family as much as possible. Maybe simulation is a better description than load testing  This is quick and probably not that accurate but if you calculate the PDF yourself then at least you make it easier to lay several smaller/larger ones on a single timeline. dev is the std deviation in the Guassian noise which controls the roughness. Note that this is not the 'right' way to generate what you want but it's easy. import math from datetime import datetime timedelta date from random import gauss how_many_responses = 1000 start_date = date(2008 5 1) end_date = date(2008 6 1) num_days = (end_date - start_date).days + 1 timeline = [start_date + timedelta(i) for i in xrange(num_days)] def weibull(x k l): return (k / l) * (x / l)**(k-1) * math.e**(-(x/l)**k) dev = 0.1 samples = [i * 1.25/(num_days-1) for i in range(num_days)] probs = [weibull(i 2 0.5) for i in samples] noise = [gauss(0 dev) for i in samples] simdata = [max(0. e + n) for (e n) in zip(probs noise)] events = [int(p * (how_many_responses / sum(probs))) for p in simdata] histogram = zip(timeline events) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for dc in histogram) Great the distribution looks much better the one generated via simulation.  Another solution is to use Rpy which puts all of the power of R (including lots of tools for distributions) easily into Python.  Instead of giving the number of requests as a fixed value why not use a scaling factor instead? At the moment you're treating requests as a limited quantity and randomising the days on which those requests fall. It would seem more reasonable to treat your requests-per-day as independent. from datetime import * from random import * timeline = [] scaling = 10 start_date = date(2008 5 1) end_date = date(2008 6 1) num_days = (end_date - start_date).days + 1 days = [start_date + timedelta(i) for i in range(num_days)] requests = [int(scaling * weibullvariate(0.5 2)) for i in range(num_days)] timeline = zip(days requests) timeline This function doesn't seem to produce the shape I'm looking for. If you check the wikipedia article I chose the red curve that ramps up fast and then trails off over time as seems to model page views initially high but then people lose interest in the new content over time. In fact the whole point (from my perspective :-) is that the number of requests depends on the day. I'm not just trying to model random loads across a period of time. Okay but what you're doing now is just approximating the distribution. Why not use the distribution itself or the distribution plus some noise? As it stands you're modelling a history-dependent process without using any history. Well that's pretty much my question how do I generate the distribution + noise preferably using stdlib functions? I could write my own PDF function and evaluate + perturb at each point...but that seems harder than writing this approximation.  I rewrote the code above to be shorter (but maybe it's too obfuscated now?) timeline = (start_date + timedelta(days=days) for days in count(0)) how_many_days = (end_date - start_date).days pick_a_day = lambda _:int(how_many_days * weibullvariate(0.5 2)) days = sorted(imap(pick_a_day xrange(how_many_responses))) histogram = zip(timeline (len(list(responses)) for day responses in groupby(days))) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for dc in histogram) These are the imports for the function above: from datetime import datetimetimedelta from random import weibullvariate from itertools import imapcountgroupby how_many_responses = 100 start_date = date(2008 5 1) end_date = date(2008 6 1)",0.8752762238225384,0.011109218363415118,0.11361455781404638
